!function(o){"use strict";function t(){var t=document.createElement("mm"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}function e(n){return this.each(function(){var t=o(this),e=t.data("mm"),i=o.extend({},a.DEFAULTS,t.data(),"object"==typeof n&&n);e||t.data("mm",e=new a(this,i)),"string"==typeof n&&e[n]()})}o.fn.emulateTransitionEnd=function(t){var e=!1,i=this;o(this).one("mmTransitionEnd",function(){e=!0});var n=function(){e||o(i).trigger(s.end)};return setTimeout(n,t),this};var s=t();s&&(o.event.special.mmTransitionEnd={bindType:s.end,delegateType:s.end,handle:function(t){return o(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}});var a=function(t,e){this.$element=o(t),this.options=o.extend({},a.DEFAULTS,e),this.transitioning=null,this.init()};a.TRANSITION_DURATION=350,a.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active"},a.prototype.init=function(){var r=this,s=this.options.activeClass;this.$element.find("li."+s).has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not("."+s).has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li."+s).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(t){var e=o(this),i=e.parent("li"),n=i.children("ul");return t.preventDefault(),i.hasClass(s)?r.hide(n):r.show(n),r.options.doubleTapToGo&&r.doubleTapToGo(e)&&"#"!==e.attr("href")&&""!==e.attr("href")?(t.stopPropagation(),void(document.location=e.attr("href"))):void 0})},a.prototype.doubleTapToGo=function(t){var e=this.$element;return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(e.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0},a.prototype.show=function(t){var e=this.options.activeClass,i=o(t),n=i.parent("li");if(!this.transitioning&&!i.hasClass("in")){n.addClass(e),this.options.toggle&&this.hide(n.siblings().children("ul.in")),i.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var r=function(){i.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return s?void i.one("mmTransitionEnd",o.proxy(r,this)).emulateTransitionEnd(a.TRANSITION_DURATION).height(i[0].scrollHeight):r.call(this)}},a.prototype.hide=function(t){var e=this.options.activeClass,i=o(t);if(!this.transitioning&&i.hasClass("in")){i.parent("li").removeClass(e),i.height(i.height())[0].offsetHeight,i.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,i.removeClass("collapsing").addClass("collapse")};return s?void i.height(0).one("mmTransitionEnd",o.proxy(n,this)).emulateTransitionEnd(a.TRANSITION_DURATION):n.call(this)}};var i=o.fn.metisMenu;o.fn.metisMenu=e,o.fn.metisMenu.Constructor=a,o.fn.metisMenu.noConflict=function(){return o.fn.metisMenu=i,this}}(jQuery);(function(_){_.fn.extend({slimScroll:function(w){var x=_.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},w);this.each(function(){function e(t){if(r){t=t||window.event;var e=0;t.wheelDelta&&(e=-t.wheelDelta/120);t.detail&&(e=t.detail/3);_(t.target||t.srcTarget||t.srcElement).closest("."+x.wrapperClass).is(g.parent())&&n(e,!0);t.preventDefault&&!p&&t.preventDefault();p||(t.returnValue=!1)}}function n(t,e,i){p=!1;var n=t,r=g.outerHeight()-v.outerHeight();e&&(n=parseInt(v.css("top"))+t*parseInt(x.wheelStep)/100*v.outerHeight(),n=Math.min(Math.max(n,0),r),n=0<t?Math.ceil(n):Math.floor(n),v.css({top:n+"px"}));d=parseInt(v.css("top"))/(g.outerHeight()-v.outerHeight());n=d*(g[0].scrollHeight-g.outerHeight());i&&(n=t,t=n/g[0].scrollHeight*g.outerHeight(),t=Math.min(Math.max(t,0),r),v.css({top:t+"px"}));g.scrollTop(n);g.trigger("slimscrolling",~~n);s();o()}function i(){c=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),30);v.css({height:c+"px"});var t=c==g.outerHeight()?"none":"block";v.css({display:t})}function s(){i();clearTimeout(h);d==~~d?(p=x.allowPageScroll,f!=d&&g.trigger("slimscroll",0==~~d?"top":"bottom")):p=!1;f=d;c>=g.outerHeight()?p=!0:(v.stop(!0,!0).fadeIn("fast"),x.railVisible&&y.stop(!0,!0).fadeIn("fast"))}function o(){x.alwaysVisible||(h=setTimeout(function(){x.disableFadeOut&&r||a||l||(v.fadeOut("slow"),y.fadeOut("slow"))},1e3))}var r,a,l,h,u,c,d,f,p=!1,g=_(this);if(g.parent().hasClass(x.wrapperClass)){var m=g.scrollTop(),v=g.closest("."+x.barClass),y=g.closest("."+x.railClass);i();if(_.isPlainObject(w)){if("height"in w&&"auto"==w.height){g.parent().css("height","auto");g.css("height","auto");var b=g.parent().parent().height();g.parent().css("height",b);g.css("height",b)}if("scrollTo"in w)m=parseInt(x.scrollTo);else if("scrollBy"in w)m+=parseInt(x.scrollBy);else if("destroy"in w){v.remove();y.remove();g.unwrap();return}n(m,!1,!0)}}else if(!(_.isPlainObject(w)&&"destroy"in w)){x.height="auto"==x.height?g.parent().height():x.height;m=_("<div></div>").addClass(x.wrapperClass).css({position:"relative",overflow:"hidden",width:x.width,height:x.height});g.css({overflow:"hidden",width:x.width,height:x.height});var y=_("<div></div>").addClass(x.railClass).css({width:x.size,height:"100%",position:"absolute",top:0,display:x.alwaysVisible&&x.railVisible?"block":"none","border-radius":x.railBorderRadius,background:x.railColor,opacity:x.railOpacity,zIndex:90}),v=_("<div></div>").addClass(x.barClass).css({background:x.color,width:x.size,position:"absolute",top:0,opacity:x.opacity,display:x.alwaysVisible?"block":"none","border-radius":x.borderRadius,BorderRadius:x.borderRadius,MozBorderRadius:x.borderRadius,WebkitBorderRadius:x.borderRadius,zIndex:99}),b="right"==x.position?{right:x.distance}:{left:x.distance};y.css(b);v.css(b);g.wrap(m);g.parent().append(v);g.parent().append(y);x.railDraggable&&v.bind("mousedown",function(e){var i=_(document);l=!0;t=parseFloat(v.css("top"));pageY=e.pageY;i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY;v.css("top",currTop);n(0,v.position().top,!1)});i.bind("mouseup.slimscroll",function(t){l=!1;o();i.unbind(".slimscroll")});return!1}).bind("selectstart.slimscroll",function(t){t.stopPropagation();t.preventDefault();return!1});y.hover(function(){s()},function(){o()});v.hover(function(){a=!0},function(){a=!1});g.hover(function(){r=!0;s();o()},function(){r=!1;o()});g.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(u=t.originalEvent.touches[0].pageY)});g.bind("touchmove",function(t){p||t.originalEvent.preventDefault();t.originalEvent.touches.length&&(n((u-t.originalEvent.touches[0].pageY)/x.touchScrollStep,!0),u=t.originalEvent.touches[0].pageY)});i();"bottom"===x.start?(v.css({top:g.outerHeight()-v.outerHeight()}),n(0,!0)):"top"!==x.start&&(n(_(x.start).position().top,null,!0),x.alwaysVisible||v.hide());window.addEventListener?(this.addEventListener("DOMMouseScroll",e,!1),this.addEventListener("mousewheel",e,!1)):document.attachEvent("onmousewheel",e)}});return this}});_.fn.extend({slimscroll:_.fn.slimScroll})})(jQuery);(function(a,n,m){var v=function(t,e){var i=n.createElementNS("http://www.w3.org/2000/svg",t);a.each(e,function(t,e){i.setAttribute(t,e)});return i},t="createElementNS"in n&&v("svg",{}).createSVGRect,f=1/(window.devicePixelRatio||1),l=a.fn.peity=function(s,o){t&&this.each(function(){var t=a(this),e=t.data("peity");if(e)s&&(e.type=s),a.extend(e.opts,o);else{var i=l.defaults[s],n={};a.each(t.data(),function(t,e){t in i&&(n[t]=e)});var r=a.extend({},i,n,o),e=new h(t,s,r);t.change(function(){e.draw()}).data("peity",e)}e.draw()});return this},h=function(t,e,i){this.$el=t;this.type=e;this.opts=i},e=h.prototype;e.draw=function(){l.graphers[this.type].call(this,this.opts)};e.fill=function(){var i=this.opts.fill,t=i;a.isFunction(t)||(t=function(t,e){return i[e%i.length]});return t};e.prepare=function(t,e){var i;this.svg?i=a(this.svg).empty():(this.svg=v("svg",{class:"peity"}),this.$el.hide().after(this.svg),i=a(this.svg).data("peity",this));this.svg.setAttribute("height",e);this.svg.setAttribute("width",t);return i};e.values=function(){return a.map(this.$el.text().split(this.opts.delimiter),function(t){return parseFloat(t)})};l.defaults={};l.graphers={};l.register=function(t,e,i){this.defaults[t]=e;this.graphers[t]=i};l.register("pie",{delimiter:null,diameter:16,fill:["#ff9900","#fff4dd","#ffc66e"]},function(t){if(!t.delimiter){var e=this.$el.text().match(/[^0-9\.]/);t.delimiter=e?e[0]:","}e=this.values();if("/"==t.delimiter)var i=e[0],e=[i,m.max(0,e[1]-i)];for(var n=0,i=e.length,r=0;n<i;n++)r+=e[n];for(var t=this.prepare(t.width||t.diameter,t.height||t.diameter),n=t.width(),s=t.height(),t=n/2,s=s/2,o=m.min(t,s),a=m.PI,l=this.fill(),h=-a/2,n=0;n<i;n++){var u=e[n],c=u/r,d;if(0!=c){if(1==c)d=v("circle",{cx:t,cy:s,r:o});else{d=2*c*a;var c=h+d,f=o*m.cos(h)+t,h=o*m.sin(h)+s,p=o*m.cos(c)+t,g=o*m.sin(c)+s;d=v("path",{d:["M",t,s,"L",f,h,"A",o,o,0,d>a?1:0,1,p,g,"Z"].join(" ")});h=c}d.setAttribute("fill",l.call(this,u,n,e));this.svg.appendChild(d)}}});l.register("line",{delimiter:",",fill:"#c6d9fd",height:16,max:null,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},function(t){var e=this.values();1==e.length&&e.push(e[0]);for(var i=m.max.apply(m,e.concat([t.max])),n=m.min.apply(m,e.concat([t.min])),r=this.prepare(t.width,t.height),s=r.width(),r=r.height()-t.strokeWidth,o=s/(e.length-1),i=i-n,a=0==i?r:r/i,l=r+n*a,i=[0,l],h=0;h<e.length;h++)i.push(h*o,r-a*(e[h]-n)+t.strokeWidth/2);i.push(s,l);e=v("polygon",{fill:t.fill,points:i.join(" ")});this.svg.appendChild(e);t.strokeWidth&&(t=v("polyline",{fill:"transparent",points:i.slice(2,i.length-2).join(" "),stroke:t.stroke,"stroke-width":t.strokeWidth,"stroke-linecap":"square"}),this.svg.appendChild(t))});l.register("bar",{delimiter:",",fill:["#4D89F9"],gap:1,height:16,max:null,min:0,width:32},function(t){for(var e=this.values(),i=m.max.apply(m,e.concat([t.max])),n=m.min.apply(m,e.concat([t.min])),r=this.prepare(t.width,t.height),s=r.width(),r=r.height(),o=i-n,a=0==o?0:r/o,t=t.gap,s=(s+t)/e.length,l=this.fill(),h=0;h<e.length;h++){var u=e[h],c=r-a*(u-n),d=a*u;if(0==d){if(d=f,0>=n&&0<i||0==o)c-=f}else 0>d&&(c+=d,d=-d);u=v("rect",{fill:l.call(this,u,h,e),x:h*s,y:c,width:s-t,height:d});this.svg.appendChild(u)}})})(jQuery,document,Math);$(document).ready(function(){if($(this).width()<769){$("body").addClass("body-small")}else{$("body").removeClass("body-small")}import("/insasset/js/plugins/metisMenu/jquery.metisMenu.js").then(function(t){$("#side-menu").metisMenu()});$(".collapse-link").on("click",function(){var t=$(this).closest("div.ibox");var e=$(this).find("i");var i=t.children(".ibox-content");i.slideToggle(200);e.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down");t.toggleClass("").toggleClass("border-bottom");setTimeout(function(){t.resize();t.find("[id^=map-]").resize()},50)});$(".close-link").on("click",function(){var t=$(this).closest("div.ibox");t.remove()});$(".fullscreen-link").on("click",function(){var t=$(this).closest("div.ibox");var e=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode");e.toggleClass("fa-expand").toggleClass("fa-compress");t.toggleClass("fullscreen");setTimeout(function(){$(window).trigger("resize")},100)});$(".close-canvas-menu").on("click",function(){$("body").toggleClass("mini-navbar");SmoothlyMenu()});$("body.canvas-menu .sidebar-collapse").slimScroll({height:"100%",railOpacity:.9});$(".right-sidebar-toggle").on("click",function(){$("#right-sidebar").toggleClass("sidebar-open")});$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10});$(".open-small-chat").on("click",function(){$(this).children().toggleClass("fa-comments").toggleClass("fa-remove");$(".small-chat-box").toggleClass("active")});$(".small-chat-box .content").slimScroll({height:"234px",railOpacity:.4});$(".check-link").on("click",function(){var t=$(this).find("i");var e=$(this).next("span");t.toggleClass("fa-check-square").toggleClass("fa-square-o");e.toggleClass("todo-completed");return false});$(".navbar-minimalize").on("click",function(t){t.preventDefault();$("body").toggleClass("mini-navbar");SmoothlyMenu()});$(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]",container:"body"});function t(){var t=$("body > #wrapper").height()-61;$(".sidebar-panel").css("min-height",t+"px");var e=$("nav.navbar-default").height();var i=$("#page-wrapper").height();if(e>i){$("#page-wrapper").css("min-height",e+"px")}if(e<i){$("#page-wrapper").css("min-height",$(window).height()+"px")}if($("body").hasClass("fixed-nav")){if(e>i){$("#page-wrapper").css("min-height",e+"px")}else{$("#page-wrapper").css("min-height",$(window).height()-60+"px")}}}t();$(window).bind("load",function(){if($("body").hasClass("fixed-sidebar")){$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})}});$(window).scroll(function(){if($(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")){$("#right-sidebar").addClass("sidebar-top")}else{$("#right-sidebar").removeClass("sidebar-top")}});$(window).bind("load resize scroll",function(){if(!$("body").hasClass("body-small")){t()}});$("[data-toggle=popover]").popover();$(".full-height-scroll").slimscroll({height:"100%"})});$(window).bind("resize",function(){if($(this).width()<769){$("body").addClass("body-small")}else{$("body").removeClass("body-small")}});$(document).ready(function(){if(localStorageSupport()){var t=localStorage.getItem("collapse_menu");var e=localStorage.getItem("fixedsidebar");var i=localStorage.getItem("fixednavbar");var n=localStorage.getItem("boxedlayout");var r=localStorage.getItem("fixedfooter");var s=$("body");if(e=="on"){s.addClass("fixed-sidebar");$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})}if(t=="on"){if(s.hasClass("fixed-sidebar")){if(!s.hasClass("body-small")){s.addClass("mini-navbar")}}else{if(!s.hasClass("body-small")){s.addClass("mini-navbar")}}}if(i=="on"){$(".navbar-static-top").removeClass("navbar-static-top").addClass("navbar-fixed-top");s.addClass("fixed-nav")}if(n=="on"){s.addClass("boxed-layout")}if(r=="on"){$(".footer").addClass("fixed")}}});function localStorageSupport(){return"localStorage"in window&&window["localStorage"]!==null}function animationHover(t,e){t=$(t);t.hover(function(){t.addClass("animated "+e)},function(){window.setTimeout(function(){t.removeClass("animated "+e)},2e3)})}function SmoothlyMenu(){if(!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")){$("#side-menu").hide();setTimeout(function(){$("#side-menu").fadeIn(400)},200)}else if($("body").hasClass("fixed-sidebar")){$("#side-menu").hide();setTimeout(function(){$("#side-menu").fadeIn(400)},100)}else{$("#side-menu").removeAttr("style")}}function WinMove(){var t="[class*=col]";var e=".ibox-title";var i="[class*=col]";$(t).sortable({handle:e,connectWith:i,tolerance:"pointer",forcePlaceholderSize:true,opacity:.8}).disableSelection()}(function(f){f.gritter={};f.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3};f.gritter.add=function(e){try{return p.add(e||{})}catch(t){var i="Gritter Error: "+t;typeof console!="undefined"&&console.error?console.error(i,e):alert(i)}};f.gritter.remove=function(t,e){p.removeSpecific(t,e||{})};f.gritter.removeAll=function(t){p.stop(t||{})};var p={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<a class="gritter-close" href="#" tabindex="1">Close Notification</a>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(i){if(typeof i=="string"){i={text:i}}if(i.text===null){throw'You must supply "text" parameter.'}if(!this._is_setup){this._runSetup()}var t=i.title,e=i.text,n=i.image||"",r=i.sticky||false,s=i.class_name||f.gritter.options.class_name,o=f.gritter.options.position,a=i.time||"";this._verifyWrapper();this._item_count++;var l=this._item_count,h=this._tpl_item;f(["before_open","after_open","before_close","after_close"]).each(function(t,e){p["_"+e+"_"+l]=f.isFunction(i[e])?i[e]:function(){}});this._custom_timer=0;if(a){this._custom_timer=a}var u=n!=""?'<img alt="image" src="'+n+'" class="gritter-image" />':"",c=n!=""?"gritter-with-image":"gritter-without-image";if(t){t=this._str_replace("[[title]]",t,this._tpl_title)}else{t=""}h=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[t,e,this._tpl_close,u,this._item_count,c,s],h);if(this["_before_open_"+l]()===false){return false}f("#gritter-notice-wrapper").addClass(o).append(h);var d=f("#gritter-item-"+this._item_count);d.fadeIn(this.fade_in_speed,function(){p["_after_open_"+l](f(this))});if(!r){this._setFadeTimer(d,l)}f(d).bind("mouseenter mouseleave",function(t){if(t.type=="mouseenter"){if(!r){p._restoreItemIfFading(f(this),l)}}else{if(!r){p._setFadeTimer(f(this),l)}}p._hoverState(f(this),t.type)});f(d).find(".gritter-close").click(function(){p.removeSpecific(l,{},null,true);return false});return l},_countRemoveWrapper:function(t,e,i){e.remove();this["_after_close_"+t](e,i);if(f(".gritter-item-wrapper").length==0){f("#gritter-notice-wrapper").remove()}},_fade:function(t,e,i,n){var i=i||{},r=typeof i.fade!="undefined"?i.fade:true,s=i.speed||this.fade_out_speed,o=n;this["_before_close_"+e](t,o);if(n){t.unbind("mouseenter mouseleave")}if(r){t.animate({opacity:0},s,function(){t.animate({height:0},300,function(){p._countRemoveWrapper(e,t,o)})})}else{this._countRemoveWrapper(e,t)}},_hoverState:function(t,e){if(e=="mouseenter"){t.addClass("hover");t.find(".gritter-close").show()}else{t.removeClass("hover");t.find(".gritter-close").hide()}},removeSpecific:function(t,e,i,n){if(!i){var i=f("#gritter-item-"+t)}this._fade(i,t,e||{},n)},_restoreItemIfFading:function(t,e){clearTimeout(this["_int_id_"+e]);t.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in f.gritter.options){this[opt]=f.gritter.options[opt]}this._is_setup=1},_setFadeTimer:function(t,e){var i=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+e]=setTimeout(function(){p._fade(t,e)},i)},stop:function(t){var e=f.isFunction(t.before_close)?t.before_close:function(){};var i=f.isFunction(t.after_close)?t.after_close:function(){};var n=f("#gritter-notice-wrapper");e(n);n.fadeOut(function(){f(this).remove();i()})},_str_replace:function(t,e,i,n){var r=0,s=0,o="",a="",l=0,h=0,u=[].concat(t),c=[].concat(e),d=i,f=c instanceof Array,p=d instanceof Array;d=[].concat(d);if(n){this.window[n]=0}for(r=0,l=d.length;r<l;r++){if(d[r]===""){continue}for(s=0,h=u.length;s<h;s++){o=d[r]+"";a=f?c[s]!==undefined?c[s]:"":c[0];d[r]=o.split(u[s]).join(a);if(n&&d[r]!==o){this.window[n]+=(o.length-d[r].length)/u[s].length}}}return p?d:d[0]},_verifyWrapper:function(){if(f("#gritter-notice-wrapper").length==0){f("body").append(this._tpl_wrap)}}}})(jQuery);(function(D,q,Y){(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)})(function($){"use strict";var o={},t,e,v,z,w,N,O,B,u,_,i,n,s,c,W,d,r,a,A,j,l,h,f,p,x,g,m,y,b,C,k,S,T=0;t=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:Y,normalRangeMax:Y,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:Y,chartRangeMax:Y,chartRangeMinX:Y,chartRangeMaxX:Y,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:Y,nullColor:Y,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:Y,chartRangeMin:Y,chartRangeClip:!1,colorMap:Y,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:Y,thresholdValue:0,chartRangeMax:Y,chartRangeMin:Y,chartRangeClip:!1,tooltipFormat:new v("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:Y,tooltipFormat:new v("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:Y,targetColor:"#4a2",chartRangeMax:Y,chartRangeMin:Y,tooltipFormat:new v("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},g='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',e=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=$.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(e=Array.prototype.slice.call(arguments,1,-1),e.unshift(t.prototype),$.extend.apply($,e))):t.prototype=arguments[0],t.prototype.cls=t,t},$.SPFormatClass=v=e({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var n=this,r=t,s,o,a,l,h;return this.format.replace(this.fre,function(){var t;return o=arguments[1],a=arguments[3],s=n.precre.exec(o),s?(h=s[2],o=s[1]):h=!1,l=r[o],l===Y?"":a&&e&&e[a]?(t=e[a],t.get?e[a].get(l)||l:e[a][l]||l):(u(l)&&(i.get("numberFormatter")?l=i.get("numberFormatter")(l):l=c(l,h,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),l)})}}),$.spformat=function(t,e){return new v(t,e)},z=function(t,e,i){return t<e?e:t>i?i:t},w=function(t,e){var i;return e===2?(i=q.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*e+e)/4,i%1?(t[q.floor(i)]+t[q.floor(i)-1])/2:t[i-1]):(i=(t.length*e+2)/4,i%1?(t[q.floor(i)]+t[q.floor(i)-1])/2:t[i-1])},N=function(t){var e;switch(t){case"undefined":t=Y;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},O=function(t){var e,i=[];for(e=t.length;e--;)i[e]=N(t[e]);return i},B=function(t,e){var i,n,r=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&r.push(t[i]);return r},u=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},c=function(t,e,i,n,r){var s,o;t=(e===!1?parseFloat(t).toString():t.toFixed(e)).split(""),s=(s=$.inArray(".",t))<0?t.length:s,s<t.length&&(t[s]=r);for(o=s-i;o>0;o-=i)t.splice(o,0,n);return t.join("")},_=function(t,e,i){var n;for(n=e.length;n--;){if(i&&e[n]===null)continue;if(e[n]!==t)return!1}return!0},i=function(t){var e=0,i;for(i=t.length;i--;)e+=typeof t[i]=="number"?t[i]:0;return e},s=function(t){return $.isArray(t)?t:[t]},n=function(t){var e;D.createStyleSheet?D.createStyleSheet().cssText=t:(e=D.createElement("style"),e.type="text/css",D.getElementsByTagName("head")[0].appendChild(e),e[typeof D.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=t)},$.fn.simpledraw=function(t,e,i,n){var r,s;if(i&&(r=this.data("_jqs_vcanvas")))return r;if($.fn.sparkline.canvas===!1)return!1;if($.fn.sparkline.canvas===Y){var o=D.createElement("canvas");if(!o.getContext||!o.getContext("2d")){if(!D.namespaces||!!D.namespaces.v)return $.fn.sparkline.canvas=!1,!1;D.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),$.fn.sparkline.canvas=function(t,e,i,n){return new k(t,e,i)}}else $.fn.sparkline.canvas=function(t,e,i,n){return new C(t,e,i,n)}}return t===Y&&(t=$(this).innerWidth()),e===Y&&(e=$(this).innerHeight()),r=$.fn.sparkline.canvas(t,e,this,n),s=$(this).data("_jqs_mhandler"),s&&s.registerCanvas(r),r},$.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},$.RangeMapClass=W=e({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&typeof e=="string"&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=i[0].length===0?-Infinity:parseFloat(i[0]),i[1]=i[1].length===0?Infinity:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e=this.rangelist,i,n,r;if((r=this.map[t])!==Y)return r;if(e)for(i=e.length;i--;){n=e[i];if(n[0]<=t&&n[1]>=t)return n[2]}return Y}}),$.range_map=function(t){return new W(t)},d=e({init:function(t,e){var i=$(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=$(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter($.proxy(this.mouseenter,this)),e.mouseleave($.proxy(this.mouseleave,this)),e.click($.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=Y)},mouseclick:function(t){var e=$.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(t){$(D.body).unbind("mousemove.jqs"),$(D.body).bind("mousemove.jqs",$.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new r(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){$(D.body).unbind("mousemove.jqs");var t=this.splist,e=t.length,i=!1,n,r;this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null);for(r=0;r<e;r++)n=t[r],n.clearRegionHighlight()&&(i=!0);i&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t=this.splist,e=t.length,i=!1,n=this.$canvas.offset(),r=this.currentPageX-n.left,s=this.currentPageY-n.top,o,a,l,h,u;if(!this.over)return;for(l=0;l<e;l++)a=t[l],h=a.setRegionHighlight(this.currentEl,r,s),h&&(i=!0);if(i){u=$.Event("sparklineRegionChange"),u.sparklines=this.splist,this.$el.trigger(u);if(this.tooltip){o="";for(l=0;l<e;l++)a=t[l],o+=a.getCurrentRegionTooltip();this.tooltip.setContent(o)}this.disableHighlight||this.canvas.render()}h===null&&this.mouseleave()}}),r=e({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var e=t.get("tooltipClassname","jqstooltip"),i=this.sizeStyle,n;this.container=t.get("tooltipContainer")||D.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),$("#jqssizetip").remove(),$("#jqstooltip").remove(),this.sizetip=$("<div/>",{id:"jqssizetip",style:i,class:e}),this.tooltip=$("<div/>",{id:"jqstooltip",class:e}).appendTo(this.container),n=this.tooltip.offset(),this.offsetLeft=n.left,this.offsetTop=n.top,this.hidden=!0,$(window).unbind("resize.jqs scroll.jqs"),$(window).bind("resize.jqs scroll.jqs",$.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=$(window).scrollTop(),this.scrollLeft=$(window).scrollLeft(),this.scrollRight=this.scrollLeft+$(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t){this.tooltip.css("visibility","hidden"),this.hidden=!0;return}this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(t===Y){if(this.mousex===Y)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;if(!this.height||!this.width||this.hidden)return;e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e})},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=Y,$(window).unbind("resize.jqs scroll.jqs")}}),m=function(){n(g)},$(m),S=[],$.fn.sparkline=function(h,i){return this.each(function(){var a=new $.fn.sparkline.options(this,i),l=$(this),t,e;t=function(){var t,e,i,n,r,s,o;if(h==="html"||h===Y){o=this.getAttribute(a.get("tagValuesAttribute"));if(o===Y||o===null)o=l.html();t=o.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else t=h;e=a.get("width")==="auto"?t.length*a.get("defaultPixelsPerValue"):a.get("width");if(a.get("height")==="auto"){if(!a.get("composite")||!$.data(this,"_jqs_vcanvas"))n=D.createElement("span"),n.innerHTML="a",l.html(n),i=$(n).innerHeight()||$(n).height(),$(n).remove(),n=null}else i=a.get("height");a.get("disableInteraction")?r=!1:(r=$.data(this,"_jqs_mhandler"),r?a.get("composite")||r.reset():(r=new d(this,a),$.data(this,"_jqs_mhandler",r)));if(a.get("composite")&&!$.data(this,"_jqs_vcanvas")){$.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),$.data(this,"_jqs_errnotify",!0));return}s=new $.fn.sparkline[a.get("type")](this,t,a,e,i),s.render(),r&&r.registerSparkline(s)};if($(this).html()&&!a.get("disableHiddenCheck")&&$(this).is(":hidden")||!$(this).parents("body").length){if(!a.get("composite")&&$.data(this,"_jqs_pending"))for(e=S.length;e;e--)S[e-1][0]==this&&S.splice(e-1,1);S.push([this,t]),$.data(this,"_jqs_pending",!0)}else t.call(this)})},$.fn.sparkline.defaults=t(),$.sparkline_display_visible=function(){var t,e,i,n=[];for(e=0,i=S.length;e<i;e++)t=S[e][0],$(t).is(":visible")&&!$(t).parents().is(":hidden")?(S[e][1].call(t),$.data(S[e][0],"_jqs_pending",!1),n.push(e)):!$(t).closest("html").length&&!$.data(t,"_jqs_pending")&&($.data(S[e][0],"_jqs_pending",!1),n.push(e));for(e=n.length;e;e--)S.splice(n[e-1],1)},$.fn.sparkline.options=e({init:function(t,e){var i,n,r,s;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},n=$.fn.sparkline.defaults,r=n.common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||r.tagOptionsPrefix),s=this.getTagSetting("type"),s===o?i=n[e.type||r.type]:i=n[s],this.mergedOptions=$.extend({},r,i,e)},getTagSetting:function(t){var e=this.tagOptionsPrefix,i,n,r,s;if(e===!1||e===Y)return o;if(this.tagValCache.hasOwnProperty(t))i=this.tagValCache.key;else{i=this.tag.getAttribute(e+t);if(i===Y||i===null)i=o;else if(i.substr(0,1)==="["){i=i.substr(1,i.length-2).split(",");for(n=i.length;n--;)i[n]=N(i[n].replace(/(^\s*)|(\s*$)/g,""))}else if(i.substr(0,1)==="{"){r=i.substr(1,i.length-2).split(","),i={};for(n=r.length;n--;)s=r[n].split(":",2),i[s[0].replace(/(^\s*)|(\s*$)/g,"")]=N(s[1].replace(/(^\s*)|(\s*$)/g,""))}else i=N(i);this.tagValCache.key=i}return i},get:function(t,e){var i=this.getTagSetting(t),n;return i!==o?i:(n=this.mergedOptions[t])===Y?e:n}}),$.fn.sparkline._base=e({disabled:!1,init:function(t,e,i,n,r){this.el=t,this.$el=$(t),this.values=e,this.options=i,this.width=n,this.height=r,this.currentRegion=Y},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var n=this.currentRegion,r=!this.options.get("disableHighlight"),s;return e>this.canvasWidth||i>this.canvasHeight||e<0||i<0?null:(s=this.getRegion(t,e,i),n!==s?(n!==Y&&r&&this.removeHighlight(),this.currentRegion=s,s!==Y&&r&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==Y?(this.removeHighlight(),this.currentRegion=Y,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t=this.options,e="",i=[],n,r,s,o,a,l,h,u,c,d,f,p,g,m;if(this.currentRegion===Y)return"";n=this.getCurrentRegionFields(),f=t.get("tooltipFormatter");if(f)return f(this,t,n);t.get("tooltipChartTitle")&&(e+='<div class="jqs jqstitle">'+t.get("tooltipChartTitle")+"</div>\n"),r=this.options.get("tooltipFormat");if(!r)return"";$.isArray(r)||(r=[r]),$.isArray(n)||(n=[n]),h=this.options.get("tooltipFormatFieldlist"),u=this.options.get("tooltipFormatFieldlistKey");if(h&&u){c=[];for(l=n.length;l--;)d=n[l][u],(m=$.inArray(d,h))!=-1&&(c[m]=n[l]);n=c}s=r.length,g=n.length;for(l=0;l<s;l++){p=r[l],typeof p=="string"&&(p=new v(p)),o=p.fclass||"jqsfield";for(m=0;m<g;m++)if(!n[m].isNull||!t.get("tooltipSkipNull"))$.extend(n[m],{prefix:t.get("tooltipPrefix"),suffix:t.get("tooltipSuffix")}),a=p.render(n[m],t.get("tooltipValueLookups"),t),i.push('<div class="'+o+'">'+a+"</div>")}return i.length?e+i.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var i=e.get("highlightColor"),n=e.get("highlightLighten"),r,s,o,a;if(i)return i;if(n){r=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t);if(r){o=[],s=t.length===4?16:1;for(a=0;a<3;a++)o[a]=z(q.round(parseInt(r[a+1],16)*s*n),0,255);return"rgb("+o.join(",")+")"}}return t}}),a={changeHighlight:function(t){var e=this.currentRegion,i=this.target,n=this.regionShapes[e],r;n&&(r=this.renderRegion(e,t),$.isArray(r)||$.isArray(n)?(i.replaceWithShapes(n,r),this.regionShapes[e]=$.map(r,function(t){return t.id})):(i.replaceWithShape(n,r),this.regionShapes[e]=r.id))},render:function(){var t=this.values,e=this.target,i=this.regionShapes,n,r,s,o;if(!this.cls._super.render.call(this))return;for(s=t.length;s--;){n=this.renderRegion(s);if(n)if($.isArray(n)){r=[];for(o=n.length;o--;)n[o].append(),r.push(n[o].id);i[s]=r}else n.append(),i[s]=n.id;else i[s]=null}e.render()}},$.fn.sparkline.line=A=e($.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){A._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){var n,r=this.regionMap;for(n=r.length;n--;)if(r[n]!==null&&e>=r[n][0]&&e<=r[n][1])return r[n][2];return Y},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.yvalues[t]===null,x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t=this.currentRegion,e=this.target,i=this.vertices[t],n=this.options,r=n.get("spotRadius"),s=n.get("highlightSpotColor"),o=n.get("highlightLineColor"),a,l;if(!i)return;r&&s&&(a=e.drawCircle(i[0],i[1],r,Y,s),this.highlightSpotId=a.id,e.insertAfterShape(this.lastShapeId,a)),o&&(l=e.drawLine(i[0],this.canvasTop,i[0],this.canvasTop+this.canvasHeight,o),this.highlightLineId=l.id,e.insertAfterShape(this.lastShapeId,l))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t=this.values,e=t.length,i=this.xvalues,n=this.yvalues,r=this.yminmax,s,o,a,l,h;for(s=0;s<e;s++)o=t[s],a=typeof t[s]=="string",l=typeof t[s]=="object"&&t[s]instanceof Array,h=a&&t[s].split(":"),a&&h.length===2?(i.push(Number(h[0])),n.push(Number(h[1])),r.push(Number(h[1]))):l?(i.push(o[0]),n.push(o[1]),r.push(o[1])):(i.push(s),t[s]===null||t[s]==="null"?n.push(null):(n.push(Number(o)),r.push(Number(o))));this.options.get("xvalues")&&(i=this.options.get("xvalues")),this.maxy=this.maxyorg=q.max.apply(q,r),this.miny=this.minyorg=q.min.apply(q,r),this.maxx=q.max.apply(q,i),this.minx=q.min.apply(q,i),this.xvalues=i,this.yvalues=n,this.yminmax=r},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");e!==Y&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),t.get("chartRangeMin")!==Y&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==Y&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==Y&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==Y&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,i,n,r){var s=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),a=e+q.round(i-i*((o-this.miny)/r)),l=q.round(i*(o-s)/r);this.target.drawRect(t,a,n,l,Y,this.options.get("normalRangeColor")).append()},render:function(){var t=this.options,e=this.target,i=this.canvasWidth,n=this.canvasHeight,r=this.vertices,s=t.get("spotRadius"),o=this.regionMap,a,l,h,u,c,d,f,p,g,m,v,y,b,w,x,_,C,k,S,T,D,M,P,E,I;if(!A._super.render.call(this))return;this.scanValues(),this.processRangeOptions(),P=this.xvalues,E=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2)return;u=c=0,a=this.maxx-this.minx===0?1:this.maxx-this.minx,l=this.maxy-this.miny===0?1:this.maxy-this.miny,h=this.yvalues.length-1,s&&(i<s*4||n<s*4)&&(s=0);if(s){D=t.get("highlightSpotColor")&&!t.get("disableInteraction");if(D||t.get("minSpotColor")||t.get("spotColor")&&E[h]===this.miny)n-=q.ceil(s);if(D||t.get("maxSpotColor")||t.get("spotColor")&&E[h]===this.maxy)n-=q.ceil(s),u+=q.ceil(s);if(D||(t.get("minSpotColor")||t.get("maxSpotColor"))&&(E[0]===this.miny||E[0]===this.maxy))c+=q.ceil(s),i-=q.ceil(s);if(D||t.get("spotColor")||t.get("minSpotColor")||t.get("maxSpotColor")&&(E[h]===this.miny||E[h]===this.maxy))i-=q.ceil(s)}n--,t.get("normalRangeMin")!==Y&&!t.get("drawNormalOnTop")&&this.drawNormalRange(c,u,n,i,l),f=[],p=[f],w=x=null,_=E.length;for(I=0;I<_;I++)g=P[I],v=P[I+1],m=E[I],y=c+q.round((g-this.minx)*(i/a)),b=I<_-1?c+q.round((v-this.minx)*(i/a)):i,x=y+(b-y)/2,o[I]=[w||0,x,I],w=x,m===null?I&&(E[I-1]!==null&&(f=[],p.push(f)),r.push(null)):(m<this.miny&&(m=this.miny),m>this.maxy&&(m=this.maxy),f.length||f.push([y,u+n]),d=[y,u+q.round(n-n*((m-this.miny)/l))],f.push(d),r.push(d));C=[],k=[],S=p.length;for(I=0;I<S;I++)f=p[I],f.length&&(t.get("fillColor")&&(f.push([f[f.length-1][0],u+n]),k.push(f.slice(0)),f.pop()),f.length>2&&(f[0]=[f[0][0],f[1][1]]),C.push(f));S=k.length;for(I=0;I<S;I++)e.drawShape(k[I],t.get("fillColor"),t.get("fillColor")).append();t.get("normalRangeMin")!==Y&&t.get("drawNormalOnTop")&&this.drawNormalRange(c,u,n,i,l),S=C.length;for(I=0;I<S;I++)e.drawShape(C[I],t.get("lineColor"),Y,t.get("lineWidth")).append();if(s&&t.get("valueSpots")){T=t.get("valueSpots"),T.get===Y&&(T=new W(T));for(I=0;I<_;I++)M=T.get(E[I]),M&&e.drawCircle(c+q.round((P[I]-this.minx)*(i/a)),u+q.round(n-n*((E[I]-this.miny)/l)),s,Y,M).append()}s&&t.get("spotColor")&&E[h]!==null&&e.drawCircle(c+q.round((P[P.length-1]-this.minx)*(i/a)),u+q.round(n-n*((E[h]-this.miny)/l)),s,Y,t.get("spotColor")).append(),this.maxy!==this.minyorg&&(s&&t.get("minSpotColor")&&(g=P[$.inArray(this.minyorg,E)],e.drawCircle(c+q.round((g-this.minx)*(i/a)),u+q.round(n-n*((this.minyorg-this.miny)/l)),s,Y,t.get("minSpotColor")).append()),s&&t.get("maxSpotColor")&&(g=P[$.inArray(this.maxyorg,E)],e.drawCircle(c+q.round((g-this.minx)*(i/a)),u+q.round(n-n*((this.maxyorg-this.miny)/l)),s,Y,t.get("maxSpotColor")).append())),this.lastShapeId=e.getLastShapeId(),this.canvasTop=u,e.render()}}),$.fn.sparkline.bar=j=e($.fn.sparkline._base,a,{type:"bar",init:function(t,e,i,n,r){var s=parseInt(i.get("barWidth"),10),o=parseInt(i.get("barSpacing"),10),a=i.get("chartRangeMin"),l=i.get("chartRangeMax"),h=i.get("chartRangeClip"),u=Infinity,c=-Infinity,d,f,p,g,m,v,y,b,w,x,_,C,k,S,T,D,M,P,E,I,A,H,R;j._super.init.call(this,t,e,i,n,r);for(v=0,y=e.length;v<y;v++){I=e[v],d=typeof I=="string"&&I.indexOf(":")>-1;if(d||$.isArray(I))T=!0,d&&(I=e[v]=O(I.split(":"))),I=B(I,null),f=q.min.apply(q,I),p=q.max.apply(q,I),f<u&&(u=f),p>c&&(c=p)}this.stacked=T,this.regionShapes={},this.barWidth=s,this.barSpacing=o,this.totalBarWidth=s+o,this.width=n=e.length*s+(e.length-1)*o,this.initTarget(),h&&(k=a===Y?-Infinity:a,S=l===Y?Infinity:l),m=[],g=T?[]:m;var L=[],F=[];for(v=0,y=e.length;v<y;v++)if(T){D=e[v],e[v]=E=[],L[v]=0,g[v]=F[v]=0;for(M=0,P=D.length;M<P;M++)I=E[M]=h?z(D[M],k,S):D[M],I!==null&&(I>0&&(L[v]+=I),u<0&&c>0?I<0?F[v]+=q.abs(I):g[v]+=I:g[v]+=q.abs(I-(I<0?c:u)),m.push(I))}else I=h?z(e[v],k,S):e[v],I=e[v]=N(I),I!==null&&m.push(I);this.max=C=q.max.apply(q,m),this.min=_=q.min.apply(q,m),this.stackMax=c=T?q.max.apply(q,L):C,this.stackMin=u=T?q.min.apply(q,m):_,i.get("chartRangeMin")!==Y&&(i.get("chartRangeClip")||i.get("chartRangeMin")<_)&&(_=i.get("chartRangeMin")),i.get("chartRangeMax")!==Y&&(i.get("chartRangeClip")||i.get("chartRangeMax")>C)&&(C=i.get("chartRangeMax")),this.zeroAxis=w=i.get("zeroAxis",!0),_<=0&&C>=0&&w?x=0:w==0?x=_:_>0?x=_:x=C,this.xaxisOffset=x,b=T?q.max.apply(q,g)+q.max.apply(q,F):C-_,this.canvasHeightEf=w&&_<0?this.canvasHeight-2:this.canvasHeight-1,_<x?(H=T&&C>=0?c:C,A=(H-x)/b*this.canvasHeight,A!==q.ceil(A)&&(this.canvasHeightEf-=2,A=q.ceil(A))):A=this.canvasHeight,this.yoffset=A,$.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===Y&&(this.colorMapByValue=new W(this.colorMapByValue))),this.range=b},getRegion:function(t,e,i){var n=q.floor(e/this.totalBarWidth);return n<0||n>=this.values.length?Y:n},getCurrentRegionFields:function(){var t=this.currentRegion,e=s(this.values[t]),i=[],n,r;for(r=e.length;r--;)n=e[r],i.push({isNull:n===null,value:n,color:this.calcColor(r,n,t),offset:t});return i},calcColor:function(t,e,i){var n=this.colorMapByIndex,r=this.colorMapByValue,s=this.options,o,a;return this.stacked?o=s.get("stackedBarColor"):o=e<0?s.get("negBarColor"):s.get("barColor"),e===0&&s.get("zeroColor")!==Y&&(o=s.get("zeroColor")),r&&(a=r.get(e))?o=a:n&&n.length>i&&(o=n[i]),$.isArray(o)?o[t%o.length]:o},renderRegion:function(t,e){var i=this.values[t],n=this.options,r=this.xaxisOffset,s=[],o=this.range,a=this.stacked,l=this.target,h=t*this.totalBarWidth,u=this.canvasHeightEf,c=this.yoffset,d,f,p,g,m,v,y,b,w,x;i=$.isArray(i)?i:[i],y=i.length,b=i[0],g=_(null,i),x=_(r,i,!0);if(g)return n.get("nullColor")?(p=e?n.get("nullColor"):this.calcHighlightColor(n.get("nullColor"),n),d=c>0?c-1:c,l.drawRect(h,d,this.barWidth-1,0,p,p)):Y;m=c;for(v=0;v<y;v++){b=i[v];if(a&&b===r){if(!x||w)continue;w=!0}o>0?f=q.floor(u*(q.abs(b-r)/o))+1:f=1,b<r||b===r&&c===0?(d=m,m+=f):(d=c-f,c-=f),p=this.calcColor(v,b,t),e&&(p=this.calcHighlightColor(p,n)),s.push(l.drawRect(h,d,this.barWidth-1,f-1,p,p))}return s.length===1?s[0]:s}}),$.fn.sparkline.tristate=l=e($.fn.sparkline._base,a,{type:"tristate",init:function(t,e,i,n,r){var s=parseInt(i.get("barWidth"),10),o=parseInt(i.get("barSpacing"),10);l._super.init.call(this,t,e,i,n,r),this.regionShapes={},this.barWidth=s,this.barSpacing=o,this.totalBarWidth=s+o,this.values=$.map(e,Number),this.width=n=e.length*s+(e.length-1)*o,$.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===Y&&(this.colorMapByValue=new W(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,i){return q.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===Y,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i=this.values,n=this.options,r=this.colorMapByIndex,s=this.colorMapByValue,o,a;return s&&(a=s.get(t))?o=a:r&&r.length>e?o=r[e]:i[e]<0?o=n.get("negBarColor"):i[e]>0?o=n.get("posBarColor"):o=n.get("zeroBarColor"),o},renderRegion:function(t,e){var i=this.values,n=this.options,r=this.target,s,o,a,l,h,u;s=r.pixelHeight,a=q.round(s/2),l=t*this.totalBarWidth,i[t]<0?(h=a,o=a-1):i[t]>0?(h=0,o=a-1):(h=a-1,o=2),u=this.calcColor(i[t],t);if(u===null)return;return e&&(u=this.calcHighlightColor(u,n)),r.drawRect(l,h,this.barWidth-1,o-1,u,u)}}),$.fn.sparkline.discrete=h=e($.fn.sparkline._base,a,{type:"discrete",init:function(t,e,i,n,r){h._super.init.call(this,t,e,i,n,r),this.regionShapes={},this.values=e=$.map(e,Number),this.min=q.min.apply(q,e),this.max=q.max.apply(q,e),this.range=this.max-this.min,this.width=n=i.get("width")==="auto"?e.length*2:this.width,this.interval=q.floor(n/e.length),this.itemWidth=n/e.length,i.get("chartRangeMin")!==Y&&(i.get("chartRangeClip")||i.get("chartRangeMin")<this.min)&&(this.min=i.get("chartRangeMin")),i.get("chartRangeMax")!==Y&&(i.get("chartRangeClip")||i.get("chartRangeMax")>this.max)&&(this.max=i.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight=i.get("lineHeight")==="auto"?q.round(this.canvasHeight*.3):i.get("lineHeight"))},getRegion:function(t,e,i){return q.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===Y,value:this.values[t],offset:t}},renderRegion:function(t,e){var i=this.values,n=this.options,r=this.min,s=this.max,o=this.range,a=this.interval,l=this.target,h=this.canvasHeight,u=this.lineHeight,c=h-u,d,f,p,g;return f=z(i[t],r,s),g=t*a,d=q.round(c-c*((f-r)/o)),p=n.get("thresholdColor")&&f<n.get("thresholdValue")?n.get("thresholdColor"):n.get("lineColor"),e&&(p=this.calcHighlightColor(p,n)),l.drawLine(g,d,g,d+u,p)}}),$.fn.sparkline.bullet=f=e($.fn.sparkline._base,{type:"bullet",init:function(t,e,i,n,r){var s,o,a;f._super.init.call(this,t,e,i,n,r),this.values=e=O(e),a=e.slice(),a[0]=a[0]===null?a[2]:a[0],a[1]=e[1]===null?a[2]:a[1],s=q.min.apply(q,e),o=q.max.apply(q,e),i.get("base")===Y?s=s<0?s:0:s=i.get("base"),this.min=s,this.max=o,this.range=o-s,this.shapes={},this.valueShapes={},this.regiondata={},this.width=n=i.get("width")==="auto"?"4.0em":n,this.target=this.$el.simpledraw(n,r,i.get("composite")),e.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return n!==Y&&this.shapes[n]!==Y?this.shapes[n]:Y},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.valueShapes[e],n;delete this.shapes[i];switch(e.substr(0,1)){case"r":n=this.renderRange(e.substr(1),t);break;case"p":n=this.renderPerformance(t);break;case"t":n=this.renderTarget(t)}this.valueShapes[e]=n.id,this.shapes[n.id]=e,this.target.replaceWithShape(i,n)},renderRange:function(t,e){var i=this.values[t],n=q.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("rangeColors")[t-2];return e&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,r,r)},renderPerformance:function(t){var e=this.values[1],i=q.round(this.canvasWidth*((e-this.min)/this.range)),n=this.options.get("performanceColor");return t&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,q.round(this.canvasHeight*.3),i-1,q.round(this.canvasHeight*.4)-1,n,n)},renderTarget:function(t){var e=this.values[0],i=q.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),n=q.round(this.canvasHeight*.1),r=this.canvasHeight-n*2,s=this.options.get("targetColor");return t&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(i,n,this.options.get("targetWidth")-1,r-1,s,s)},render:function(){var t=this.values.length,e=this.target,i,n;if(!f._super.render.call(this))return;for(i=2;i<t;i++)n=this.renderRange(i).append(),this.shapes[n.id]="r"+i,this.valueShapes["r"+i]=n.id;this.values[1]!==null&&(n=this.renderPerformance().append(),this.shapes[n.id]="p1",this.valueShapes.p1=n.id),this.values[0]!==null&&(n=this.renderTarget().append(),this.shapes[n.id]="t0",this.valueShapes.t0=n.id),e.render()}}),$.fn.sparkline.pie=p=e($.fn.sparkline._base,{type:"pie",init:function(t,e,i,n,r){var s=0,o;p._super.init.call(this,t,e,i,n,r),this.shapes={},this.valueShapes={},this.values=e=$.map(e,Number),i.get("width")==="auto"&&(this.width=this.height);if(e.length>0)for(o=e.length;o--;)s+=e[o];this.total=s,this.initTarget(),this.radius=q.floor(q.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return n!==Y&&this.shapes[n]!==Y?this.shapes[n]:Y},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===Y,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,e){var i=this.target,n=this.options,r=this.radius,s=n.get("borderWidth"),o=n.get("offset"),a=2*q.PI,l=this.values,h=this.total,u=o?2*q.PI*(o/360):0,c,d,f,p,g;p=l.length;for(f=0;f<p;f++){c=u,d=u,h>0&&(d=u+a*(l[f]/h));if(t===f)return g=n.get("sliceColors")[f%n.get("sliceColors").length],e&&(g=this.calcHighlightColor(g,n)),i.drawPieSlice(r,r,r-s,c,d,Y,g);u=d}},render:function(){var t=this.target,e=this.values,i=this.options,n=this.radius,r=i.get("borderWidth"),s,o;if(!p._super.render.call(this))return;r&&t.drawCircle(n,n,q.floor(n-r/2),i.get("borderColor"),Y,r).append();for(o=e.length;o--;)e[o]&&(s=this.renderSlice(o).append(),this.valueShapes[o]=s.id,this.shapes[s.id]=o);t.render()}}),$.fn.sparkline.box=x=e($.fn.sparkline._base,{type:"box",init:function(t,e,i,n,r){x._super.init.call(this,t,e,i,n,r),this.values=$.map(e,Number),this.width=i.get("width")==="auto"?"4.0em":n,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==Y&&t.push({field:"lo",value:this.loutlier}),this.routlier!==Y&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==Y&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==Y&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t=this.target,e=this.values,i=e.length,n=this.options,r=this.canvasWidth,s=this.canvasHeight,o=n.get("chartRangeMin")===Y?q.min.apply(q,e):n.get("chartRangeMin"),a=n.get("chartRangeMax")===Y?q.max.apply(q,e):n.get("chartRangeMax"),l=0,h,u,c,d,f,p,g,m,v,y,b;if(!x._super.render.call(this))return;if(n.get("raw"))n.get("showOutliers")&&e.length>5?(u=e[0],h=e[1],d=e[2],f=e[3],p=e[4],g=e[5],m=e[6]):(h=e[0],d=e[1],f=e[2],p=e[3],g=e[4]);else{e.sort(function(t,e){return t-e}),d=w(e,1),f=w(e,2),p=w(e,3),c=p-d;if(n.get("showOutliers")){h=g=Y;for(v=0;v<i;v++)h===Y&&e[v]>d-c*n.get("outlierIQR")&&(h=e[v]),e[v]<p+c*n.get("outlierIQR")&&(g=e[v]);u=e[0],m=e[i-1]}else h=e[0],g=e[i-1]}this.quartiles=[d,f,p],this.lwhisker=h,this.rwhisker=g,this.loutlier=u,this.routlier=m,b=r/(a-o+1),n.get("showOutliers")&&(l=q.ceil(n.get("spotRadius")),r-=2*q.ceil(n.get("spotRadius")),b=r/(a-o+1),u<h&&t.drawCircle((u-o)*b+l,s/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append(),m>g&&t.drawCircle((m-o)*b+l,s/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append()),t.drawRect(q.round((d-o)*b+l),q.round(s*.1),q.round((p-d)*b),q.round(s*.8),n.get("boxLineColor"),n.get("boxFillColor")).append(),t.drawLine(q.round((h-o)*b+l),q.round(s/2),q.round((d-o)*b+l),q.round(s/2),n.get("lineColor")).append(),t.drawLine(q.round((h-o)*b+l),q.round(s/4),q.round((h-o)*b+l),q.round(s-s/4),n.get("whiskerColor")).append(),t.drawLine(q.round((g-o)*b+l),q.round(s/2),q.round((p-o)*b+l),q.round(s/2),n.get("lineColor")).append(),t.drawLine(q.round((g-o)*b+l),q.round(s/4),q.round((g-o)*b+l),q.round(s-s/4),n.get("whiskerColor")).append(),t.drawLine(q.round((f-o)*b+l),q.round(s*.1),q.round((f-o)*b+l),q.round(s*.9),n.get("medianColor")).append(),n.get("target")&&(y=q.ceil(n.get("spotRadius")),t.drawLine(q.round((n.get("target")-o)*b+l),q.round(s/2-y),q.round((n.get("target")-o)*b+l),q.round(s/2+y),n.get("targetColor")).append(),t.drawLine(q.round((n.get("target")-o)*b+l-y),q.round(s/2),q.round((n.get("target")-o)*b+l+y),q.round(s/2),n.get("targetColor")).append()),t.render()}}),y=e({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),b=e({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){if(!t)return;this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),$.data(i,"_jqs_vcanvas",this)},drawLine:function(t,e,i,n,r,s){return this.drawShape([[t,e],[i,n]],r,s)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,s){return this._genShape("Circle",[t,e,i,n,r,s])},drawPieSlice:function(t,e,i,n,r,s,o){return this._genShape("PieSlice",[t,e,i,n,r,s,o])},drawRect:function(t,e,i,n,r,s){return this._genShape("Rect",[t,e,i,n,r,s])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){$(e).html(t)},_calculatePixelDims:function(t,e,i){var n;n=this._pxregex.exec(e),n?this.pixelHeight=n[1]:this.pixelHeight=$(i).height(),n=this._pxregex.exec(t),n?this.pixelWidth=n[1]:this.pixelWidth=$(i).width()},_genShape:function(t,e){var i=T++;return e.unshift(i),new y(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),C=e(b,{init:function(t,e,i,n){C._super.init.call(this,t,e,i),this.canvas=D.createElement("canvas"),i[0]&&(i=i[0]),$.data(i,"_jqs_vcanvas",this),$(this.canvas).css({display:"inline-block",width:t,height:e,verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=n,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=Y,$(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var n=this.canvas.getContext("2d");return t!==Y&&(n.strokeStyle=t),n.lineWidth=i===Y?1:i,e!==Y&&(n.fillStyle=e),n},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=Y},_drawShape:function(t,e,i,n,r){var s=this._getContext(i,n,r),o,a;s.beginPath(),s.moveTo(e[0][0]+.5,e[0][1]+.5);for(o=1,a=e.length;o<a;o++)s.lineTo(e[o][0]+.5,e[o][1]+.5);i!==Y&&s.stroke(),n!==Y&&s.fill(),this.targetX!==Y&&this.targetY!==Y&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,i,n,r,s,o){var a=this._getContext(r,s,o);a.beginPath(),a.arc(e,i,n,0,2*q.PI,!1),this.targetX!==Y&&this.targetY!==Y&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),r!==Y&&a.stroke(),s!==Y&&a.fill()},_drawPieSlice:function(t,e,i,n,r,s,o,a){var l=this._getContext(o,a);l.beginPath(),l.moveTo(e,i),l.arc(e,i,n,r,s,!1),l.lineTo(e,i),l.closePath(),o!==Y&&l.stroke(),a&&l.fill(),this.targetX!==Y&&this.targetY!==Y&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],s,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=this.shapeseq,n;this.shapes[e.id]=e;for(n=i.length;n--;)i[n]==t&&(i[n]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i=this.shapeseq,n={},r,s,o;for(s=t.length;s--;)n[t[s]]=!0;for(s=i.length;s--;)r=i[s],n[r]&&(i.splice(s,1),delete this.shapes[r],o=s);for(s=e.length;s--;)i.splice(o,0,e[s].id),this.shapes[e[s].id]=e[s]},insertAfterShape:function(t,e){var i=this.shapeseq,n;for(n=i.length;n--;)if(i[n]===t){i.splice(n+1,0,e.id),this.shapes[e.id]=e;return}},removeShapeId:function(t){var e=this.shapeseq,i;for(i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t=this.shapeseq,e=this.shapes,i=t.length,n=this._getContext(),r,s,o;n.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(o=0;o<i;o++)r=t[o],s=e[r],this["_draw"+s.type].apply(this,s.args);this.interact||(this.shapes={},this.shapeseq=[])}}),k=e(b,{init:function(t,e,i){var n;k._super.init.call(this,t,e,i),i[0]&&(i=i[0]),$.data(i,"_jqs_vcanvas",this),this.canvas=D.createElement("span"),$(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:e,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,n='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"'+' style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",n),this.group=$(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,n,r){var s=[],o,a,l,h,u,c,d;for(d=0,c=e.length;d<c;d++)s[d]=""+e[d][0]+","+e[d][1];return o=s.splice(0,1),r=r===Y?1:r,a=i===Y?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+i+'" ',l=n===Y?' filled="false"':' fillColor="'+n+'" filled="true" ',h=s[0]===s[s.length-1]?"x ":"",u='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+t+'" '+a+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+o+" l "+s.join(", ")+" "+h+'e">'+" </v:shape>",u},_drawCircle:function(t,e,i,n,r,s,o){var a,l,h;return e-=n,i-=n,a=r===Y?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+r+'" ',l=s===Y?' filled="false"':' fillColor="'+s+'" filled="true" ',h='<v:oval  id="jqsshape'+t+'" '+a+l+' style="position:absolute;top:'+i+"px; left:"+e+"px; width:"+n*2+"px; height:"+n*2+'px"></v:oval>',h},_drawPieSlice:function(t,e,i,n,r,s,o,a){var l,h,u,c,d,f,p,g;if(r===s)return"";s-r===2*q.PI&&(r=0,s=2*q.PI),h=e+q.round(q.cos(r)*n),u=i+q.round(q.sin(r)*n),c=e+q.round(q.cos(s)*n),d=i+q.round(q.sin(s)*n);if(h===c&&u===d){if(s-r<q.PI)return"";h=c=e+n,u=d=i}return h===c&&u===d&&s-r<q.PI?"":(l=[e-n,i-n,e+n,i+n,h,u,c,d],f=o===Y?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ',p=a===Y?' filled="false"':' fillColor="'+a+'" filled="true" ',g='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+t+'" '+f+p+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+e+","+i+" wa "+l.join(", ")+' x e">'+" </v:shape>",g)},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],s,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=$("#jqsshape"+t),n=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=n},replaceWithShapes:function(t,e){var i=$("#jqsshape"+t[0]),n="",r=e.length,s;for(s=0;s<r;s++)n+=this["_draw"+e[s].type].apply(this,e[s].args);i[0].outerHTML=n;for(s=1;s<t.length;s++)$("#jqsshape"+t[s]).remove()},insertAfterShape:function(t,e){var i=$("#jqsshape"+t),n=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",n)},removeShapeId:function(t){var e=$("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){var n=t.id.substr(8);return n},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})})(document,Math);(function(t){t(["jquery"],function(H){return function(){var T;var e;var D=0;var n={error:"error",info:"info",success:"success",warning:"warning"};var t={clear:l,remove:h,error:i,getContainer:P,info:r,options:{},subscribe:s,success:o,version:"2.1.2",warning:a};var M;return t;function i(t,e,i){return p({type:n.error,iconClass:I().iconClasses.error,message:t,optionsOverride:i,title:e})}function P(t,e){if(!t){t=I()}T=H("#"+t.containerId);if(T.length){return T}if(e){T=d(t)}return T}function r(t,e,i){return p({type:n.info,iconClass:I().iconClasses.info,message:t,optionsOverride:i,title:e})}function s(t){e=t}function o(t,e,i){return p({type:n.success,iconClass:I().iconClasses.success,message:t,optionsOverride:i,title:e})}function a(t,e,i){return p({type:n.warning,iconClass:I().iconClasses.warning,message:t,optionsOverride:i,title:e})}function l(t,e){var i=I();if(!T){P(i)}if(!c(t,i,e)){u(i)}}function h(t){var e=I();if(!T){P(e)}if(t&&H(":focus",t).length===0){A(t);return}if(T.children().length){T.remove()}}function u(t){var e=T.children();for(var i=e.length-1;i>=0;i--){c(H(e[i]),t)}}function c(t,e,i){var n=i&&i.force?i.force:false;if(t&&(n||H(":focus",t).length===0)){t[e.hideMethod]({duration:e.hideDuration,easing:e.hideEasing,complete:function(){A(t)}});return true}return false}function d(t){T=H("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert");T.appendTo(H(t.target));return T}function f(){return{tapToDismiss:true,toastClass:"toast",containerId:"toast-container",debug:false,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:undefined,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:undefined,closeMethod:false,closeDuration:false,closeEasing:false,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:false,target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:true,preventDuplicates:false,progressBar:false}}function E(t){if(!e){return}e(t)}function p(t){var r=I();var e=t.iconClass||r.iconClass;if(typeof t.optionsOverride!=="undefined"){r=H.extend(r,t.optionsOverride);e=t.optionsOverride.iconClass||e}if(x(r,t)){return}D++;T=P(r,true);var i=null;var s=H("<div/>");var n=H("<div/>");var o=H("<div/>");var a=H("<div/>");var l=H(r.closeHtml);var h={intervalId:null,hideEta:null,maxHideTime:null};var u={toastId:D,state:"visible",startTime:new Date,options:r,map:t};d();p();f();E(u);if(r.debug&&console){console.log(u)}return s;function c(t){if(t==null)t="";return new String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(){g();v();y();b();w();m()}function f(){s.hover(k,C);if(!r.onclick&&r.tapToDismiss){s.click(_)}if(r.closeButton&&l){l.click(function(t){if(t.stopPropagation){t.stopPropagation()}else if(t.cancelBubble!==undefined&&t.cancelBubble!==true){t.cancelBubble=true}_(true)})}if(r.onclick){s.click(function(t){r.onclick(t);_()})}}function p(){s.hide();s[r.showMethod]({duration:r.showDuration,easing:r.showEasing,complete:r.onShown});if(r.timeOut>0){i=setTimeout(_,r.timeOut);h.maxHideTime=parseFloat(r.timeOut);h.hideEta=(new Date).getTime()+h.maxHideTime;if(r.progressBar){h.intervalId=setInterval(S,10)}}}function g(){if(t.iconClass){s.addClass(r.toastClass).addClass(e)}}function m(){if(r.newestOnTop){T.prepend(s)}else{T.append(s)}}function v(){if(t.title){n.append(!r.escapeHtml?t.title:c(t.title)).addClass(r.titleClass);s.append(n)}}function y(){if(t.message){o.append(!r.escapeHtml?t.message:c(t.message)).addClass(r.messageClass);s.append(o)}}function b(){if(r.closeButton){l.addClass("toast-close-button").attr("role","button");s.prepend(l)}}function w(){if(r.progressBar){a.addClass("toast-progress");s.prepend(a)}}function x(t,e){if(t.preventDuplicates){if(e.message===M){return true}else{M=e.message}}return false}function _(t){var e=t&&r.closeMethod!==false?r.closeMethod:r.hideMethod;var i=t&&r.closeDuration!==false?r.closeDuration:r.hideDuration;var n=t&&r.closeEasing!==false?r.closeEasing:r.hideEasing;if(H(":focus",s).length&&!t){return}clearTimeout(h.intervalId);return s[e]({duration:i,easing:n,complete:function(){A(s);if(r.onHidden&&u.state!=="hidden"){r.onHidden()}u.state="hidden";u.endTime=new Date;E(u)}})}function C(){if(r.timeOut>0||r.extendedTimeOut>0){i=setTimeout(_,r.extendedTimeOut);h.maxHideTime=parseFloat(r.extendedTimeOut);h.hideEta=(new Date).getTime()+h.maxHideTime}}function k(){clearTimeout(i);h.hideEta=0;s.stop(true,true)[r.showMethod]({duration:r.showDuration,easing:r.showEasing})}function S(){var t=(h.hideEta-(new Date).getTime())/h.maxHideTime*100;a.width(t+"%")}}function I(){return H.extend({},f(),t.options)}function A(t){if(!T){T=P()}if(t.is(":visible")){return}t.remove();t=null;if(T.children().length===0){T.remove();M=undefined}}}()})})(typeof define==="function"&&define.amd?define:function(t,e){if(typeof module!=="undefined"&&module.exports){module.exports=e(require("jquery"))}else{window.toastr=e(window.jQuery)}});(function(v){function y(t,e,i){var n=t[0],r=/er/.test(i)?_indeterminate:/bl/.test(i)?T:S,s=i==_update?{checked:n[S],disabled:n[T],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:n[r];if(/^(ch|di|in)/.test(i)&&!s)b(t,r);else if(/^(un|en|de)/.test(i)&&s)w(t,r);else if(i==_update)for(var o in s)s[o]?b(t,o,!0):w(t,o,!0);else if(!e||"toggle"==i){if(!e)t[_callback]("ifClicked");s?n[_type]!==k&&w(t,r):b(t,r)}}function b(t,e,i){var n=t[0],r=t.parent(),s=e==S,o=e==_indeterminate,a=e==T,l=o?_determinate:s?m:"enabled",h=f(t,l+p(n[_type])),u=f(t,e+p(n[_type]));if(!0!==n[e]){if(!i&&e==S&&n[_type]==k&&n.name){var c=t.closest("form"),d='input[name="'+n.name+'"]',d=c.length?c.find(d):v(d);d.each(function(){this!==n&&v(this).data(_)&&w(v(this),e)})}o?(n[e]=!0,n[S]&&w(t,S,"force")):(i||(n[e]=!0),s&&n[_indeterminate]&&w(t,_indeterminate,!1));g(t,s,e,i)}n[T]&&f(t,_cursor,!0)&&r.find("."+C).css(_cursor,"default");r[_add](u||f(t,e)||"");r.attr("role")&&!o&&r.attr("aria-"+(a?T:S),"true");r[_remove](h||f(t,l)||"")}function w(t,e,i){var n=t[0],r=t.parent(),s=e==S,o=e==_indeterminate,a=e==T,l=o?_determinate:s?m:"enabled",h=f(t,l+p(n[_type])),u=f(t,e+p(n[_type]));if(!1!==n[e]){if(o||!i||"force"==i)n[e]=!1;g(t,s,l,i)}!n[T]&&f(t,_cursor,!0)&&r.find("."+C).css(_cursor,"pointer");r[_remove](u||f(t,e)||"");r.attr("role")&&!o&&r.attr("aria-"+(a?T:S),"false");r[_add](h||f(t,l)||"")}function x(t,e){if(t.data(_)){t.parent().html(t.attr("style",t.data(_).s||""));if(e)t[_callback](e);t.off(".i").unwrap();v(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i")}}function f(t,e,i){if(t.data(_))return t.data(_).o[e+(i?"":"Class")]}function p(t){return t.charAt(0).toUpperCase()+t.slice(1)}function g(t,e,i,n){if(!n){if(e)t[_callback]("ifToggled");t[_callback]("ifChanged")[_callback]("if"+p(i))}}var _="iCheck",C=_+"-helper",k="radio",S="checked",m="un"+S,T="disabled";_determinate="determinate";_indeterminate="in"+_determinate;_update="update";_type="type";_click="click";_touch="touchbegin.i touchend.i";_add="addClass";_remove="removeClass";_callback="trigger";_label="label";_cursor="cursor";_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);v.fn[_]=function(e,i){var n='input[type="checkbox"], input[type="'+k+'"]',r=v(),t=function(t){t.each(function(){var t=v(this);r=t.is(n)?r.add(t):r.add(t.find(n))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(e))return e=e.toLowerCase(),t(this),r.each(function(){var t=v(this);"destroy"==e?x(t,"ifDestroyed"):y(t,!0,e);v.isFunction(i)&&i()});if("object"!=typeof e&&e)return this;var u=v.extend({checkedClass:S,disabledClass:T,indeterminateClass:_indeterminate,labelHover:!0},e),s=u.handle,c=u.hoverClass||"hover",d=u.focusClass||"focus",f=u.activeClass||"active",p=!!u.labelHover,g=u.labelHoverClass||"hover",m=(""+u.increaseArea).replace("%","")|0;if("checkbox"==s||s==k)n='input[type="'+s+'"]';-50>m&&(m=-50);t(this);return r.each(function(){var n=v(this);x(n);var r=this,t=r.id,e=-m+"%",i=100+2*m+"%",i={position:"absolute",top:e,left:e,display:"block",width:i,height:i,margin:0,padding:0,background:"#fff",border:0,opacity:0},e=_mobile?{position:"absolute",visibility:"hidden"}:m?i:{position:"absolute",opacity:0},s="checkbox"==r[_type]?u.checkboxClass||"icheckbox":u.radioClass||"i"+k,o=v(_label+'[for="'+t+'"]').add(n.closest(_label)),a=!!u.aria,l=_+"-"+Math.random().toString(36).substr(2,6),h='<div class="'+s+'" '+(a?'role="'+r[_type]+'" ':"");a&&o.each(function(){h+='aria-labelledby="';this.id?h+=this.id:(this.id=l,h+=l);h+='"'});h=n.wrap(h+"/>")[_callback]("ifCreated").parent().append(u.insert);i=v('<ins class="'+C+'"/>').css(i).appendTo(h);n.data(_,{o:u,s:n.attr("style")}).css(e);u.inheritClass&&h[_add](r.className||"");u.inheritID&&t&&h.attr("id",_+"-"+t);"static"==h.css("position")&&h.css("position","relative");y(n,!0,_update);if(o.length)o.on(_click+".i mouseover.i mouseout.i "+_touch,function(t){var e=t[_type],i=v(this);if(!r[T]){if(e==_click){if(v(t.target).is("a"))return;y(n,!1,!0)}else p&&(/ut|nd/.test(e)?(h[_remove](c),i[_remove](g)):(h[_add](c),i[_add](g)));if(_mobile)t.stopPropagation();else return!1}});n.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[_type];t=t.keyCode;if(e==_click)return!1;if("keydown"==e&&32==t)return r[_type]==k&&r[S]||(r[S]?w(n,S):b(n,S)),!1;if("keyup"==e&&r[_type]==k)!r[S]&&b(n,S);else if(/us|ur/.test(e))h["blur"==e?_remove:_add](d)});i.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(t){var e=t[_type],i=/wn|up/.test(e)?f:c;if(!r[T]){if(e==_click)y(n,!1,!0);else{if(/wn|er|in/.test(e))h[_add](i);else h[_remove](i+" "+f);if(o.length&&p&&i==c)o[/ut|nd/.test(e)?_remove:_add](g)}if(_mobile)t.stopPropagation();else return!1}})})}})(window.jQuery||window.Zepto);(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?module.exports=e():typeof define==="function"&&define.amd?define(e):t.moment=e()})(this,function(){"use strict";var e;function h(){return e.apply(null,arguments)}function t(t){e=t}function r(t){return Object.prototype.toString.call(t)==="[object Array]"}function s(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function i(t,e){var i=[],n;for(n=0;n<t.length;++n){i.push(e(t[n],n))}return i}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var i in e){if(a(e,i)){t[i]=e[i]}}if(a(e,"toString")){t.toString=e.toString}if(a(e,"valueOf")){t.valueOf=e.valueOf}return t}function l(t,e,i,n){return Te(t,e,i,n,true).utc()}function n(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function u(t){if(t._pf==null){t._pf=n()}return t._pf}function c(t){if(t._isValid==null){var e=u(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated;if(t._strict){t._isValid=t._isValid&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===undefined}}return t._isValid}function d(t){var e=l(NaN);if(t!=null){o(u(e),t)}else{u(e).userInvalidated=true}return e}function f(t){return t===void 0}var p=h.momentProperties=[];function g(t,e){var i,n,r;if(!f(e._isAMomentObject)){t._isAMomentObject=e._isAMomentObject}if(!f(e._i)){t._i=e._i}if(!f(e._f)){t._f=e._f}if(!f(e._l)){t._l=e._l}if(!f(e._strict)){t._strict=e._strict}if(!f(e._tzm)){t._tzm=e._tzm}if(!f(e._isUTC)){t._isUTC=e._isUTC}if(!f(e._offset)){t._offset=e._offset}if(!f(e._pf)){t._pf=u(e)}if(!f(e._locale)){t._locale=e._locale}if(p.length>0){for(i in p){n=p[i];r=e[n];if(!f(r)){t[n]=r}}}return t}var m=false;function v(t){g(this,t);this._d=new Date(t._d!=null?t._d.getTime():NaN);if(m===false){m=true;h.updateOffset(this);m=false}}function y(t){return t instanceof v||t!=null&&t._isAMomentObject!=null}function b(t){if(t<0){return Math.ceil(t)}else{return Math.floor(t)}}function w(t){var e=+t,i=0;if(e!==0&&isFinite(e)){i=b(e)}return i}function x(t,e,i){var n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0,o;for(o=0;o<n;o++){if(i&&t[o]!==e[o]||!i&&w(t[o])!==w(e[o])){s++}}return s+r}function _(){}var C={};var k;function S(t){return t?t.toLowerCase().replace("_","-"):t}function T(t){var e=0,i,n,r,s;while(e<t.length){s=S(t[e]).split("-");i=s.length;n=S(t[e+1]);n=n?n.split("-"):null;while(i>0){r=D(s.slice(0,i).join("-"));if(r){return r}if(n&&n.length>=i&&x(s,n,true)>=i-1){break}i--}e++}return null}function D(t){var e=null;if(!C[t]&&typeof module!=="undefined"&&module&&module.exports){try{e=k._abbr;require("./locale/"+t);M(e)}catch(t){}}return C[t]}function M(t,e){var i;if(t){if(f(e)){i=E(t)}else{i=P(t,e)}if(i){k=i}}return k._abbr}function P(t,e){if(e!==null){e.abbr=t;C[t]=C[t]||new _;C[t].set(e);M(t);return C[t]}else{delete C[t];return null}}function E(t){var e;if(t&&t._locale&&t._locale._abbr){t=t._locale._abbr}if(!t){return k}if(!r(t)){e=D(t);if(e){return e}t=[t]}return T(t)}var I={};function A(t,e){var i=t.toLowerCase();I[i]=I[i+"s"]=I[e]=t}function H(t){return typeof t==="string"?I[t]||I[t.toLowerCase()]:undefined}function R(t){var e={},i,n;for(n in t){if(a(t,n)){i=H(n);if(i){e[i]=t[n]}}}return e}function L(t){return t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function F(e,i){return function(t){if(t!=null){z(this,e,t);h.updateOffset(this,i);return this}else{return $(this,e)}}}function $(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function z(t,e,i){if(t.isValid()){t._d["set"+(t._isUTC?"UTC":"")+e](i)}}function N(t,e){var i;if(typeof t==="object"){for(i in t){this.set(i,t[i])}}else{t=H(t);if(L(this[t])){return this[t](e)}}return this}function O(t,e,i){var n=""+Math.abs(t),r=e-n.length,s=t>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var W=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var j={};var q={};function Y(t,e,i,n){var r=n;if(typeof n==="string"){r=function(){return this[n]()}}if(t){q[t]=r}if(e){q[e[0]]=function(){return O(r.apply(this,arguments),e[1],e[2])}}if(i){q[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)}}}function U(t){if(t.match(/\[[\s\S]/)){return t.replace(/^\[|\]$/g,"")}return t.replace(/\\/g,"")}function V(i){var n=i.match(B),r,s;for(r=0,s=n.length;r<s;r++){if(q[n[r]]){n[r]=q[n[r]]}else{n[r]=U(n[r])}}return function(t){var e="";for(r=0;r<s;r++){e+=n[r]instanceof Function?n[r].call(t,i):n[r]}return e}}function G(t,e){if(!t.isValid()){return t.localeData().invalidDate()}e=X(e,t.localeData());j[e]=j[e]||V(e);return j[e](t)}function X(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}W.lastIndex=0;while(i>=0&&W.test(t)){t=t.replace(W,n);W.lastIndex=0;i-=1}return t}var K=/\d/;var Q=/\d\d/;var Z=/\d{3}/;var J=/\d{4}/;var tt=/[+-]?\d{6}/;var et=/\d\d?/;var it=/\d\d\d\d?/;var nt=/\d\d\d\d\d\d?/;var rt=/\d{1,3}/;var st=/\d{1,4}/;var ot=/[+-]?\d{1,6}/;var at=/\d+/;var lt=/[+-]?\d+/;var ht=/Z|[+-]\d\d:?\d\d/gi;var ut=/Z|[+-]\d\d(?::?\d\d)?/gi;var ct=/[+-]?\d+(\.\d{1,3})?/;var dt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var ft={};function pt(t,i,n){ft[t]=L(i)?i:function(t,e){return t&&n?n:i}}function gt(t,e){if(!a(ft,t)){return new RegExp(mt(t))}return ft[t](e._strict,e._locale)}function mt(t){return vt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r}))}function vt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var yt={};function bt(t,i){var e,n=i;if(typeof t==="string"){t=[t]}if(typeof i==="number"){n=function(t,e){e[i]=w(t)}}for(e=0;e<t.length;e++){yt[t[e]]=n}}function wt(t,r){bt(t,function(t,e,i,n){i._w=i._w||{};r(t,i._w,i,n)})}function xt(t,e,i){if(e!=null&&a(yt,t)){yt[t](e,i._a,i,t)}}var _t=0;var Ct=1;var kt=2;var St=3;var Tt=4;var Dt=5;var Mt=6;var Pt=7;var Et=8;function It(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}Y("M",["MM",2],"Mo",function(){return this.month()+1});Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Y("MMMM",0,0,function(t){return this.localeData().months(this,t)});A("month","M");pt("M",et);pt("MM",et,Q);pt("MMM",function(t,e){return e.monthsShortRegex(t)});pt("MMMM",function(t,e){return e.monthsRegex(t)});bt(["M","MM"],function(t,e){e[Ct]=w(t)-1});bt(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);if(r!=null){e[Ct]=r}else{u(i).invalidMonth=t}});var At=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/;var Ht="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function Rt(t,e){return r(this._months)?this._months[t.month()]:this._months[At.test(e)?"format":"standalone"][t.month()]}var Lt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ft(t,e){return r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[At.test(e)?"format":"standalone"][t.month()]}function $t(t,e,i){var n,r,s;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(n=0;n<12;n++){r=l([2e3,n]);if(i&&!this._longMonthsParse[n]){this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i");this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")}if(!i&&!this._monthsParse[n]){s="^"+this.months(r,"")+"|^"+this.monthsShort(r,"");this._monthsParse[n]=new RegExp(s.replace(".",""),"i")}if(i&&e==="MMMM"&&this._longMonthsParse[n].test(t)){return n}else if(i&&e==="MMM"&&this._shortMonthsParse[n].test(t)){return n}else if(!i&&this._monthsParse[n].test(t)){return n}}}function zt(t,e){var i;if(!t.isValid()){return t}if(typeof e==="string"){e=t.localeData().monthsParse(e);if(typeof e!=="number"){return t}}i=Math.min(t.date(),It(t.year(),e));t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i);return t}function Nt(t){if(t!=null){zt(this,t);h.updateOffset(this,true);return this}else{return $(this,"Month")}}function Ot(){return It(this.year(),this.month())}var Bt=dt;function Wt(t){if(this._monthsParseExact){if(!a(this,"_monthsRegex")){Yt.call(this)}if(t){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{return this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}}var jt=dt;function qt(t){if(this._monthsParseExact){if(!a(this,"_monthsRegex")){Yt.call(this)}if(t){return this._monthsStrictRegex}else{return this._monthsRegex}}else{return this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}}function Yt(){function t(t,e){return e.length-t.length}var e=[],i=[],n=[],r,s;for(r=0;r<12;r++){s=l([2e3,r]);e.push(this.monthsShort(s,""));i.push(this.months(s,""));n.push(this.months(s,""));n.push(this.monthsShort(s,""))}e.sort(t);i.sort(t);n.sort(t);for(r=0;r<12;r++){e[r]=vt(e[r]);i[r]=vt(i[r]);n[r]=vt(n[r])}this._monthsRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+i.join("|")+")$","i");this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")$","i")}function Ut(t){var e;var i=t._a;if(i&&u(t).overflow===-2){e=i[Ct]<0||i[Ct]>11?Ct:i[kt]<1||i[kt]>It(i[_t],i[Ct])?kt:i[St]<0||i[St]>24||i[St]===24&&(i[Tt]!==0||i[Dt]!==0||i[Mt]!==0)?St:i[Tt]<0||i[Tt]>59?Tt:i[Dt]<0||i[Dt]>59?Dt:i[Mt]<0||i[Mt]>999?Mt:-1;if(u(t)._overflowDayOfYear&&(e<_t||e>kt)){e=kt}if(u(t)._overflowWeeks&&e===-1){e=Pt}if(u(t)._overflowWeekday&&e===-1){e=Et}u(t).overflow=e}return t}function Vt(t){if(h.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+t)}}function Gt(t,e){var i=true;return o(function(){if(i){Vt(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack);i=false}return e.apply(this,arguments)},e)}var Xt={};function Kt(t,e){if(!Xt[t]){Vt(e);Xt[t]=true}}h.suppressDeprecationWarnings=false;var Qt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var Zt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var Jt=/Z|[+-]\d\d(?::?\d\d)?/;var te=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var ee=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var ie=/^\/?Date\((\-?\d+)/i;function ne(t){var e,i,n=t._i,r=Qt.exec(n)||Zt.exec(n),s,o,a,l;if(r){u(t).iso=true;for(e=0,i=te.length;e<i;e++){if(te[e][1].exec(r[1])){o=te[e][0];s=te[e][2]!==false;break}}if(o==null){t._isValid=false;return}if(r[3]){for(e=0,i=ee.length;e<i;e++){if(ee[e][1].exec(r[3])){a=(r[2]||" ")+ee[e][0];break}}if(a==null){t._isValid=false;return}}if(!s&&a!=null){t._isValid=false;return}if(r[4]){if(Jt.exec(r[4])){l="Z"}else{t._isValid=false;return}}t._f=o+(a||"")+(l||"");be(t)}else{t._isValid=false}}function re(t){var e=ie.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}ne(t);if(t._isValid===false){delete t._isValid;h.createFromInputFallback(t)}}h.createFromInputFallback=Gt("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function se(t,e,i,n,r,s,o){var a=new Date(t,e,i,n,r,s,o);if(t<100&&t>=0&&isFinite(a.getFullYear())){a.setFullYear(t)}return a}function oe(t){var e=new Date(Date.UTC.apply(null,arguments));if(t<100&&t>=0&&isFinite(e.getUTCFullYear())){e.setUTCFullYear(t)}return e}Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t});Y(0,["YY",2],0,function(){return this.year()%100});Y(0,["YYYY",4],0,"year");Y(0,["YYYYY",5],0,"year");Y(0,["YYYYYY",6,true],0,"year");A("year","y");pt("Y",lt);pt("YY",et,Q);pt("YYYY",st,J);pt("YYYYY",ot,tt);pt("YYYYYY",ot,tt);bt(["YYYYY","YYYYYY"],_t);bt("YYYY",function(t,e){e[_t]=t.length===2?h.parseTwoDigitYear(t):w(t)});bt("YY",function(t,e){e[_t]=h.parseTwoDigitYear(t)});bt("Y",function(t,e){e[_t]=parseInt(t,10)});function ae(t){return le(t)?366:365}function le(t){return t%4===0&&t%100!==0||t%400===0}h.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var he=F("FullYear",false);function ue(){return le(this.year())}function ce(t,e,i){var n=7+e-i,r=(7+oe(t,0,n).getUTCDay()-e)%7;return-r+n-1}function de(t,e,i,n,r){var s=(7+i-n)%7,o=ce(t,n,r),a=1+7*(e-1)+s+o,l,h;if(a<=0){l=t-1;h=ae(l)+a}else if(a>ae(t)){l=t+1;h=a-ae(t)}else{l=t;h=a}return{year:l,dayOfYear:h}}function fe(t,e,i){var n=ce(t.year(),e,i),r=Math.floor((t.dayOfYear()-n-1)/7)+1,s,o;if(r<1){o=t.year()-1;s=r+pe(o,e,i)}else if(r>pe(t.year(),e,i)){s=r-pe(t.year(),e,i);o=t.year()+1}else{o=t.year();s=r}return{week:s,year:o}}function pe(t,e,i){var n=ce(t,e,i),r=ce(t+1,e,i);return(ae(t)-n+r)/7}function ge(t,e,i){if(t!=null){return t}if(e!=null){return e}return i}function me(t){var e=new Date(h.now());if(t._useUTC){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]}return[e.getFullYear(),e.getMonth(),e.getDate()]}function ve(t){var e,i,n=[],r,s;if(t._d){return}r=me(t);if(t._w&&t._a[kt]==null&&t._a[Ct]==null){ye(t)}if(t._dayOfYear){s=ge(t._a[_t],r[_t]);if(t._dayOfYear>ae(s)){u(t)._overflowDayOfYear=true}i=oe(s,0,t._dayOfYear);t._a[Ct]=i.getUTCMonth();t._a[kt]=i.getUTCDate()}for(e=0;e<3&&t._a[e]==null;++e){t._a[e]=n[e]=r[e]}for(;e<7;e++){t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e]}if(t._a[St]===24&&t._a[Tt]===0&&t._a[Dt]===0&&t._a[Mt]===0){t._nextDay=true;t._a[St]=0}t._d=(t._useUTC?oe:se).apply(null,n);if(t._tzm!=null){t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm)}if(t._nextDay){t._a[St]=24}}function ye(t){var e,i,n,r,s,o,a,l;e=t._w;if(e.GG!=null||e.W!=null||e.E!=null){s=1;o=4;i=ge(e.GG,t._a[_t],fe(De(),1,4).year);n=ge(e.W,1);r=ge(e.E,1);if(r<1||r>7){l=true}}else{s=t._locale._week.dow;o=t._locale._week.doy;i=ge(e.gg,t._a[_t],fe(De(),s,o).year);n=ge(e.w,1);if(e.d!=null){r=e.d;if(r<0||r>6){l=true}}else if(e.e!=null){r=e.e+s;if(e.e<0||e.e>6){l=true}}else{r=s}}if(n<1||n>pe(i,s,o)){u(t)._overflowWeeks=true}else if(l!=null){u(t)._overflowWeekday=true}else{a=de(i,n,r,s,o);t._a[_t]=a.year;t._dayOfYear=a.dayOfYear}}h.ISO_8601=function(){};function be(t){if(t._f===h.ISO_8601){ne(t);return}t._a=[];u(t).empty=true;var e=""+t._i,i,n,r,s,o,a=e.length,l=0;r=X(t._f,t._locale).match(B)||[];for(i=0;i<r.length;i++){s=r[i];n=(e.match(gt(s,t))||[])[0];if(n){o=e.substr(0,e.indexOf(n));if(o.length>0){u(t).unusedInput.push(o)}e=e.slice(e.indexOf(n)+n.length);l+=n.length}if(q[s]){if(n){u(t).empty=false}else{u(t).unusedTokens.push(s)}xt(s,n,t)}else if(t._strict&&!n){u(t).unusedTokens.push(s)}}u(t).charsLeftOver=a-l;if(e.length>0){u(t).unusedInput.push(e)}if(u(t).bigHour===true&&t._a[St]<=12&&t._a[St]>0){u(t).bigHour=undefined}t._a[St]=we(t._locale,t._a[St],t._meridiem);ve(t);Ut(t)}function we(t,e,i){var n;if(i==null){return e}if(t.meridiemHour!=null){return t.meridiemHour(e,i)}else if(t.isPM!=null){n=t.isPM(i);if(n&&e<12){e+=12}if(!n&&e===12){e=0}return e}else{return e}}function xe(t){var e,i,n,r,s;if(t._f.length===0){u(t).invalidFormat=true;t._d=new Date(NaN);return}for(r=0;r<t._f.length;r++){s=0;e=g({},t);if(t._useUTC!=null){e._useUTC=t._useUTC}e._f=t._f[r];be(e);if(!c(e)){continue}s+=u(e).charsLeftOver;s+=u(e).unusedTokens.length*10;u(e).score=s;if(n==null||s<n){n=s;i=e}}o(t,i||e)}function _e(t){if(t._d){return}var e=R(t._i);t._a=i([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)});ve(t)}function Ce(t){var e=new v(Ut(ke(t)));if(e._nextDay){e.add(1,"d");e._nextDay=undefined}return e}function ke(t){var e=t._i,i=t._f;t._locale=t._locale||E(t._l);if(e===null||i===undefined&&e===""){return d({nullInput:true})}if(typeof e==="string"){t._i=e=t._locale.preparse(e)}if(y(e)){return new v(Ut(e))}else if(r(i)){xe(t)}else if(i){be(t)}else if(s(e)){t._d=e}else{Se(t)}if(!c(t)){t._d=null}return t}function Se(t){var e=t._i;if(e===undefined){t._d=new Date(h.now())}else if(s(e)){t._d=new Date(+e)}else if(typeof e==="string"){re(t)}else if(r(e)){t._a=i(e.slice(0),function(t){return parseInt(t,10)});ve(t)}else if(typeof e==="object"){_e(t)}else if(typeof e==="number"){t._d=new Date(e)}else{h.createFromInputFallback(t)}}function Te(t,e,i,n,r){var s={};if(typeof i==="boolean"){n=i;i=undefined}s._isAMomentObject=true;s._useUTC=s._isUTC=r;s._l=i;s._i=t;s._f=e;s._strict=n;return Ce(s)}function De(t,e,i,n){return Te(t,e,i,n,false)}var Me=Gt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=De.apply(null,arguments);if(this.isValid()&&t.isValid()){return t<this?this:t}else{return d()}});var Pe=Gt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=De.apply(null,arguments);if(this.isValid()&&t.isValid()){return t>this?this:t}else{return d()}});function Ee(t,e){var i,n;if(e.length===1&&r(e[0])){e=e[0]}if(!e.length){return De()}i=e[0];for(n=1;n<e.length;++n){if(!e[n].isValid()||e[n][t](i)){i=e[n]}}return i}function Ie(){var t=[].slice.call(arguments,0);return Ee("isBefore",t)}function Ae(){var t=[].slice.call(arguments,0);return Ee("isAfter",t)}var He=function(){return Date.now?Date.now():+new Date};function Re(t){var e=R(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,u=e.millisecond||0;this._milliseconds=+u+h*1e3+l*6e4+a*36e5;this._days=+o+s*7;this._months=+r+n*3+i*12;this._data={};this._locale=E();this._bubble()}function Le(t){return t instanceof Re}function Fe(t,i){Y(t,0,0,function(){var t=this.utcOffset();var e="+";if(t<0){t=-t;e="-"}return e+O(~~(t/60),2)+i+O(~~t%60,2)})}Fe("Z",":");Fe("ZZ","");pt("Z",ut);pt("ZZ",ut);bt(["Z","ZZ"],function(t,e,i){i._useUTC=true;i._tzm=ze(ut,t)});var $e=/([\+\-]|\d\d)/gi;function ze(t,e){var i=(e||"").match(t)||[];var n=i[i.length-1]||[];var r=(n+"").match($e)||["-",0,0];var s=+(r[1]*60)+w(r[2]);return r[0]==="+"?s:-s}function Ne(t,e){var i,n;if(e._isUTC){i=e.clone();n=(y(t)||s(t)?+t:+De(t))-+i;i._d.setTime(+i._d+n);h.updateOffset(i,false);return i}else{return De(t).local()}}function Oe(t){return-Math.round(t._d.getTimezoneOffset()/15)*15}h.updateOffset=function(){};function Be(t,e){var i=this._offset||0,n;if(!this.isValid()){return t!=null?this:NaN}if(t!=null){if(typeof t==="string"){t=ze(ut,t)}else if(Math.abs(t)<16){t=t*60}if(!this._isUTC&&e){n=Oe(this)}this._offset=t;this._isUTC=true;if(n!=null){this.add(n,"m")}if(i!==t){if(!e||this._changeInProgress){si(this,ti(t-i,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;h.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?i:Oe(this)}}function We(t,e){if(t!=null){if(typeof t!=="string"){t=-t}this.utcOffset(t,e);return this}else{return-this.utcOffset()}}function je(t){return this.utcOffset(0,t)}function qe(t){if(this._isUTC){this.utcOffset(0,t);this._isUTC=false;if(t){this.subtract(Oe(this),"m")}}return this}function Ye(){if(this._tzm){this.utcOffset(this._tzm)}else if(typeof this._i==="string"){this.utcOffset(ze(ht,this._i))}return this}function Ue(t){if(!this.isValid()){return false}t=t?De(t).utcOffset():0;return(this.utcOffset()-t)%60===0}function Ve(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ge(){if(!f(this._isDSTShifted)){return this._isDSTShifted}var t={};g(t,this);t=ke(t);if(t._a){var e=t._isUTC?l(t._a):De(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function Xe(){return this.isValid()?!this._isUTC:false}function Ke(){return this.isValid()?this._isUTC:false}function Qe(){return this.isValid()?this._isUTC&&this._offset===0:false}var Ze=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/;var Je=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function ti(t,e){var i=t,n=null,r,s,o;if(Le(t)){i={ms:t._milliseconds,d:t._days,M:t._months}}else if(typeof t==="number"){i={};if(e){i[e]=t}else{i.milliseconds=t}}else if(!!(n=Ze.exec(t))){r=n[1]==="-"?-1:1;i={y:0,d:w(n[kt])*r,h:w(n[St])*r,m:w(n[Tt])*r,s:w(n[Dt])*r,ms:w(n[Mt])*r}}else if(!!(n=Je.exec(t))){r=n[1]==="-"?-1:1;i={y:ei(n[2],r),M:ei(n[3],r),d:ei(n[4],r),h:ei(n[5],r),m:ei(n[6],r),s:ei(n[7],r),w:ei(n[8],r)}}else if(i==null){i={}}else if(typeof i==="object"&&("from"in i||"to"in i)){o=ni(De(i.from),De(i.to));i={};i.ms=o.milliseconds;i.M=o.months}s=new Re(i);if(Le(t)&&a(t,"_locale")){s._locale=t._locale}return s}ti.fn=Re.prototype;function ei(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function ii(t,e){var i={milliseconds:0,months:0};i.months=e.month()-t.month()+(e.year()-t.year())*12;if(t.clone().add(i.months,"M").isAfter(e)){--i.months}i.milliseconds=+e-+t.clone().add(i.months,"M");return i}function ni(t,e){var i;if(!(t.isValid()&&e.isValid())){return{milliseconds:0,months:0}}e=Ne(e,t);if(t.isBefore(e)){i=ii(t,e)}else{i=ii(e,t);i.milliseconds=-i.milliseconds;i.months=-i.months}return i}function ri(r,s){return function(t,e){var i,n;if(e!==null&&!isNaN(+e)){Kt(s,"moment()."+s+"(period, number) is deprecated. Please use moment()."+s+"(number, period).");n=t;t=e;e=n}t=typeof t==="string"?+t:t;i=ti(t,e);si(this,i,r);return this}}function si(t,e,i,n){var r=e._milliseconds,s=e._days,o=e._months;if(!t.isValid()){return}n=n==null?true:n;if(r){t._d.setTime(+t._d+r*i)}if(s){z(t,"Date",$(t,"Date")+s*i)}if(o){zt(t,$(t,"Month")+o*i)}if(n){h.updateOffset(t,s||o)}}var oi=ri(1,"add");var ai=ri(-1,"subtract");function li(t,e){var i=t||De(),n=Ne(i,this).startOf("day"),r=this.diff(n,"days",true),s=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";var o=e&&(L(e[s])?e[s]():e[s]);return this.format(o||this.localeData().calendar(s,this,De(i)))}function hi(){return new v(this)}function ui(t,e){var i=y(t)?t:De(t);if(!(this.isValid()&&i.isValid())){return false}e=H(!f(e)?e:"millisecond");if(e==="millisecond"){return+this>+i}else{return+i<+this.clone().startOf(e)}}function ci(t,e){var i=y(t)?t:De(t);if(!(this.isValid()&&i.isValid())){return false}e=H(!f(e)?e:"millisecond");if(e==="millisecond"){return+this<+i}else{return+this.clone().endOf(e)<+i}}function di(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function fi(t,e){var i=y(t)?t:De(t),n;if(!(this.isValid()&&i.isValid())){return false}e=H(e||"millisecond");if(e==="millisecond"){return+this===+i}else{n=+i;return+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e)}}function pi(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function gi(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function mi(t,e,i){var n,r,s,o;if(!this.isValid()){return NaN}n=Ne(t,this);if(!n.isValid()){return NaN}r=(n.utcOffset()-this.utcOffset())*6e4;e=H(e);if(e==="year"||e==="month"||e==="quarter"){o=vi(this,n);if(e==="quarter"){o=o/3}else if(e==="year"){o=o/12}}else{s=this-n;o=e==="second"?s/1e3:e==="minute"?s/6e4:e==="hour"?s/36e5:e==="day"?(s-r)/864e5:e==="week"?(s-r)/6048e5:s}return i?o:b(o)}function vi(t,e){var i=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(i,"months"),r,s;if(e-n<0){r=t.clone().add(i-1,"months");s=(e-n)/(n-r)}else{r=t.clone().add(i+1,"months");s=(e-n)/(r-n)}return-(i+s)}h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";function yi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function bi(){var t=this.clone().utc();if(0<t.year()&&t.year()<=9999){if(L(Date.prototype.toISOString)){return this.toDate().toISOString()}else{return G(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return G(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}function wi(t){var e=G(this,t||h.defaultFormat);return this.localeData().postformat(e)}function xi(t,e){if(this.isValid()&&(y(t)&&t.isValid()||De(t).isValid())){return ti({to:this,from:t}).locale(this.locale()).humanize(!e)}else{return this.localeData().invalidDate()}}function _i(t){return this.from(De(),t)}function Ci(t,e){if(this.isValid()&&(y(t)&&t.isValid()||De(t).isValid())){return ti({from:this,to:t}).locale(this.locale()).humanize(!e)}else{return this.localeData().invalidDate()}}function ki(t){return this.to(De(),t)}function Si(t){var e;if(t===undefined){return this._locale._abbr}else{e=E(t);if(e!=null){this._locale=e}return this}}var Ti=Gt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){if(t===undefined){return this.localeData()}else{return this.locale(t)}});function Di(){return this._locale}function Mi(t){t=H(t);switch(t){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(t==="week"){this.weekday(0)}if(t==="isoWeek"){this.isoWeekday(1)}if(t==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function Pi(t){t=H(t);if(t===undefined||t==="millisecond"){return this}return this.startOf(t).add(1,t==="isoWeek"?"week":t).subtract(1,"ms")}function Ei(){return+this._d-(this._offset||0)*6e4}function Ii(){return Math.floor(+this/1e3)}function Ai(){return this._offset?new Date(+this):this._d}function Hi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ri(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Li(){return this.isValid()?this.toISOString():"null"}function Fi(){return c(this)}function $i(){return o({},u(this))}function zi(){return u(this).overflow}function Ni(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Y(0,["gg",2],0,function(){return this.weekYear()%100});Y(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Oi(t,e){Y(0,[t,t.length],0,e)}Oi("gggg","weekYear");Oi("ggggg","weekYear");Oi("GGGG","isoWeekYear");Oi("GGGGG","isoWeekYear");A("weekYear","gg");A("isoWeekYear","GG");pt("G",lt);pt("g",lt);pt("GG",et,Q);pt("gg",et,Q);pt("GGGG",st,J);pt("gggg",st,J);pt("GGGGG",ot,tt);pt("ggggg",ot,tt);wt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=w(t)});wt(["gg","GG"],function(t,e,i,n){e[n]=h.parseTwoDigitYear(t)});function Bi(t){return Yi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(t){return Yi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function ji(){return pe(this.year(),1,4)}function qi(){var t=this.localeData()._week;return pe(this.year(),t.dow,t.doy)}function Yi(t,e,i,n,r){var s;if(t==null){return fe(this,n,r).year}else{s=pe(t,n,r);if(e>s){e=s}return Ui.call(this,t,e,i,n,r)}}function Ui(t,e,i,n,r){var s=de(t,e,i,n,r),o=oe(s.year,0,s.dayOfYear);this.year(o.getUTCFullYear());this.month(o.getUTCMonth());this.date(o.getUTCDate());return this}Y("Q",0,"Qo","quarter");A("quarter","Q");pt("Q",K);bt("Q",function(t,e){e[Ct]=(w(t)-1)*3});function Vi(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Y("w",["ww",2],"wo","week");Y("W",["WW",2],"Wo","isoWeek");A("week","w");A("isoWeek","W");pt("w",et);pt("ww",et,Q);pt("W",et);pt("WW",et,Q);wt(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=w(t)});function Gi(t){return fe(t,this._week.dow,this._week.doy).week}var Xi={dow:0,doy:6};function Ki(){return this._week.dow}function Qi(){return this._week.doy}function Zi(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Ji(t){var e=fe(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Y("D",["DD",2],"Do","date");A("date","D");pt("D",et);pt("DD",et,Q);pt("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient});bt(["D","DD"],kt);bt("Do",function(t,e){e[kt]=w(t.match(et)[0],10)});var tn=F("Date",true);Y("d",0,"do","day");Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Y("e",0,0,"weekday");Y("E",0,0,"isoWeekday");A("day","d");A("weekday","e");A("isoWeekday","E");pt("d",et);pt("e",et);pt("E",et);pt("dd",dt);pt("ddd",dt);pt("dddd",dt);wt(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);if(r!=null){e.d=r}else{u(i).invalidWeekday=t}});wt(["d","e","E"],function(t,e,i,n){e[n]=w(t)});function en(t,e){if(typeof t!=="string"){return t}if(!isNaN(t)){return parseInt(t,10)}t=e.weekdaysParse(t);if(typeof t==="number"){return t}return null}var nn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function rn(t,e){return r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}var sn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function on(t){return this._weekdaysShort[t.day()]}var an="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function ln(t){return this._weekdaysMin[t.day()]}function hn(t,e,i){var n,r,s;if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(n=0;n<7;n++){r=De([2e3,1]).day(n);if(i&&!this._fullWeekdaysParse[n]){this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i");this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[n]){s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,"");this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")}if(i&&e==="dddd"&&this._fullWeekdaysParse[n].test(t)){return n}else if(i&&e==="ddd"&&this._shortWeekdaysParse[n].test(t)){return n}else if(i&&e==="dd"&&this._minWeekdaysParse[n].test(t)){return n}else if(!i&&this._weekdaysParse[n].test(t)){return n}}}function un(t){if(!this.isValid()){return t!=null?this:NaN}var e=this._isUTC?this._d.getUTCDay():this._d.getDay();if(t!=null){t=en(t,this.localeData());return this.add(t-e,"d")}else{return e}}function cn(t){if(!this.isValid()){return t!=null?this:NaN}var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function dn(t){if(!this.isValid()){return t!=null?this:NaN}return t==null?this.day()||7:this.day(this.day()%7?t:t-7)}Y("DDD",["DDDD",3],"DDDo","dayOfYear");A("dayOfYear","DDD");pt("DDD",rt);pt("DDDD",Z);bt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=w(t)});function fn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}function pn(){return this.hours()%12||12}Y("H",["HH",2],0,"hour");Y("h",["hh",2],0,pn);Y("hmm",0,0,function(){return""+pn.apply(this)+O(this.minutes(),2)});Y("hmmss",0,0,function(){return""+pn.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)});Y("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)});Y("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)});function gn(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}gn("a",true);gn("A",false);A("hour","h");function mn(t,e){return e._meridiemParse}pt("a",mn);pt("A",mn);pt("H",et);pt("h",et);pt("HH",et,Q);pt("hh",et,Q);pt("hmm",it);pt("hmmss",nt);pt("Hmm",it);pt("Hmmss",nt);bt(["H","HH"],St);bt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t);i._meridiem=t});bt(["h","hh"],function(t,e,i){e[St]=w(t);u(i).bigHour=true});bt("hmm",function(t,e,i){var n=t.length-2;e[St]=w(t.substr(0,n));e[Tt]=w(t.substr(n));u(i).bigHour=true});bt("hmmss",function(t,e,i){var n=t.length-4;var r=t.length-2;e[St]=w(t.substr(0,n));e[Tt]=w(t.substr(n,2));e[Dt]=w(t.substr(r));u(i).bigHour=true});bt("Hmm",function(t,e,i){var n=t.length-2;e[St]=w(t.substr(0,n));e[Tt]=w(t.substr(n))});bt("Hmmss",function(t,e,i){var n=t.length-4;var r=t.length-2;e[St]=w(t.substr(0,n));e[Tt]=w(t.substr(n,2));e[Dt]=w(t.substr(r))});function vn(t){return(t+"").toLowerCase().charAt(0)==="p"}var yn=/[ap]\.?m?\.?/i;function bn(t,e,i){if(t>11){return i?"pm":"PM"}else{return i?"am":"AM"}}var wn=F("Hours",true);Y("m",["mm",2],0,"minute");A("minute","m");pt("m",et);pt("mm",et,Q);bt(["m","mm"],Tt);var xn=F("Minutes",false);Y("s",["ss",2],0,"second");A("second","s");pt("s",et);pt("ss",et,Q);bt(["s","ss"],Dt);var _n=F("Seconds",false);Y("S",0,0,function(){return~~(this.millisecond()/100)});Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Y(0,["SSS",3],0,"millisecond");Y(0,["SSSS",4],0,function(){return this.millisecond()*10});Y(0,["SSSSS",5],0,function(){return this.millisecond()*100});Y(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Y(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Y(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Y(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});A("millisecond","ms");pt("S",rt,K);pt("SS",rt,Q);pt("SSS",rt,Z);var Cn;for(Cn="SSSS";Cn.length<=9;Cn+="S"){pt(Cn,at)}function kn(t,e){e[Mt]=w(("0."+t)*1e3)}for(Cn="S";Cn.length<=9;Cn+="S"){bt(Cn,kn)}var Sn=F("Milliseconds",false);Y("z",0,0,"zoneAbbr");Y("zz",0,0,"zoneName");function Tn(){return this._isUTC?"UTC":""}function Dn(){return this._isUTC?"Coordinated Universal Time":""}var Mn=v.prototype;Mn.add=oi;Mn.calendar=li;Mn.clone=hi;Mn.diff=mi;Mn.endOf=Pi;Mn.format=wi;Mn.from=xi;Mn.fromNow=_i;Mn.to=Ci;Mn.toNow=ki;Mn.get=N;Mn.invalidAt=zi;Mn.isAfter=ui;Mn.isBefore=ci;Mn.isBetween=di;Mn.isSame=fi;Mn.isSameOrAfter=pi;Mn.isSameOrBefore=gi;Mn.isValid=Fi;Mn.lang=Ti;Mn.locale=Si;Mn.localeData=Di;Mn.max=Pe;Mn.min=Me;Mn.parsingFlags=$i;Mn.set=N;Mn.startOf=Mi;Mn.subtract=ai;Mn.toArray=Hi;Mn.toObject=Ri;Mn.toDate=Ai;Mn.toISOString=bi;Mn.toJSON=Li;Mn.toString=yi;Mn.unix=Ii;Mn.valueOf=Ei;Mn.creationData=Ni;Mn.year=he;Mn.isLeapYear=ue;Mn.weekYear=Bi;Mn.isoWeekYear=Wi;Mn.quarter=Mn.quarters=Vi;Mn.month=Nt;Mn.daysInMonth=Ot;Mn.week=Mn.weeks=Zi;Mn.isoWeek=Mn.isoWeeks=Ji;Mn.weeksInYear=qi;Mn.isoWeeksInYear=ji;Mn.date=tn;Mn.day=Mn.days=un;Mn.weekday=cn;Mn.isoWeekday=dn;Mn.dayOfYear=fn;Mn.hour=Mn.hours=wn;Mn.minute=Mn.minutes=xn;Mn.second=Mn.seconds=_n;Mn.millisecond=Mn.milliseconds=Sn;Mn.utcOffset=Be;Mn.utc=je;Mn.local=qe;Mn.parseZone=Ye;Mn.hasAlignedHourOffset=Ue;Mn.isDST=Ve;Mn.isDSTShifted=Ge;Mn.isLocal=Xe;Mn.isUtcOffset=Ke;Mn.isUtc=Qe;Mn.isUTC=Qe;Mn.zoneAbbr=Tn;Mn.zoneName=Dn;Mn.dates=Gt("dates accessor is deprecated. Use date instead.",tn);Mn.months=Gt("months accessor is deprecated. Use month instead",Nt);Mn.years=Gt("years accessor is deprecated. Use year instead",he);Mn.zone=Gt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",We);var Pn=Mn;function En(t){return De(t*1e3)}function In(){return De.apply(null,arguments).parseZone()}var An={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Hn(t,e,i){var n=this._calendar[t];return L(n)?n.call(e,i):n}var Rn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ln(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];if(e||!i){return e}this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)});return this._longDateFormat[t]}var Fn="Invalid date";function $n(){return this._invalidDate}var zn="%d";var Nn=/\d{1,2}/;function On(t){return this._ordinal.replace("%d",t)}function Bn(t){return t}var Wn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function jn(t,e,i,n){var r=this._relativeTime[i];return L(r)?r(t,e,i,n):r.replace(/%d/i,t)}function qn(t,e){var i=this._relativeTime[t>0?"future":"past"];return L(i)?i(e):i.replace(/%s/i,e)}function Yn(t){var e,i;for(i in t){e=t[i];if(L(e)){this[i]=e}else{this["_"+i]=e}}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}var Un=_.prototype;Un._calendar=An;Un.calendar=Hn;Un._longDateFormat=Rn;Un.longDateFormat=Ln;Un._invalidDate=Fn;Un.invalidDate=$n;Un._ordinal=zn;Un.ordinal=On;Un._ordinalParse=Nn;Un.preparse=Bn;Un.postformat=Bn;Un._relativeTime=Wn;Un.relativeTime=jn;Un.pastFuture=qn;Un.set=Yn;Un.months=Rt;Un._months=Ht;Un.monthsShort=Ft;Un._monthsShort=Lt;Un.monthsParse=$t;Un._monthsRegex=jt;Un.monthsRegex=qt;Un._monthsShortRegex=Bt;Un.monthsShortRegex=Wt;Un.week=Gi;Un._week=Xi;Un.firstDayOfYear=Qi;Un.firstDayOfWeek=Ki;Un.weekdays=rn;Un._weekdays=nn;Un.weekdaysMin=ln;Un._weekdaysMin=an;Un.weekdaysShort=on;Un._weekdaysShort=sn;Un.weekdaysParse=hn;Un.isPM=vn;Un._meridiemParse=yn;Un.meridiem=bn;function Vn(t,e,i,n){var r=E();var s=l().set(n,e);return r[i](s,t)}function Gn(t,e,i,n,r){if(typeof t==="number"){e=t;t=undefined}t=t||"";if(e!=null){return Vn(t,e,i,r)}var s;var o=[];for(s=0;s<n;s++){o[s]=Vn(t,s,i,r)}return o}function Xn(t,e){return Gn(t,e,"months",12,"month")}function Kn(t,e){return Gn(t,e,"monthsShort",12,"month")}function Qn(t,e){return Gn(t,e,"weekdays",7,"day")}function Zn(t,e){return Gn(t,e,"weekdaysShort",7,"day")}function Jn(t,e){return Gn(t,e,"weekdaysMin",7,"day")}M("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=w(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+i}});h.lang=Gt("moment.lang is deprecated. Use moment.locale instead.",M);h.langData=Gt("moment.langData is deprecated. Use moment.localeData instead.",E);var tr=Math.abs;function er(){var t=this._data;this._milliseconds=tr(this._milliseconds);this._days=tr(this._days);this._months=tr(this._months);t.milliseconds=tr(t.milliseconds);t.seconds=tr(t.seconds);t.minutes=tr(t.minutes);t.hours=tr(t.hours);t.months=tr(t.months);t.years=tr(t.years);return this}function ir(t,e,i,n){var r=ti(e,i);t._milliseconds+=n*r._milliseconds;t._days+=n*r._days;t._months+=n*r._months;return t._bubble()}function nr(t,e){return ir(this,t,e,1)}function rr(t,e){return ir(this,t,e,-1)}function sr(t){if(t<0){return Math.floor(t)}else{return Math.ceil(t)}}function or(){var t=this._milliseconds;var e=this._days;var i=this._months;var n=this._data;var r,s,o,a,l;if(!(t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0)){t+=sr(lr(i)+e)*864e5;e=0;i=0}n.milliseconds=t%1e3;r=b(t/1e3);n.seconds=r%60;s=b(r/60);n.minutes=s%60;o=b(s/60);n.hours=o%24;e+=b(o/24);l=b(ar(e));i+=l;e-=sr(lr(l));a=b(i/12);i%=12;n.days=e;n.months=i;n.years=a;return this}function ar(t){return t*4800/146097}function lr(t){return t*146097/4800}function hr(t){var e;var i;var n=this._milliseconds;t=H(t);if(t==="month"||t==="year"){e=this._days+n/864e5;i=this._months+ar(e);return t==="month"?i:i/12}else{e=this._days+Math.round(lr(this._months));switch(t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}}function ur(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+w(this._months/12)*31536e6}function cr(t){return function(){return this.as(t)}}var dr=cr("ms");var fr=cr("s");var pr=cr("m");var gr=cr("h");var mr=cr("d");var vr=cr("w");var yr=cr("M");var br=cr("y");function wr(t){t=H(t);return this[t+"s"]()}function xr(t){return function(){return this._data[t]}}var _r=xr("milliseconds");var Cr=xr("seconds");var kr=xr("minutes");var Sr=xr("hours");var Tr=xr("days");var Dr=xr("months");var Mr=xr("years");function Pr(){return b(this.days()/7)}var Er=Math.round;var Ir={s:45,m:45,h:22,d:26,M:11};function Ar(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function Hr(t,e,i){var n=ti(t).abs();var r=Er(n.as("s"));var s=Er(n.as("m"));var o=Er(n.as("h"));var a=Er(n.as("d"));var l=Er(n.as("M"));var h=Er(n.as("y"));var u=r<Ir.s&&["s",r]||s<=1&&["m"]||s<Ir.m&&["mm",s]||o<=1&&["h"]||o<Ir.h&&["hh",o]||a<=1&&["d"]||a<Ir.d&&["dd",a]||l<=1&&["M"]||l<Ir.M&&["MM",l]||h<=1&&["y"]||["yy",h];u[2]=e;u[3]=+t>0;u[4]=i;return Ar.apply(null,u)}function Rr(t,e){if(Ir[t]===undefined){return false}if(e===undefined){return Ir[t]}Ir[t]=e;return true}function Lr(t){var e=this.localeData();var i=Hr(this,!t,e);if(t){i=e.pastFuture(+this,i)}return e.postformat(i)}var Fr=Math.abs;function $r(){var t=Fr(this._milliseconds)/1e3;var e=Fr(this._days);var i=Fr(this._months);var n,r,s;n=b(t/60);r=b(n/60);t%=60;n%=60;s=b(i/12);i%=12;var o=s;var a=i;var l=e;var h=r;var u=n;var c=t;var d=this.asSeconds();if(!d){return"P0D"}return(d<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(h||u||c?"T":"")+(h?h+"H":"")+(u?u+"M":"")+(c?c+"S":"")}var zr=Re.prototype;zr.abs=er;zr.add=nr;zr.subtract=rr;zr.as=hr;zr.asMilliseconds=dr;zr.asSeconds=fr;zr.asMinutes=pr;zr.asHours=gr;zr.asDays=mr;zr.asWeeks=vr;zr.asMonths=yr;zr.asYears=br;zr.valueOf=ur;zr._bubble=or;zr.get=wr;zr.milliseconds=_r;zr.seconds=Cr;zr.minutes=kr;zr.hours=Sr;zr.days=Tr;zr.weeks=Pr;zr.months=Dr;zr.years=Mr;zr.humanize=Lr;zr.toISOString=$r;zr.toString=$r;zr.toJSON=$r;zr.locale=Si;zr.localeData=Di;zr.toIsoString=Gt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$r);zr.lang=Ti;Y("X",0,0,"unix");Y("x",0,0,"valueOf");pt("x",lt);pt("X",ct);bt("X",function(t,e,i){i._d=new Date(parseFloat(t,10)*1e3)});bt("x",function(t,e,i){i._d=new Date(w(t))});h.version="2.11.2";t(De);h.fn=Pn;h.min=Ie;h.max=Ae;h.now=He;h.utc=l;h.unix=En;h.months=Xn;h.isDate=s;h.locale=M;h.invalid=d;h.duration=ti;h.isMoment=y;h.weekdays=Qn;h.parseZone=In;h.localeData=E;h.isDuration=Le;h.monthsShort=Kn;h.weekdaysMin=Jn;h.defineLocale=P;h.weekdaysShort=Zn;h.normalizeUnits=H;h.relativeTimeThreshold=Rr;h.prototype=Pn;var Nr=h;return Nr});(function(t,e){typeof exports==="object"&&typeof module!=="undefined"&&typeof require==="function"?e(require("../moment")):typeof define==="function"&&define.amd?define(["moment"],e):e(t.moment)})(this,function(t){"use strict";function r(t,e){var i=t.split("_");return e%10===1&&e%100!==11?i[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?i[1]:i[2]}function e(t,e,i){var n={mm:e?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};if(i==="m"){return e?"":""}else{return t+" "+r(n[i],+t)}}var i=[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];var n=t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"___________".split("_"),standalone:"___________".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(t){if(t.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}}else{if(this.day()===2){return"[] dddd [] LT"}else{return"[] dddd [] LT"}}},lastWeek:function(t){if(t.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}}else{if(this.day()===2){return"[] dddd [] LT"}else{return"[] dddd [] LT"}}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:e,mm:e,h:"",hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,i){if(t<4){return""}else if(t<12){return""}else if(t<17){return""}else{return""}},ordinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:7}});return n});(function(t){"use strict";if(typeof define==="function"&&define.amd){define(["jquery","moment"],t)}else if(typeof exports==="object"){module.exports=t(require("jquery"),require("moment"))}else{if(typeof jQuery==="undefined"){throw"bootstrap-datetimepicker requires jQuery to be loaded first"}if(typeof moment==="undefined"){throw"bootstrap-datetimepicker requires Moment.js to be loaded first"}t(jQuery,moment)}})(function(pt,gt){"use strict";if(!gt){throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first")}var o=function(s,u){var c={},h,d,a=true,i,o=false,f=false,l,n=0,r,p,g,e=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],m=["days","months","years","decades"],v=["top","bottom","auto"],y=["left","right","auto"],b=["default","top","bottom"],w={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},x={},_=function(){return gt.tz!==undefined&&u.timeZone!==undefined&&u.timeZone!==null&&u.timeZone!==""},C=function(t){var e;if(t===undefined||t===null){e=gt()}else if(gt.isDate(t)||gt.isMoment(t)){e=gt(t)}else if(_()){e=gt.tz(t,p,u.useStrict,u.timeZone)}else{e=gt(t,p,u.useStrict)}if(_()){e.tz(u.timeZone)}return e},k=function(t){if(typeof t!=="string"||t.length>1){throw new TypeError("isEnabled expects a single character string parameter")}switch(t){case"y":return r.indexOf("Y")!==-1;case"M":return r.indexOf("M")!==-1;case"d":return r.toLowerCase().indexOf("d")!==-1;case"h":case"H":return r.toLowerCase().indexOf("h")!==-1;case"m":return r.indexOf("m")!==-1;case"s":return r.indexOf("s")!==-1;default:return false}},S=function(){return k("h")||k("m")||k("s")},T=function(){return k("y")||k("M")||k("d")},D=function(){var t=pt("<thead>").append(pt("<tr>").append(pt("<th>").addClass("prev").attr("data-action","previous").append(pt("<span>").addClass(u.icons.previous))).append(pt("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",u.calendarWeeks?"6":"5")).append(pt("<th>").addClass("next").attr("data-action","next").append(pt("<span>").addClass(u.icons.next)))),e=pt("<tbody>").append(pt("<tr>").append(pt("<td>").attr("colspan",u.calendarWeeks?"8":"7")));return[pt("<div>").addClass("datepicker-days").append(pt("<table>").addClass("table-condensed").append(t).append(pt("<tbody>"))),pt("<div>").addClass("datepicker-months").append(pt("<table>").addClass("table-condensed").append(t.clone()).append(e.clone())),pt("<div>").addClass("datepicker-years").append(pt("<table>").addClass("table-condensed").append(t.clone()).append(e.clone())),pt("<div>").addClass("datepicker-decades").append(pt("<table>").addClass("table-condensed").append(t.clone()).append(e.clone()))]},M=function(){var t=pt("<tr>"),e=pt("<tr>"),i=pt("<tr>");if(k("h")){t.append(pt("<td>").append(pt("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(pt("<span>").addClass(u.icons.up))));e.append(pt("<td>").append(pt("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:u.tooltips.pickHour}).attr("data-action","showHours")));i.append(pt("<td>").append(pt("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(pt("<span>").addClass(u.icons.down))))}if(k("m")){if(k("h")){t.append(pt("<td>").addClass("separator"));e.append(pt("<td>").addClass("separator").html(":"));i.append(pt("<td>").addClass("separator"))}t.append(pt("<td>").append(pt("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(pt("<span>").addClass(u.icons.up))));e.append(pt("<td>").append(pt("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:u.tooltips.pickMinute}).attr("data-action","showMinutes")));i.append(pt("<td>").append(pt("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(pt("<span>").addClass(u.icons.down))))}if(k("s")){if(k("m")){t.append(pt("<td>").addClass("separator"));e.append(pt("<td>").addClass("separator").html(":"));i.append(pt("<td>").addClass("separator"))}t.append(pt("<td>").append(pt("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(pt("<span>").addClass(u.icons.up))));e.append(pt("<td>").append(pt("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:u.tooltips.pickSecond}).attr("data-action","showSeconds")));i.append(pt("<td>").append(pt("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(pt("<span>").addClass(u.icons.down))))}if(!l){t.append(pt("<td>").addClass("separator"));e.append(pt("<td>").append(pt("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:u.tooltips.togglePeriod})));i.append(pt("<td>").addClass("separator"))}return pt("<div>").addClass("timepicker-picker").append(pt("<table>").addClass("table-condensed").append([t,e,i]))},P=function(){var t=pt("<div>").addClass("timepicker-hours").append(pt("<table>").addClass("table-condensed")),e=pt("<div>").addClass("timepicker-minutes").append(pt("<table>").addClass("table-condensed")),i=pt("<div>").addClass("timepicker-seconds").append(pt("<table>").addClass("table-condensed")),n=[M()];if(k("h")){n.push(t)}if(k("m")){n.push(e)}if(k("s")){n.push(i)}return n},E=function(){var t=[];if(u.showTodayButton){t.push(pt("<td>").append(pt("<a>").attr({"data-action":"today",title:u.tooltips.today}).append(pt("<span>").addClass(u.icons.today))))}if(!u.sideBySide&&T()&&S()){t.push(pt("<td>").append(pt("<a>").attr({"data-action":"togglePicker",title:u.tooltips.selectTime}).append(pt("<span>").addClass(u.icons.time))))}if(u.showClear){t.push(pt("<td>").append(pt("<a>").attr({"data-action":"clear",title:u.tooltips.clear}).append(pt("<span>").addClass(u.icons.clear))))}if(u.showClose){t.push(pt("<td>").append(pt("<a>").attr({"data-action":"close",title:u.tooltips.close}).append(pt("<span>").addClass(u.icons.close))))}return pt("<table>").addClass("table-condensed").append(pt("<tbody>").append(pt("<tr>").append(t)))},I=function(){var t=pt("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),e=pt("<div>").addClass("datepicker").append(D()),i=pt("<div>").addClass("timepicker").append(P()),n=pt("<ul>").addClass("list-unstyled"),r=pt("<li>").addClass("picker-switch"+(u.collapse?" accordion-toggle":"")).append(E());if(u.inline){t.removeClass("dropdown-menu")}if(l){t.addClass("usetwentyfour")}if(k("s")&&!l){t.addClass("wider")}if(u.sideBySide&&T()&&S()){t.addClass("timepicker-sbs");if(u.toolbarPlacement==="top"){t.append(r)}t.append(pt("<div>").addClass("row").append(e.addClass("col-md-6")).append(i.addClass("col-md-6")));if(u.toolbarPlacement==="bottom"){t.append(r)}return t}if(u.toolbarPlacement==="top"){n.append(r)}if(T()){n.append(pt("<li>").addClass(u.collapse&&S()?"collapse in":"").append(e))}if(u.toolbarPlacement==="default"){n.append(r)}if(S()){n.append(pt("<li>").addClass(u.collapse&&T()?"collapse":"").append(i))}if(u.toolbarPlacement==="bottom"){n.append(r)}return t.append(n)},t=function(){var i,n={};if(s.is("input")||u.inline){i=s.data()}else{i=s.find("input").data()}if(i.dateOptions&&i.dateOptions instanceof Object){n=pt.extend(true,n,i.dateOptions)}pt.each(u,function(t){var e="date"+t.charAt(0).toUpperCase()+t.slice(1);if(i[e]!==undefined){n[t]=i[e]}});return n},A=function(){var t=(o||s).position(),e=(o||s).offset(),i=u.widgetPositioning.vertical,n=u.widgetPositioning.horizontal,r;if(u.widgetParent){r=u.widgetParent.append(f)}else if(s.is("input")){r=s.after(f).parent()}else if(u.inline){r=s.append(f);return}else{r=s;s.children().first().after(f)}if(i==="auto"){if(e.top+f.height()*1.5>=pt(window).height()+pt(window).scrollTop()&&f.height()+s.outerHeight()<e.top){i="top"}else{i="bottom"}}if(n==="auto"){if(r.width()<e.left+f.outerWidth()/2&&e.left+f.outerWidth()>pt(window).width()){n="right"}else{n="left"}}if(i==="top"){f.addClass("top").removeClass("bottom")}else{f.addClass("bottom").removeClass("top")}if(n==="right"){f.addClass("pull-right")}else{f.removeClass("pull-right")}if(r.css("position")==="static"){r=r.parents().filter(function(){return pt(this).css("position")!=="static"}).first()}if(r.length===0){throw new Error("datetimepicker component should be placed within a non-static positioned container")}f.css({top:i==="top"?"auto":t.top+s.outerHeight(),bottom:i==="top"?r.outerHeight()-(r===s?0:t.top):"auto",left:n==="left"?r===s?0:t.left:"auto",right:n==="left"?"auto":r.outerWidth()-s.outerWidth()-(r===s?0:t.left)})},H=function(t){if(t.type==="dp.change"&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)){return}s.trigger(t)},R=function(t){if(t==="y"){t="YYYY"}H({type:"dp.update",change:t,viewDate:d.clone()})},L=function(t){if(!f){return}if(t){g=Math.max(n,Math.min(3,g+t))}f.find(".datepicker > div").hide().filter(".datepicker-"+e[g].clsName).show()},F=function(){var t=pt("<tr>"),e=d.clone().startOf("w").startOf("d");if(u.calendarWeeks===true){t.append(pt("<th>").addClass("cw").text("#"))}while(e.isBefore(d.clone().endOf("w"))){t.append(pt("<th>").addClass("dow").text(e.format("dd")));e.add(1,"d")}f.find(".datepicker-days thead").append(t)},$=function(t){return u.disabledDates[t.format("YYYY-MM-DD")]===true},z=function(t){return u.enabledDates[t.format("YYYY-MM-DD")]===true},N=function(t){return u.disabledHours[t.format("H")]===true},O=function(t){return u.enabledHours[t.format("H")]===true},B=function(t,e){if(!t.isValid()){return false}if(u.disabledDates&&e==="d"&&$(t)){return false}if(u.enabledDates&&e==="d"&&!z(t)){return false}if(u.minDate&&t.isBefore(u.minDate,e)){return false}if(u.maxDate&&t.isAfter(u.maxDate,e)){return false}if(u.daysOfWeekDisabled&&e==="d"&&u.daysOfWeekDisabled.indexOf(t.day())!==-1){return false}if(u.disabledHours&&(e==="h"||e==="m"||e==="s")&&N(t)){return false}if(u.enabledHours&&(e==="h"||e==="m"||e==="s")&&!O(t)){return false}if(u.disabledTimeIntervals&&(e==="h"||e==="m"||e==="s")){var i=false;pt.each(u.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1])){i=true;return false}});if(i){return false}}return true},W=function(){var t=[],e=d.clone().startOf("y").startOf("d");while(e.isSame(d,"y")){t.push(pt("<span>").attr("data-action","selectMonth").addClass("month").text(e.format("MMM")));e.add(1,"M")}f.find(".datepicker-months td").empty().append(t)},j=function(){var t=f.find(".datepicker-months"),e=t.find("th"),i=t.find("tbody").find("span");e.eq(0).find("span").attr("title",u.tooltips.prevYear);e.eq(1).attr("title",u.tooltips.selectYear);e.eq(2).find("span").attr("title",u.tooltips.nextYear);t.find(".disabled").removeClass("disabled");if(!B(d.clone().subtract(1,"y"),"y")){e.eq(0).addClass("disabled")}e.eq(1).text(d.year());if(!B(d.clone().add(1,"y"),"y")){e.eq(2).addClass("disabled")}i.removeClass("active");if(h.isSame(d,"y")&&!a){i.eq(h.month()).addClass("active")}i.each(function(t){if(!B(d.clone().month(t),"M")){pt(this).addClass("disabled")}})},q=function(){var t=f.find(".datepicker-years"),e=t.find("th"),i=d.clone().subtract(5,"y"),n=d.clone().add(6,"y"),r="";e.eq(0).find("span").attr("title",u.tooltips.prevDecade);e.eq(1).attr("title",u.tooltips.selectDecade);e.eq(2).find("span").attr("title",u.tooltips.nextDecade);t.find(".disabled").removeClass("disabled");if(u.minDate&&u.minDate.isAfter(i,"y")){e.eq(0).addClass("disabled")}e.eq(1).text(i.year()+"-"+n.year());if(u.maxDate&&u.maxDate.isBefore(n,"y")){e.eq(2).addClass("disabled")}while(!i.isAfter(n,"y")){r+='<span data-action="selectYear" class="year'+(i.isSame(h,"y")&&!a?" active":"")+(!B(i,"y")?" disabled":"")+'">'+i.year()+"</span>";i.add(1,"y")}t.find("td").html(r)},Y=function(){var t=f.find(".datepicker-decades"),e=t.find("th"),i=gt({y:d.year()-d.year()%100-1}),n=i.clone().add(100,"y"),r=i.clone(),s=false,o=false,a,l="";e.eq(0).find("span").attr("title",u.tooltips.prevCentury);e.eq(2).find("span").attr("title",u.tooltips.nextCentury);t.find(".disabled").removeClass("disabled");if(i.isSame(gt({y:1900}))||u.minDate&&u.minDate.isAfter(i,"y")){e.eq(0).addClass("disabled")}e.eq(1).text(i.year()+"-"+n.year());if(i.isSame(gt({y:2e3}))||u.maxDate&&u.maxDate.isBefore(n,"y")){e.eq(2).addClass("disabled")}while(!i.isAfter(n,"y")){a=i.year()+12;s=u.minDate&&u.minDate.isAfter(i,"y")&&u.minDate.year()<=a;o=u.maxDate&&u.maxDate.isAfter(i,"y")&&u.maxDate.year()<=a;l+='<span data-action="selectDecade" class="decade'+(h.isAfter(i)&&h.year()<=a?" active":"")+(!B(i,"y")&&!s&&!o?" disabled":"")+'" data-selection="'+(i.year()+6)+'">'+(i.year()+1)+" - "+(i.year()+12)+"</span>";i.add(12,"y")}l+="<span></span><span></span><span></span>";t.find("td").html(l);e.eq(1).text(r.year()+1+"-"+i.year())},U=function(){var t=f.find(".datepicker-days"),e=t.find("th"),i,n=[],r,s=[],o;if(!T()){return}e.eq(0).find("span").attr("title",u.tooltips.prevMonth);e.eq(1).attr("title",u.tooltips.selectMonth);e.eq(2).find("span").attr("title",u.tooltips.nextMonth);t.find(".disabled").removeClass("disabled");e.eq(1).text(d.format(u.dayViewHeaderFormat));if(!B(d.clone().subtract(1,"M"),"M")){e.eq(0).addClass("disabled")}if(!B(d.clone().add(1,"M"),"M")){e.eq(2).addClass("disabled")}i=d.clone().startOf("M").startOf("w").startOf("d");for(o=0;o<42;o++){if(i.weekday()===0){r=pt("<tr>");if(u.calendarWeeks){r.append('<td class="cw">'+i.week()+"</td>")}n.push(r)}s=["day"];if(i.isBefore(d,"M")){s.push("old")}if(i.isAfter(d,"M")){s.push("new")}if(i.isSame(h,"d")&&!a){s.push("active")}if(!B(i,"d")){s.push("disabled")}if(i.isSame(C(),"d")){s.push("today")}if(i.day()===0||i.day()===6){s.push("weekend")}H({type:"dp.classify",date:i,classNames:s});r.append('<td data-action="selectDay" data-day="'+i.format("L")+'" class="'+s.join(" ")+'">'+i.date()+"</td>");i.add(1,"d")}t.find("tbody").empty().append(n);j();q();Y()},V=function(){var t=f.find(".timepicker-hours table"),e=d.clone().startOf("d"),i=[],n=pt("<tr>");if(d.hour()>11&&!l){e.hour(12)}while(e.isSame(d,"d")&&(l||d.hour()<12&&e.hour()<12||d.hour()>11)){if(e.hour()%4===0){n=pt("<tr>");i.push(n)}n.append('<td data-action="selectHour" class="hour'+(!B(e,"h")?" disabled":"")+'">'+e.format(l?"HH":"hh")+"</td>");e.add(1,"h")}t.empty().append(i)},G=function(){var t=f.find(".timepicker-minutes table"),e=d.clone().startOf("h"),i=[],n=pt("<tr>"),r=u.stepping===1?5:u.stepping;while(d.isSame(e,"h")){if(e.minute()%(r*4)===0){n=pt("<tr>");i.push(n)}n.append('<td data-action="selectMinute" class="minute'+(!B(e,"m")?" disabled":"")+'">'+e.format("mm")+"</td>");e.add(r,"m")}t.empty().append(i)},X=function(){var t=f.find(".timepicker-seconds table"),e=d.clone().startOf("m"),i=[],n=pt("<tr>");while(d.isSame(e,"m")){if(e.second()%20===0){n=pt("<tr>");i.push(n)}n.append('<td data-action="selectSecond" class="second'+(!B(e,"s")?" disabled":"")+'">'+e.format("ss")+"</td>");e.add(5,"s")}t.empty().append(i)},K=function(){var t,e,i=f.find(".timepicker span[data-time-component]");if(!l){t=f.find(".timepicker [data-action=togglePeriod]");e=h.clone().add(h.hours()>=12?-12:12,"h");t.text(h.format("A"));if(B(e,"h")){t.removeClass("disabled")}else{t.addClass("disabled")}}i.filter("[data-time-component=hours]").text(h.format(l?"HH":"hh"));i.filter("[data-time-component=minutes]").text(h.format("mm"));i.filter("[data-time-component=seconds]").text(h.format("ss"));V();G();X()},Q=function(){if(!f){return}U();K()},Z=function(t){var e=a?null:h;if(!t){a=true;i.val("");s.data("date","");H({type:"dp.change",date:false,oldDate:e});Q();return}t=t.clone().locale(u.locale);if(_()){t.tz(u.timeZone)}if(u.stepping!==1){t.minutes(Math.round(t.minutes()/u.stepping)*u.stepping).seconds(0);while(u.minDate&&t.isBefore(u.minDate)){t.add(u.stepping,"minutes")}}if(B(t)){h=t;d=h.clone();i.val(h.format(r));s.data("date",h.format(r));a=false;Q();H({type:"dp.change",date:h.clone(),oldDate:e})}else{if(!u.keepInvalid){i.val(a?"":h.format(r))}else{H({type:"dp.change",date:t,oldDate:e})}H({type:"dp.error",date:t,oldDate:e})}},J=function(){var e=false;if(!f){return c}f.find(".collapse").each(function(){var t=pt(this).data("collapse");if(t&&t.transitioning){e=true;return false}return true});if(e){return c}if(o&&o.hasClass("btn")){o.toggleClass("active")}f.hide();pt(window).off("resize",A);f.off("click","[data-action]");f.off("mousedown",false);f.remove();f=false;H({type:"dp.hide",date:h.clone()});i.blur();d=h.clone();return c},tt=function(){Z(null)},et=function(t){if(u.parseInputDate===undefined){if(!gt.isMoment(t)||t instanceof Date){t=C(t)}}else{t=u.parseInputDate(t)}return t},it={next:function(){var t=e[g].navFnc;d.add(e[g].navStep,t);U();R(t)},previous:function(){var t=e[g].navFnc;d.subtract(e[g].navStep,t);U();R(t)},pickerSwitch:function(){L(1)},selectMonth:function(t){var e=pt(t.target).closest("tbody").find("span").index(pt(t.target));d.month(e);if(g===n){Z(h.clone().year(d.year()).month(d.month()));if(!u.inline){J()}}else{L(-1);U()}R("M")},selectYear:function(t){var e=parseInt(pt(t.target).text(),10)||0;d.year(e);if(g===n){Z(h.clone().year(d.year()));if(!u.inline){J()}}else{L(-1);U()}R("YYYY")},selectDecade:function(t){var e=parseInt(pt(t.target).data("selection"),10)||0;d.year(e);if(g===n){Z(h.clone().year(d.year()));if(!u.inline){J()}}else{L(-1);U()}R("YYYY")},selectDay:function(t){var e=d.clone();if(pt(t.target).is(".old")){e.subtract(1,"M")}if(pt(t.target).is(".new")){e.add(1,"M")}Z(e.date(parseInt(pt(t.target).text(),10)));if(!S()&&!u.keepOpen&&!u.inline){J()}},incrementHours:function(){var t=h.clone().add(1,"h");if(B(t,"h")){Z(t)}},incrementMinutes:function(){var t=h.clone().add(u.stepping,"m");if(B(t,"m")){Z(t)}},incrementSeconds:function(){var t=h.clone().add(1,"s");if(B(t,"s")){Z(t)}},decrementHours:function(){var t=h.clone().subtract(1,"h");if(B(t,"h")){Z(t)}},decrementMinutes:function(){var t=h.clone().subtract(u.stepping,"m");if(B(t,"m")){Z(t)}},decrementSeconds:function(){var t=h.clone().subtract(1,"s");if(B(t,"s")){Z(t)}},togglePeriod:function(){Z(h.clone().add(h.hours()>=12?-12:12,"h"))},togglePicker:function(t){var e=pt(t.target),i=e.closest("ul"),n=i.find(".in"),r=i.find(".collapse:not(.in)"),s;if(n&&n.length){s=n.data("collapse");if(s&&s.transitioning){return}if(n.collapse){n.collapse("hide");r.collapse("show")}else{n.removeClass("in");r.addClass("in")}if(e.is("span")){e.toggleClass(u.icons.time+" "+u.icons.date)}else{e.find("span").toggleClass(u.icons.time+" "+u.icons.date)}}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide();f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var e=parseInt(pt(t.target).text(),10);if(!l){if(h.hours()>=12){if(e!==12){e+=12}}else{if(e===12){e=0}}}Z(h.clone().hours(e));it.showPicker.call(c)},selectMinute:function(t){Z(h.clone().minutes(parseInt(pt(t.target).text(),10)));it.showPicker.call(c)},selectSecond:function(t){Z(h.clone().seconds(parseInt(pt(t.target).text(),10)));it.showPicker.call(c)},clear:tt,today:function(){var t=C();if(B(t,"d")){Z(t)}},close:J},nt=function(t){if(pt(t.currentTarget).is(".disabled")){return false}it[pt(t.currentTarget).data("action")].apply(c,arguments);return false},rt=function(){var t,e={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};if(i.prop("disabled")||!u.ignoreReadonly&&i.prop("readonly")||f){return c}if(i.val()!==undefined&&i.val().trim().length!==0){Z(et(i.val().trim()))}else if(a&&u.useCurrent&&(u.inline||i.is("input")&&i.val().trim().length===0)){t=C();if(typeof u.useCurrent==="string"){t=e[u.useCurrent](t)}Z(t)}f=I();F();W();f.find(".timepicker-hours").hide();f.find(".timepicker-minutes").hide();f.find(".timepicker-seconds").hide();Q();L();pt(window).on("resize",A);f.on("click","[data-action]",nt);f.on("mousedown",false);if(o&&o.hasClass("btn")){o.toggleClass("active")}A();f.show();if(u.focusOnShow&&!i.is(":focus")){i.focus()}H({type:"dp.show"});return c},st=function(){return f?J():rt()},ot=function(t){var e=null,i,n,r=[],s={},o=t.which,a,l,h="p";x[o]=h;for(i in x){if(x.hasOwnProperty(i)&&x[i]===h){r.push(i);if(parseInt(i,10)!==o){s[i]=true}}}for(i in u.keyBinds){if(u.keyBinds.hasOwnProperty(i)&&typeof u.keyBinds[i]==="function"){a=i.split(" ");if(a.length===r.length&&w[o]===a[a.length-1]){l=true;for(n=a.length-2;n>=0;n--){if(!(w[a[n]]in s)){l=false;break}}if(l){e=u.keyBinds[i];break}}}}if(e){e.call(c,f);t.stopPropagation();t.preventDefault()}},at=function(t){x[t.which]="r";t.stopPropagation();t.preventDefault()},lt=function(t){var e=pt(t.target).val().trim(),i=e?et(e):null;Z(i);t.stopImmediatePropagation();return false},ht=function(){i.on({change:lt,blur:u.debug?"":J,keydown:ot,keyup:at,focus:u.allowInputToggle?rt:""});if(s.is("input")){i.on({focus:rt})}else if(o){o.on("click",st);o.on("mousedown",false)}},ut=function(){i.off({change:lt,blur:blur,keydown:ot,keyup:at,focus:u.allowInputToggle?J:""});if(s.is("input")){i.off({focus:rt})}else if(o){o.off("click",st);o.off("mousedown",false)}},ct=function(t){var e={};pt.each(t,function(){var t=et(this);if(t.isValid()){e[t.format("YYYY-MM-DD")]=true}});return Object.keys(e).length?e:false},dt=function(t){var e={};pt.each(t,function(){e[this]=true});return Object.keys(e).length?e:false},ft=function(){var t=u.format||"L LT";r=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){var e=h.localeData().longDateFormat(t)||t;return e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return h.localeData().longDateFormat(t)||t})});p=u.extraFormats?u.extraFormats.slice():[];if(p.indexOf(t)<0&&p.indexOf(r)<0){p.push(r)}l=r.toLowerCase().indexOf("a")<1&&r.replace(/\[.*?\]/g,"").indexOf("h")<1;if(k("y")){n=2}if(k("M")){n=1}if(k("d")){n=0}g=Math.max(n,g);if(!a){Z(h)}};c.destroy=function(){J();ut();s.removeData("DateTimePicker");s.removeData("date")};c.toggle=st;c.show=rt;c.hide=J;c.disable=function(){J();if(o&&o.hasClass("btn")){o.addClass("disabled")}i.prop("disabled",true);return c};c.enable=function(){if(o&&o.hasClass("btn")){o.removeClass("disabled")}i.prop("disabled",false);return c};c.ignoreReadonly=function(t){if(arguments.length===0){return u.ignoreReadonly}if(typeof t!=="boolean"){throw new TypeError("ignoreReadonly () expects a boolean parameter")}u.ignoreReadonly=t;return c};c.options=function(t){if(arguments.length===0){return pt.extend(true,{},u)}if(!(t instanceof Object)){throw new TypeError("options() options parameter should be an object")}pt.extend(true,u,t);pt.each(u,function(t,e){if(c[t]!==undefined){c[t](e)}else{throw new TypeError("option "+t+" is not recognized!")}});return c};c.date=function(t){if(arguments.length===0){if(a){return null}return h.clone()}if(t!==null&&typeof t!=="string"&&!gt.isMoment(t)&&!(t instanceof Date)){throw new TypeError("date() parameter must be one of [null, string, moment or Date]")}Z(t===null?null:et(t));return c};c.format=function(t){if(arguments.length===0){return u.format}if(typeof t!=="string"&&(typeof t!=="boolean"||t!==false)){throw new TypeError("format() expects a string or boolean:false parameter "+t)}u.format=t;if(r){ft()}return c};c.timeZone=function(t){if(arguments.length===0){return u.timeZone}if(typeof t!=="string"){throw new TypeError("newZone() expects a string parameter")}u.timeZone=t;return c};c.dayViewHeaderFormat=function(t){if(arguments.length===0){return u.dayViewHeaderFormat}if(typeof t!=="string"){throw new TypeError("dayViewHeaderFormat() expects a string parameter")}u.dayViewHeaderFormat=t;return c};c.extraFormats=function(t){if(arguments.length===0){return u.extraFormats}if(t!==false&&!(t instanceof Array)){throw new TypeError("extraFormats() expects an array or false parameter")}u.extraFormats=t;if(p){ft()}return c};c.disabledDates=function(t){if(arguments.length===0){return u.disabledDates?pt.extend({},u.disabledDates):u.disabledDates}if(!t){u.disabledDates=false;Q();return c}if(!(t instanceof Array)){throw new TypeError("disabledDates() expects an array parameter")}u.disabledDates=ct(t);u.enabledDates=false;Q();return c};c.enabledDates=function(t){if(arguments.length===0){return u.enabledDates?pt.extend({},u.enabledDates):u.enabledDates}if(!t){u.enabledDates=false;Q();return c}if(!(t instanceof Array)){throw new TypeError("enabledDates() expects an array parameter")}u.enabledDates=ct(t);u.disabledDates=false;Q();return c};c.daysOfWeekDisabled=function(t){if(arguments.length===0){return u.daysOfWeekDisabled.splice(0)}if(typeof t==="boolean"&&!t){u.daysOfWeekDisabled=false;Q();return c}if(!(t instanceof Array)){throw new TypeError("daysOfWeekDisabled() expects an array parameter")}u.daysOfWeekDisabled=t.reduce(function(t,e){e=parseInt(e,10);if(e>6||e<0||isNaN(e)){return t}if(t.indexOf(e)===-1){t.push(e)}return t},[]).sort();if(u.useCurrent&&!u.keepInvalid){var e=0;while(!B(h,"d")){h.add(1,"d");if(e===31){throw"Tried 31 times to find a valid date"}e++}Z(h)}Q();return c};c.maxDate=function(t){if(arguments.length===0){return u.maxDate?u.maxDate.clone():u.maxDate}if(typeof t==="boolean"&&t===false){u.maxDate=false;Q();return c}if(typeof t==="string"){if(t==="now"||t==="moment"){t=C()}}var e=et(t);if(!e.isValid()){throw new TypeError("maxDate() Could not parse date parameter: "+t)}if(u.minDate&&e.isBefore(u.minDate)){throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(r))}u.maxDate=e;if(u.useCurrent&&!u.keepInvalid&&h.isAfter(t)){Z(u.maxDate)}if(d.isAfter(e)){d=e.clone().subtract(u.stepping,"m")}Q();return c};c.minDate=function(t){if(arguments.length===0){return u.minDate?u.minDate.clone():u.minDate}if(typeof t==="boolean"&&t===false){u.minDate=false;Q();return c}if(typeof t==="string"){if(t==="now"||t==="moment"){t=C()}}var e=et(t);if(!e.isValid()){throw new TypeError("minDate() Could not parse date parameter: "+t)}if(u.maxDate&&e.isAfter(u.maxDate)){throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(r))}u.minDate=e;if(u.useCurrent&&!u.keepInvalid&&h.isBefore(t)){Z(u.minDate)}if(d.isBefore(e)){d=e.clone().add(u.stepping,"m")}Q();return c};c.defaultDate=function(t){if(arguments.length===0){return u.defaultDate?u.defaultDate.clone():u.defaultDate}if(!t){u.defaultDate=false;return c}if(typeof t==="string"){if(t==="now"||t==="moment"){t=C()}else{t=C(t)}}var e=et(t);if(!e.isValid()){throw new TypeError("defaultDate() Could not parse date parameter: "+t)}if(!B(e)){throw new TypeError("defaultDate() date passed is invalid according to component setup validations")}u.defaultDate=e;if(u.defaultDate&&u.inline||i.val().trim()===""){Z(u.defaultDate)}return c};c.locale=function(t){if(arguments.length===0){return u.locale}if(!gt.localeData(t)){throw new TypeError("locale() locale "+t+" is not loaded from moment locales!")}u.locale=t;h.locale(u.locale);d.locale(u.locale);if(r){ft()}if(f){J();rt()}return c};c.stepping=function(t){if(arguments.length===0){return u.stepping}t=parseInt(t,10);if(isNaN(t)||t<1){t=1}u.stepping=t;return c};c.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(arguments.length===0){return u.useCurrent}if(typeof t!=="boolean"&&typeof t!=="string"){throw new TypeError("useCurrent() expects a boolean or string parameter")}if(typeof t==="string"&&e.indexOf(t.toLowerCase())===-1){throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "))}u.useCurrent=t;return c};c.collapse=function(t){if(arguments.length===0){return u.collapse}if(typeof t!=="boolean"){throw new TypeError("collapse() expects a boolean parameter")}if(u.collapse===t){return c}u.collapse=t;if(f){J();rt()}return c};c.icons=function(t){if(arguments.length===0){return pt.extend({},u.icons)}if(!(t instanceof Object)){throw new TypeError("icons() expects parameter to be an Object")}pt.extend(u.icons,t);if(f){J();rt()}return c};c.tooltips=function(t){if(arguments.length===0){return pt.extend({},u.tooltips)}if(!(t instanceof Object)){throw new TypeError("tooltips() expects parameter to be an Object")}pt.extend(u.tooltips,t);if(f){J();rt()}return c};c.useStrict=function(t){if(arguments.length===0){return u.useStrict}if(typeof t!=="boolean"){throw new TypeError("useStrict() expects a boolean parameter")}u.useStrict=t;return c};c.sideBySide=function(t){if(arguments.length===0){return u.sideBySide}if(typeof t!=="boolean"){throw new TypeError("sideBySide() expects a boolean parameter")}u.sideBySide=t;if(f){J();rt()}return c};c.viewMode=function(t){if(arguments.length===0){return u.viewMode}if(typeof t!=="string"){throw new TypeError("viewMode() expects a string parameter")}if(m.indexOf(t)===-1){throw new TypeError("viewMode() parameter must be one of ("+m.join(", ")+") value")}u.viewMode=t;g=Math.max(m.indexOf(t),n);L();return c};c.toolbarPlacement=function(t){if(arguments.length===0){return u.toolbarPlacement}if(typeof t!=="string"){throw new TypeError("toolbarPlacement() expects a string parameter")}if(b.indexOf(t)===-1){throw new TypeError("toolbarPlacement() parameter must be one of ("+b.join(", ")+") value")}u.toolbarPlacement=t;if(f){J();rt()}return c};c.widgetPositioning=function(t){if(arguments.length===0){return pt.extend({},u.widgetPositioning)}if({}.toString.call(t)!=="[object Object]"){throw new TypeError("widgetPositioning() expects an object variable")}if(t.horizontal){if(typeof t.horizontal!=="string"){throw new TypeError("widgetPositioning() horizontal variable must be a string")}t.horizontal=t.horizontal.toLowerCase();if(y.indexOf(t.horizontal)===-1){throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+y.join(", ")+")")}u.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if(typeof t.vertical!=="string"){throw new TypeError("widgetPositioning() vertical variable must be a string")}t.vertical=t.vertical.toLowerCase();if(v.indexOf(t.vertical)===-1){throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+v.join(", ")+")")}u.widgetPositioning.vertical=t.vertical}Q();return c};c.calendarWeeks=function(t){if(arguments.length===0){return u.calendarWeeks}if(typeof t!=="boolean"){throw new TypeError("calendarWeeks() expects parameter to be a boolean value")}u.calendarWeeks=t;Q();return c};c.showTodayButton=function(t){if(arguments.length===0){return u.showTodayButton}if(typeof t!=="boolean"){throw new TypeError("showTodayButton() expects a boolean parameter")}u.showTodayButton=t;if(f){J();rt()}return c};c.showClear=function(t){if(arguments.length===0){return u.showClear}if(typeof t!=="boolean"){throw new TypeError("showClear() expects a boolean parameter")}u.showClear=t;if(f){J();rt()}return c};c.widgetParent=function(t){if(arguments.length===0){return u.widgetParent}if(typeof t==="string"){t=pt(t)}if(t!==null&&(typeof t!=="string"&&!(t instanceof pt))){throw new TypeError("widgetParent() expects a string or a jQuery object parameter")}u.widgetParent=t;if(f){J();rt()}return c};c.keepOpen=function(t){if(arguments.length===0){return u.keepOpen}if(typeof t!=="boolean"){throw new TypeError("keepOpen() expects a boolean parameter")}u.keepOpen=t;return c};c.focusOnShow=function(t){if(arguments.length===0){return u.focusOnShow}if(typeof t!=="boolean"){throw new TypeError("focusOnShow() expects a boolean parameter")}u.focusOnShow=t;return c};c.inline=function(t){if(arguments.length===0){return u.inline}if(typeof t!=="boolean"){throw new TypeError("inline() expects a boolean parameter")}u.inline=t;return c};c.clear=function(){tt();return c};c.keyBinds=function(t){if(arguments.length===0){return u.keyBinds}u.keyBinds=t;return c};c.getMoment=function(t){return C(t)};c.debug=function(t){if(typeof t!=="boolean"){throw new TypeError("debug() expects a boolean parameter")}u.debug=t;return c};c.allowInputToggle=function(t){if(arguments.length===0){return u.allowInputToggle}if(typeof t!=="boolean"){throw new TypeError("allowInputToggle() expects a boolean parameter")}u.allowInputToggle=t;return c};c.showClose=function(t){if(arguments.length===0){return u.showClose}if(typeof t!=="boolean"){throw new TypeError("showClose() expects a boolean parameter")}u.showClose=t;return c};c.keepInvalid=function(t){if(arguments.length===0){return u.keepInvalid}if(typeof t!=="boolean"){throw new TypeError("keepInvalid() expects a boolean parameter")}u.keepInvalid=t;return c};c.datepickerInput=function(t){if(arguments.length===0){return u.datepickerInput}if(typeof t!=="string"){throw new TypeError("datepickerInput() expects a string parameter")}u.datepickerInput=t;return c};c.parseInputDate=function(t){if(arguments.length===0){return u.parseInputDate}if(typeof t!=="function"){throw new TypeError("parseInputDate() sholud be as function")}u.parseInputDate=t;return c};c.disabledTimeIntervals=function(t){if(arguments.length===0){return u.disabledTimeIntervals?pt.extend({},u.disabledTimeIntervals):u.disabledTimeIntervals}if(!t){u.disabledTimeIntervals=false;Q();return c}if(!(t instanceof Array)){throw new TypeError("disabledTimeIntervals() expects an array parameter")}u.disabledTimeIntervals=t;Q();return c};c.disabledHours=function(t){if(arguments.length===0){return u.disabledHours?pt.extend({},u.disabledHours):u.disabledHours}if(!t){u.disabledHours=false;Q();return c}if(!(t instanceof Array)){throw new TypeError("disabledHours() expects an array parameter")}u.disabledHours=dt(t);u.enabledHours=false;if(u.useCurrent&&!u.keepInvalid){var e=0;while(!B(h,"h")){h.add(1,"h");if(e===24){throw"Tried 24 times to find a valid date"}e++}Z(h)}Q();return c};c.enabledHours=function(t){if(arguments.length===0){return u.enabledHours?pt.extend({},u.enabledHours):u.enabledHours}if(!t){u.enabledHours=false;Q();return c}if(!(t instanceof Array)){throw new TypeError("enabledHours() expects an array parameter")}u.enabledHours=dt(t);u.disabledHours=false;if(u.useCurrent&&!u.keepInvalid){var e=0;while(!B(h,"h")){h.add(1,"h");if(e===24){throw"Tried 24 times to find a valid date"}e++}Z(h)}Q();return c};c.viewDate=function(t){if(arguments.length===0){return d.clone()}if(!t){d=h.clone();return c}if(typeof t!=="string"&&!gt.isMoment(t)&&!(t instanceof Date)){throw new TypeError("viewDate() parameter must be one of [string, moment or Date]")}d=et(t);R();return c};if(s.is("input")){i=s}else{i=s.find(u.datepickerInput);if(i.length===0){i=s.find("input")}else if(!i.is("input")){throw new Error('CSS class "'+u.datepickerInput+'" cannot be applied to non input element')}}if(s.hasClass("input-group")){if(s.find(".datepickerbutton").length===0){o=s.find(".input-group-addon")}else{o=s.find(".datepickerbutton")}}if(!u.inline&&!i.is("input")){throw new Error("Could not initialize DateTimePicker without an input element")}h=C();d=h.clone();pt.extend(true,u,t());c.options(u);ft();ht();if(i.prop("disabled")){c.disable()}if(i.is("input")&&i.val().trim().length!==0){Z(et(i.val().trim()))}else if(u.defaultDate&&i.attr("placeholder")===undefined){Z(u.defaultDate)}if(u.inline){rt()}return c};pt.fn.datetimepicker=function(i){i=i||{};var n=Array.prototype.slice.call(arguments,1),r=true,t=["destroy","hide","show","toggle"],s;if(typeof i==="object"){return this.each(function(){var t=pt(this),e;if(!t.data("DateTimePicker")){e=pt.extend(true,{},pt.fn.datetimepicker.defaults,i);t.data("DateTimePicker",o(t,e))}})}else if(typeof i==="string"){this.each(function(){var t=pt(this),e=t.data("DateTimePicker");if(!e){throw new Error('bootstrap-datetimepicker("'+i+'") method was called on an element that is not using DateTimePicker')}s=e[i].apply(e,n);r=s===e});if(r||pt.inArray(i,t)>-1){return this}return s}throw new TypeError("Invalid arguments for DateTimePicker: "+i)};pt.fn.datetimepicker.defaults={timeZone:"",format:false,dayViewHeaderFormat:"MMMM YYYY",extraFormats:false,stepping:1,minDate:false,maxDate:false,useCurrent:true,collapse:true,locale:gt.locale(),defaultDate:false,disabledDates:false,enabledDates:false,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:false,sideBySide:false,daysOfWeekDisabled:false,calendarWeeks:false,viewMode:"days",toolbarPlacement:"default",showTodayButton:false,showClear:false,showClose:false,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:false,keepOpen:false,focusOnShow:true,inline:false,keepInvalid:false,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().subtract(7,"d"))}else{this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(!t){this.show();return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().add(7,"d"))}else{this.date(e.clone().subtract(this.stepping(),"m"))}},"control up":function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().subtract(1,"y"))}else{this.date(e.clone().add(1,"h"))}},"control down":function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().add(1,"y"))}else{this.date(e.clone().subtract(1,"h"))}},left:function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().subtract(1,"d"))}},right:function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){if(!t){return}if(t.find(".timepicker").is(":visible")){t.find('.btn[data-action="togglePeriod"]').click()}},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:false,allowInputToggle:false,disabledTimeIntervals:false,disabledHours:false,enabledHours:false,viewDate:false};return pt.fn.datetimepicker});if("undefined"==typeof jQuery)throw new Error("Jasny Bootstrap's JavaScript requires jQuery");+function(r){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}void 0===r.support.transition&&(r.fn.emulateTransitionEnd=function(t){var e=!1,i=this;r(this).one(r.support.transition.end,function(){e=!0});var n=function(){e||r(i).trigger(r.support.transition.end)};return setTimeout(n,t),this},r(function(){r.support.transition=t()}))}(window.jQuery),+function(a){"use strict";var r=function(t,e){this.$element=a(t),this.options=a.extend({},r.DEFAULTS,e),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),a(window).on("resize",a.proxy(this.recalc,this))),this.options.autohide&&a(document).on("click",a.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};r.DEFAULTS={toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0},r.prototype.offset=function(){switch(this.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},r.prototype.calcPlacement=function(){function t(t,e){if("auto"===r.css(e))return t;if("auto"===r.css(t))return e;var i=parseInt(r.css(t),10),n=parseInt(r.css(e),10);return i>n?e:t}if("auto"!==this.options.placement)return void(this.placement=this.options.placement);this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var e=a(window).width()/this.$element.width(),i=a(window).height()/this.$element.height(),r=this.$element;this.placement=e>=i?t("left","right"):t("top","bottom"),"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")},r.prototype.opposite=function(t){switch(t){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},r.prototype.getCanvasElements=function(){var t=this.options.canvas?a(this.options.canvas):this.$element,e=t.find("*").filter(function(){return"fixed"===a(this).css("position")}).not(this.options.exclude);return t.add(e)},r.prototype.slide=function(t,e,i){if(!a.support.transition){var n={};return n[this.placement]="+="+e,t.animate(n,350,i)}var r=this.placement,s=this.opposite(r);t.each(function(){"auto"!==a(this).css(r)&&a(this).css(r,(parseInt(a(this).css(r),10)||0)+e),"auto"!==a(this).css(s)&&a(this).css(s,(parseInt(a(this).css(s),10)||0)-e)}),this.$element.one(a.support.transition.end,i).emulateTransitionEnd(350)},r.prototype.disableScrolling=function(){var t=a("body").width(),e="padding-"+this.opposite(this.placement);if(void 0===a("body").data("offcanvas-style")&&a("body").data("offcanvas-style",a("body").attr("style")),a("body").css("overflow","hidden"),a("body").width()>t){var i=parseInt(a("body").css(e),10)+a("body").width()-t;setTimeout(function(){a("body").css(e,i)},1)}},r.prototype.show=function(){if(!this.state){var t=a.Event("show.bs.offcanvas");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.state="slide-in",this.calcPlacement();var e=this.getCanvasElements(),i=this.placement,n=this.opposite(i),r=this.offset();-1!==e.index(this.$element)&&(a(this.$element).data("offcanvas-style",a(this.$element).attr("style")||""),this.$element.css(i,-1*r),this.$element.css(i)),e.addClass("canvas-sliding").each(function(){void 0===a(this).data("offcanvas-style")&&a(this).data("offcanvas-style",a(this).attr("style")||""),"static"===a(this).css("position")&&a(this).css("position","relative"),"auto"!==a(this).css(i)&&"0px"!==a(this).css(i)||"auto"!==a(this).css(n)&&"0px"!==a(this).css(n)||a(this).css(i,0)}),this.options.disableScrolling&&this.disableScrolling();var s=function(){"slide-in"==this.state&&(this.state="slid",e.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas"))};setTimeout(a.proxy(function(){this.$element.addClass("in"),this.slide(e,r,a.proxy(s,this))},this),1)}}},r.prototype.hide=function(){if("slid"===this.state){var t=a.Event("hide.bs.offcanvas");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.state="slide-out";var e=a(".canvas-slid"),i=(this.placement,-1*this.offset()),n=function(){"slide-out"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass("in"),e.removeClass("canvas-sliding"),e.add(this.$element).add("body").each(function(){a(this).attr("style",a(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas"))};e.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout(a.proxy(function(){this.slide(e,i,a.proxy(n,this))},this),1)}}},r.prototype.toggle=function(){"slide-in"!==this.state&&"slide-out"!==this.state&&this["slid"===this.state?"hide":"show"]()},r.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo(a("body"))},r.prototype.recalc=function(){if("none"!==this.$calcClone.css("display")&&("slid"===this.state||"slide-in"===this.state)){this.state=null,this.placement=null;var t=this.getCanvasElements();this.$element.removeClass("in"),t.removeClass("canvas-slid"),t.add(this.$element).add("body").each(function(){a(this).attr("style",a(this).data("offcanvas-style")).removeData("offcanvas-style")})}},r.prototype.autohide=function(t){0===a(t.target).closest(this.$element).length&&this.hide()};var t=a.fn.offcanvas;a.fn.offcanvas=function(n){return this.each(function(){var t=a(this),e=t.data("bs.offcanvas"),i=a.extend({},r.DEFAULTS,t.data(),"object"==typeof n&&n);e||t.data("bs.offcanvas",e=new r(this,i)),"string"==typeof n&&e[n]()})},a.fn.offcanvas.Constructor=r,a.fn.offcanvas.noConflict=function(){return a.fn.offcanvas=t,this},a(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(t){var e,i=a(this),n=i.attr("data-target")||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),r=a(n),s=r.data("bs.offcanvas"),o=s?"toggle":i.data();t.stopPropagation(),s?s.toggle():r.offcanvas(o)})}(window.jQuery),+function(n){"use strict";var r=function(t,e){this.$element=n(t),this.options=n.extend({},r.DEFAULTS,e),this.$element.on("click.bs.rowlink","td:not(.rowlink-skip)",n.proxy(this.click,this))};r.DEFAULTS={target:"a"},r.prototype.click=function(t){var e=n(t.currentTarget).closest("tr").find(this.options.target)[0];if(n(t.target)[0]!==e)if(t.preventDefault(),e.click)e.click();else if(document.createEvent){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(i)}};var t=n.fn.rowlink;n.fn.rowlink=function(i){return this.each(function(){var t=n(this),e=t.data("rowlink");e||t.data("rowlink",e=new r(this,i))})},n.fn.rowlink.Constructor=r,n.fn.rowlink.noConflict=function(){return n.fn.rowlink=t,this},n(document).on("click.bs.rowlink.data-api",'[data-link="row"]',function(t){if(0===n(t.target).closest(".rowlink-skip").length){var e=n(this);e.data("rowlink")||(e.rowlink(e.data()),n(t.target).trigger("click.bs.rowlink"))}})}(window.jQuery),+function(r){"use strict";var s=void 0!==window.orientation,i=navigator.userAgent.toLowerCase().indexOf("android")>-1,e="Microsoft Internet Explorer"==window.navigator.appName,n=function(t,e){i||(this.$element=r(t),this.options=r.extend({},n.DEFAULTS,e),this.mask=String(this.options.mask),this.init(),this.listen(),this.checkVal())};n.DEFAULTS={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}},n.prototype.init=function(){var i=this.options.definitions,n=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,r.each(this.mask.split(""),r.proxy(function(t,e){"?"==e?(n--,this.partialPosition=t):i[e]?(this.tests.push(new RegExp(i[e])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=r.map(this.mask.split(""),r.proxy(function(t){return"?"!=t?i[t]?this.options.placeholder:t:void 0},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",r.proxy(function(){return r.map(this.buffer,function(t,e){return this.tests[e]&&t!=this.options.placeholder?t:null}).join("")},this))},n.prototype.listen=function(){if(!this.$element.attr("readonly")){var t=(e?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",r.proxy(this.unmask,this)).on("focus.bs.inputmask",r.proxy(this.focusEvent,this)).on("blur.bs.inputmask",r.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",r.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",r.proxy(this.keypressEvent,this)).on(t,r.proxy(this.pasteEvent,this))}},n.prototype.caret=function(e,i){if(0!==this.$element.length){if("number"==typeof e)return i="number"==typeof i?i:e,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(e,i);else if(this.createTextRange){var t=this.createTextRange();t.collapse(!0),t.moveEnd("character",i),t.moveStart("character",e),t.select()}});if(this.$element[0].setSelectionRange)e=this.$element[0].selectionStart,i=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var t=document.selection.createRange();e=0-t.duplicate().moveStart("character",-1e5),i=e+t.text.length}return{begin:e,end:i}}},n.prototype.seekNext=function(t){for(var e=this.mask.length;++t<=e&&!this.tests[t];);return t},n.prototype.seekPrev=function(t){for(;--t>=0&&!this.tests[t];);return t},n.prototype.shiftL=function(t,e){var i=this.mask.length;if(!(0>t)){for(var n=t,r=this.seekNext(e);i>n;n++)if(this.tests[n]){if(!(i>r&&this.tests[n].test(this.buffer[r])))break;this.buffer[n]=this.buffer[r],this.buffer[r]=this.options.placeholder,r=this.seekNext(r)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}},n.prototype.shiftR=function(t){for(var e=this.mask.length,i=t,n=this.options.placeholder;e>i;i++)if(this.tests[i]){var r=this.seekNext(i),s=this.buffer[i];if(this.buffer[i]=n,!(e>r&&this.tests[r].test(s)))break;n=s}},n.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")},n.prototype.focusEvent=function(){this.focusText=this.$element.val();var t=this.mask.length,e=this.checkVal();this.writeBuffer();var i=this,n=function(){e==t?i.caret(0,e):i.caret(e)};n(),setTimeout(n,50)},n.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger("change")},n.prototype.keydownEvent=function(t){var e=t.which;if(8==e||46==e||s&&127==e){var i=this.caret(),n=i.begin,r=i.end;return r-n===0&&(n=46!=e?this.seekPrev(n):r=this.seekNext(n-1),r=46==e?this.seekNext(r):r),this.clearBuffer(n,r),this.shiftL(n,r-1),!1}return 27==e?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},n.prototype.keypressEvent=function(t){var e=this.mask.length,i=t.which,n=this.caret();if(t.ctrlKey||t.altKey||t.metaKey||32>i)return!0;if(i){n.end-n.begin!==0&&(this.clearBuffer(n.begin,n.end),this.shiftL(n.begin,n.end-1));var r=this.seekNext(n.begin-1);if(e>r){var s=String.fromCharCode(i);if(this.tests[r].test(s)){this.shiftR(r),this.buffer[r]=s,this.writeBuffer();var o=this.seekNext(r);this.caret(o)}}return!1}},n.prototype.pasteEvent=function(){var t=this;setTimeout(function(){t.caret(t.checkVal(!0))},0)},n.prototype.clearBuffer=function(t,e){for(var i=this.mask.length,n=t;e>n&&i>n;n++)this.tests[n]&&(this.buffer[n]=this.options.placeholder)},n.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()},n.prototype.checkVal=function(t){for(var e=this.mask.length,i=this.$element.val(),n=-1,r=0,s=0;e>r;r++)if(this.tests[r]){for(this.buffer[r]=this.options.placeholder;s++<i.length;){var o=i.charAt(s-1);if(this.tests[r].test(o)){this.buffer[r]=o,n=r;break}}if(s>i.length)break}else this.buffer[r]==i.charAt(s)&&r!=this.partialPosition&&(s++,n=r);return!t&&n+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,e)):(t||n+1>=this.partialPosition)&&(this.writeBuffer(),t||this.$element.val(this.$element.val().substring(0,n+1))),this.partialPosition?r:this.firstNonMaskPos};var t=r.fn.inputmask;r.fn.inputmask=function(i){return this.each(function(){var t=r(this),e=t.data("inputmask");e||t.data("inputmask",e=new n(this,i))})},r.fn.inputmask.Constructor=n,r.fn.inputmask.noConflict=function(){return r.fn.inputmask=t,this},r(document).on("focus.bs.inputmask.data-api","[data-mask]",function(){var t=r(this);t.data("inputmask")||t.inputmask(t.data())})}(window.jQuery),+function(o){"use strict";var i="Microsoft Internet Explorer"==window.navigator.appName,n=function(t,e){if(this.$element=o(t),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||e.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=o('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var i=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==i&&"none"!==i&&this.$preview.css("line-height",i),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};n.prototype.listen=function(){this.$input.on("change.bs.fileinput",o.proxy(this.change,this)),o(this.$input[0].form).on("reset.bs.fileinput",o.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",o.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",o.proxy(this.clear,this))},n.prototype.change=function(t){var i=void 0===t.target.files?t.target&&t.target.value?[{name:t.target.value.replace(/^.+\\/,"")}]:[]:t.target.files;if(t.stopPropagation(),0===i.length)return void this.clear();this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var n=i[0];if(this.$preview.length>0&&("undefined"!=typeof n.type?n.type.match(/^image\/(gif|png|jpeg)$/):n.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var e=new FileReader,r=this.$preview,s=this.$element;e.onload=function(t){var e=o("<img>");e[0].src=t.target.result,i[0].result=t.target.result,s.find(".fileinput-filename").text(n.name),"none"!=r.css("max-height")&&e.css("max-height",parseInt(r.css("max-height"),10)-parseInt(r.css("padding-top"),10)-parseInt(r.css("padding-bottom"),10)-parseInt(r.css("border-top"),10)-parseInt(r.css("border-bottom"),10)),r.html(e),s.addClass("fileinput-exists").removeClass("fileinput-new"),s.trigger("change.bs.fileinput",i)},e.readAsDataURL(n)}else this.$element.find(".fileinput-filename").text(n.name),this.$preview.text(n.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")},n.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),i){var e=this.$input.clone(!0);this.$input.after(e),this.$input.remove(),this.$input=e}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==t&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},n.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},n.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()};var t=o.fn.fileinput;o.fn.fileinput=function(i){return this.each(function(){var t=o(this),e=t.data("fileinput");e||t.data("fileinput",e=new n(this,i)),"string"==typeof i&&e[i]()})},o.fn.fileinput.Constructor=n,o.fn.fileinput.noConflict=function(){return o.fn.fileinput=t,this},o(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(t){var e=o(this);if(!e.data("fileinput")){e.fileinput(e.data());var i=o(t.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');i.length>0&&(t.preventDefault(),i.trigger("click.bs.fileinput"))}})}(window.jQuery);(function(){var o,e,i,t,c,d,n,r,a=[].slice,s={}.hasOwnProperty,l=function(t,e){for(var i in e){if(s.call(e,i))t[i]=e[i]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t};n=function(){};e=function(){function t(){}t.prototype.addEventListener=t.prototype.on;t.prototype.on=function(t,e){this._callbacks=this._callbacks||{};if(!this._callbacks[t]){this._callbacks[t]=[]}this._callbacks[t].push(e);return this};t.prototype.emit=function(){var t,e,i,n,r,s;n=arguments[0],t=2<=arguments.length?a.call(arguments,1):[];this._callbacks=this._callbacks||{};i=this._callbacks[n];if(i){for(r=0,s=i.length;r<s;r++){e=i[r];e.apply(this,t)}}return this};t.prototype.removeListener=t.prototype.off;t.prototype.removeAllListeners=t.prototype.off;t.prototype.removeEventListener=t.prototype.off;t.prototype.off=function(t,e){var i,n,r,s,o;if(!this._callbacks||arguments.length===0){this._callbacks={};return this}n=this._callbacks[t];if(!n){return this}if(arguments.length===1){delete this._callbacks[t];return this}for(r=s=0,o=n.length;s<o;r=++s){i=n[r];if(i===e){n.splice(r,1);break}}return this};return t}();o=function(t){var L,F;l($,t);$.prototype.Emitter=e;$.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];$.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return n},forceFallback:false,fallback:function(){var t,e,i,n,r,s;this.element.className=""+this.element.className+" dz-browser-not-supported";s=this.element.getElementsByTagName("div");for(n=0,r=s.length;n<r;n++){t=s[n];if(/(^| )dz-message($| )/.test(t.className)){e=t;t.className="dz-message";continue}}if(!e){e=$.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(e)}i=e.getElementsByTagName("span")[0];if(i){if(i.textContent!=null){i.textContent=this.options.dictFallbackMessage}else if(i.innerText!=null){i.innerText=this.options.dictFallbackMessage}}return this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height};i=t.width/t.height;e.optWidth=this.options.thumbnailWidth;e.optHeight=this.options.thumbnailHeight;if(e.optWidth==null&&e.optHeight==null){e.optWidth=e.srcWidth;e.optHeight=e.srcHeight}else if(e.optWidth==null){e.optWidth=i*e.optHeight}else if(e.optHeight==null){e.optHeight=1/i*e.optWidth}n=e.optWidth/e.optHeight;if(t.height<e.optHeight||t.width<e.optWidth){e.trgHeight=e.srcHeight;e.trgWidth=e.srcWidth}else{if(i>n){e.srcHeight=t.height;e.srcWidth=e.srcHeight*n}else{e.srcWidth=t.width;e.srcHeight=e.srcWidth/n}}e.srcX=(t.width-e.srcWidth)/2;e.srcY=(t.height-e.srcHeight)/2;return e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:n,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(i){var t,e,n,r,s,o,a,l,h,u,c,d,f;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){i.previewElement=$.createElement(this.options.previewTemplate.trim());i.previewTemplate=i.previewElement;this.previewsContainer.appendChild(i.previewElement);u=i.previewElement.querySelectorAll("[data-dz-name]");for(r=0,a=u.length;r<a;r++){t=u[r];t.textContent=this._renameFilename(i.name)}c=i.previewElement.querySelectorAll("[data-dz-size]");for(s=0,l=c.length;s<l;s++){t=c[s];t.innerHTML=this.filesize(i.size)}if(this.options.addRemoveLinks){i._removeLink=$.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");i.previewElement.appendChild(i._removeLink)}e=function(e){return function(t){t.preventDefault();t.stopPropagation();if(i.status===$.UPLOADING){return $.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(i)})}else{if(e.options.dictRemoveFileConfirmation){return $.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(i)})}else{return e.removeFile(i)}}}}(this);d=i.previewElement.querySelectorAll("[data-dz-remove]");f=[];for(o=0,h=d.length;o<h;o++){n=d[o];f.push(n.addEventListener("click",e))}return f}},removedfile:function(t){var e;if(t.previewElement){if((e=t.previewElement)!=null){e.parentNode.removeChild(t.previewElement)}}return this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,r,s;if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");s=e.previewElement.querySelectorAll("[data-dz-thumbnail]");for(n=0,r=s.length;n<r;n++){i=s[n];i.alt=e.name;i.src=t}return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(t,e){var i,n,r,s,o;if(t.previewElement){t.previewElement.classList.add("dz-error");if(typeof e!=="String"&&e.error){e=e.error}s=t.previewElement.querySelectorAll("[data-dz-errormessage]");o=[];for(n=0,r=s.length;n<r;n++){i=s[n];o.push(i.textContent=e)}return o}},errormultiple:n,processing:function(t){if(t.previewElement){t.previewElement.classList.add("dz-processing");if(t._removeLink){return t._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:n,uploadprogress:function(t,e,i){var n,r,s,o,a;if(t.previewElement){o=t.previewElement.querySelectorAll("[data-dz-uploadprogress]");a=[];for(r=0,s=o.length;r<s;r++){n=o[r];if(n.nodeName==="PROGRESS"){a.push(n.value=e)}else{a.push(n.style.width=""+e+"%")}}return a}},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(t){if(t.previewElement){return t.previewElement.classList.add("dz-success")}},successmultiple:n,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:n,complete:function(t){if(t._removeLink){t._removeLink.textContent=this.options.dictRemoveFile}if(t.previewElement){return t.previewElement.classList.add("dz-complete")}},completemultiple:n,maxfilesexceeded:n,maxfilesreached:n,queuecomplete:n,addedfiles:n,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'};L=function(){var t,e,i,n,r,s,o;n=arguments[0],i=2<=arguments.length?a.call(arguments,1):[];for(s=0,o=i.length;s<o;s++){e=i[s];for(t in e){r=e[t];n[t]=r}}return n};function $(t,e){var i,n,r;this.element=t;this.version=$.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&this.element.nodeType!=null)){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}$.instances.push(this);this.element.dropzone=this;i=(r=$.optionsForElement(this.element))!=null?r:{};this.options=L({},this.defaultOptions,i,e!=null?e:{});if(this.options.forceFallback||!$.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((n=this.getExistingFallback())&&n.parentNode){n.parentNode.removeChild(n)}if(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=$.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=$.getElements(this.options.clickable,"clickable")}}this.init()}$.prototype.getAcceptedFiles=function(){var t,e,i,n,r;n=this.files;r=[];for(e=0,i=n.length;e<i;e++){t=n[e];if(t.accepted){r.push(t)}}return r};$.prototype.getRejectedFiles=function(){var t,e,i,n,r;n=this.files;r=[];for(e=0,i=n.length;e<i;e++){t=n[e];if(!t.accepted){r.push(t)}}return r};$.prototype.getFilesWithStatus=function(t){var e,i,n,r,s;r=this.files;s=[];for(i=0,n=r.length;i<n;i++){e=r[i];if(e.status===t){s.push(e)}}return s};$.prototype.getQueuedFiles=function(){return this.getFilesWithStatus($.QUEUED)};$.prototype.getUploadingFiles=function(){return this.getFilesWithStatus($.UPLOADING)};$.prototype.getAddedFiles=function(){return this.getFilesWithStatus($.ADDED)};$.prototype.getActiveFiles=function(){var t,e,i,n,r;n=this.files;r=[];for(e=0,i=n.length;e<i;e++){t=n[e];if(t.status===$.UPLOADING||t.status===$.QUEUED){r.push(t)}}return r};$.prototype.init=function(){var t,n,s,e,i,r,o;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild($.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){s=function(r){return function(){if(r.hiddenFileInput){r.hiddenFileInput.parentNode.removeChild(r.hiddenFileInput)}r.hiddenFileInput=document.createElement("input");r.hiddenFileInput.setAttribute("type","file");if(r.options.maxFiles==null||r.options.maxFiles>1){r.hiddenFileInput.setAttribute("multiple","multiple")}r.hiddenFileInput.className="dz-hidden-input";if(r.options.acceptedFiles!=null){r.hiddenFileInput.setAttribute("accept",r.options.acceptedFiles)}if(r.options.capture!=null){r.hiddenFileInput.setAttribute("capture",r.options.capture)}r.hiddenFileInput.style.visibility="hidden";r.hiddenFileInput.style.position="absolute";r.hiddenFileInput.style.top="0";r.hiddenFileInput.style.left="0";r.hiddenFileInput.style.height="0";r.hiddenFileInput.style.width="0";document.querySelector(r.options.hiddenInputContainer).appendChild(r.hiddenFileInput);return r.hiddenFileInput.addEventListener("change",function(){var t,e,i,n;e=r.hiddenFileInput.files;if(e.length){for(i=0,n=e.length;i<n;i++){t=e[i];r.addFile(t)}}r.emit("addedfiles",e);return s()})}}(this);s()}this.URL=(r=window.URL)!=null?r:window.webkitURL;o=this.events;for(e=0,i=o.length;e<i;e++){t=o[e];this.on(t,this.options[t])}this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this));this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this));this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this));this.on("complete",function(e){return function(t){if(e.getAddedFiles().length===0&&e.getUploadingFiles().length===0&&e.getQueuedFiles().length===0){return setTimeout(function(){return e.emit("queuecomplete")},0)}}}(this));n=function(t){t.stopPropagation();if(t.preventDefault){return t.preventDefault()}else{return t.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(t){n(t);return e.emit("dragenter",t)}}(this),dragover:function(i){return function(t){var e;try{e=t.dataTransfer.effectAllowed}catch(t){}t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy";n(t);return i.emit("dragover",t)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(t){n(t);return e.drop(t)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}];this.clickableElements.forEach(function(i){return function(e){return i.listeners.push({element:e,events:{click:function(t){if(e!==i.element||(t.target===i.element||$.elementInside(t.target,i.element.querySelector(".dz-message")))){i.hiddenFileInput.click()}return true}}})}}(this));this.enable();return this.options.init.call(this)};$.prototype.destroy=function(){var t;this.disable();this.removeAllFiles(true);if((t=this.hiddenFileInput)!=null?t.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return $.instances.splice($.instances.indexOf(this),1)};$.prototype.updateTotalUploadProgress=function(){var t,e,i,n,r,s,o,a;n=0;i=0;t=this.getActiveFiles();if(t.length){a=this.getActiveFiles();for(s=0,o=a.length;s<o;s++){e=a[s];n+=e.upload.bytesSent;i+=e.upload.total}r=100*n/i}else{r=100}return this.emit("totaluploadprogress",r,i,n)};$.prototype._getParamName=function(t){if(typeof this.options.paramName==="function"){return this.options.paramName(t)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")}};$.prototype._renameFilename=function(t){if(typeof this.options.renameFilename!=="function"){return t}return this.options.renameFilename(t)};$.prototype.getFallbackForm=function(){var t,e,i,n;if(t=this.getExistingFallback()){return t}i='<div class="dz-fallback">';if(this.options.dictFallbackText){i+="<p>"+this.options.dictFallbackText+"</p>"}i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';e=$.createElement(i);if(this.element.tagName!=="FORM"){n=$.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');n.appendChild(e)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return n!=null?n:e};$.prototype.getExistingFallback=function(){var t,e,i,n,r,s;e=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++){e=t[i];if(/(^| )fallback($| )/.test(e.className)){return e}}};s=["div","form"];for(n=0,r=s.length;n<r;n++){i=s[n];if(t=e(this.element.getElementsByTagName(i))){return t}}};$.prototype.setupEventListeners=function(){var i,n,r,t,e,s,o;s=this.listeners;o=[];for(t=0,e=s.length;t<e;t++){i=s[t];o.push(function(){var t,e;t=i.events;e=[];for(n in t){r=t[n];e.push(i.element.addEventListener(n,r,false))}return e}())}return o};$.prototype.removeEventListeners=function(){var i,n,r,t,e,s,o;s=this.listeners;o=[];for(t=0,e=s.length;t<e;t++){i=s[t];o.push(function(){var t,e;t=i.events;e=[];for(n in t){r=t[n];e.push(i.element.removeEventListener(n,r,false))}return e}())}return o};$.prototype.disable=function(){var t,e,i,n,r;this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")});this.removeEventListeners();n=this.files;r=[];for(e=0,i=n.length;e<i;e++){t=n[e];r.push(this.cancelUpload(t))}return r};$.prototype.enable=function(){this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")});return this.setupEventListeners()};$.prototype.filesize=function(t){var e,i,n,r,s,o,a,l;n=0;r="b";if(t>0){o=["TB","GB","MB","KB","b"];for(i=a=0,l=o.length;a<l;i=++a){s=o[i];e=Math.pow(this.options.filesizeBase,4-i)/10;if(t>=e){n=t/Math.pow(this.options.filesizeBase,4-i);r=s;break}}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+r};$.prototype._updateMaxFilesReachedClass=function(){if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};$.prototype.drop=function(t){var e,i;if(!t.dataTransfer){return}this.emit("drop",t);e=t.dataTransfer.files;this.emit("addedfiles",e);if(e.length){i=t.dataTransfer.items;if(i&&i.length&&i[0].webkitGetAsEntry!=null){this._addFilesFromItems(i)}else{this.handleFiles(e)}}};$.prototype.paste=function(t){var e,i;if((t!=null?(i=t.clipboardData)!=null?i.items:void 0:void 0)==null){return}this.emit("paste",t);e=t.clipboardData.items;if(e.length){return this._addFilesFromItems(e)}};$.prototype.handleFiles=function(t){var e,i,n,r;r=[];for(i=0,n=t.length;i<n;i++){e=t[i];r.push(this.addFile(e))}return r};$.prototype._addFilesFromItems=function(t){var e,i,n,r,s;s=[];for(n=0,r=t.length;n<r;n++){i=t[n];if(i.webkitGetAsEntry!=null&&(e=i.webkitGetAsEntry())){if(e.isFile){s.push(this.addFile(i.getAsFile()))}else if(e.isDirectory){s.push(this._addFilesFromDirectory(e,e.name))}else{s.push(void 0)}}else if(i.getAsFile!=null){if(i.kind==null||i.kind==="file"){s.push(this.addFile(i.getAsFile()))}else{s.push(void 0)}}else{s.push(void 0)}}return s};$.prototype._addFilesFromDirectory=function(t,s){var e,i,o;e=t.createReader();i=function(t){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(t):void 0:void 0};o=function(r){return function(){return e.readEntries(function(t){var e,i,n;if(t.length>0){for(i=0,n=t.length;i<n;i++){e=t[i];if(e.isFile){e.file(function(t){if(r.options.ignoreHiddenFiles&&t.name.substring(0,1)==="."){return}t.fullPath=""+s+"/"+t.name;return r.addFile(t)})}else if(e.isDirectory){r._addFilesFromDirectory(e,""+s+"/"+e.name)}}o()}return null},i)}}(this);return o()};$.prototype.accept=function(t,e){if(t.size>this.options.maxFilesize*1024*1024){return e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else if(!$.isValidFile(t,this.options.acceptedFiles)){return e(this.options.dictInvalidFileType)}else if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",t)}else{return this.options.accept.call(this,t,e)}};$.prototype.addFile=function(i){i.upload={progress:0,total:i.size,bytesSent:0};this.files.push(i);i.status=$.ADDED;this.emit("addedfile",i);this._enqueueThumbnail(i);return this.accept(i,function(e){return function(t){if(t){i.accepted=false;e._errorProcessing([i],t)}else{i.accepted=true;if(e.options.autoQueue){e.enqueueFile(i)}}return e._updateMaxFilesReachedClass()}}(this))};$.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++){e=t[i];this.enqueueFile(e)}return null};$.prototype.enqueueFile=function(t){if(t.status===$.ADDED&&t.accepted===true){t.status=$.QUEUED;if(this.options.autoProcessQueue){return setTimeout(function(t){return function(){return t.processQueue()}}(this),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};$.prototype._thumbnailQueue=[];$.prototype._processingThumbnail=false;$.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(t);return setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)}};$.prototype._processThumbnailQueue=function(){if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){t._processingThumbnail=false;return t._processThumbnailQueue()}}(this))};$.prototype.removeFile=function(t){if(t.status===$.UPLOADING){this.cancelUpload(t)}this.files=r(this.files,t);this.emit("removedfile",t);if(this.files.length===0){return this.emit("reset")}};$.prototype.removeAllFiles=function(t){var e,i,n,r;if(t==null){t=false}r=this.files.slice();for(i=0,n=r.length;i<n;i++){e=r[i];if(e.status!==$.UPLOADING||t){this.removeFile(e)}}return null};$.prototype.createThumbnail=function(e,i){var n;n=new FileReader;n.onload=function(t){return function(){if(e.type==="image/svg+xml"){t.emit("thumbnail",e,n.result);if(i!=null){i()}return}return t.createThumbnailFromUrl(e,n.result,i)}}(this);return n.readAsDataURL(e)};$.prototype.createThumbnailFromUrl=function(h,t,u,e){var c;c=document.createElement("img");if(e){c.crossOrigin=e}c.onload=function(l){return function(){var t,e,i,n,r,s,o,a;h.width=c.width;h.height=c.height;i=l.options.resize.call(l,h);if(i.trgWidth==null){i.trgWidth=i.optWidth}if(i.trgHeight==null){i.trgHeight=i.optHeight}t=document.createElement("canvas");e=t.getContext("2d");t.width=i.trgWidth;t.height=i.trgHeight;d(e,c,(r=i.srcX)!=null?r:0,(s=i.srcY)!=null?s:0,i.srcWidth,i.srcHeight,(o=i.trgX)!=null?o:0,(a=i.trgY)!=null?a:0,i.trgWidth,i.trgHeight);n=t.toDataURL("image/png");l.emit("thumbnail",h,n);if(u!=null){return u()}}}(this);if(u!=null){c.onerror=u}return c.src=t};$.prototype.processQueue=function(){var t,e,i,n;e=this.options.parallelUploads;i=this.getUploadingFiles().length;t=i;if(i>=e){return}n=this.getQueuedFiles();if(!(n.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(n.slice(0,e-i))}else{while(t<e){if(!n.length){return}this.processFile(n.shift());t++}}};$.prototype.processFile=function(t){return this.processFiles([t])};$.prototype.processFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++){e=t[i];e.processing=true;e.status=$.UPLOADING;this.emit("processing",e)}if(this.options.uploadMultiple){this.emit("processingmultiple",t)}return this.uploadFiles(t)};$.prototype._getFilesWithXhr=function(r){var s,t;return t=function(){var t,e,i,n;i=this.files;n=[];for(t=0,e=i.length;t<e;t++){s=i[t];if(s.xhr===r){n.push(s)}}return n}.call(this)};$.prototype.cancelUpload=function(t){var e,i,n,r,s,o,a;if(t.status===$.UPLOADING){i=this._getFilesWithXhr(t.xhr);for(n=0,s=i.length;n<s;n++){e=i[n];e.status=$.CANCELED}t.xhr.abort();for(r=0,o=i.length;r<o;r++){e=i[r];this.emit("canceled",e)}if(this.options.uploadMultiple){this.emit("canceledmultiple",i)}}else if((a=t.status)===$.ADDED||a===$.QUEUED){t.status=$.CANCELED;this.emit("canceled",t);if(this.options.uploadMultiple){this.emit("canceledmultiple",[t])}}if(this.options.autoProcessQueue){return this.processQueue()}};F=function(){var t,e;e=arguments[0],t=2<=arguments.length?a.call(arguments,1):[];if(typeof e==="function"){return e.apply(this,t)}return e};$.prototype.uploadFile=function(t){return this.uploadFiles([t])};$.prototype.uploadFiles=function(c){var d,t,n,e,i,r,s,o,a,l,h,u,f,p,g,m,v,y,b,w,x,_,C,k,S,T,D,M,P,E,I,A,H,R;b=new XMLHttpRequest;for(w=0,k=c.length;w<k;w++){d=c[w];d.xhr=b}u=F(this.options.method,c);v=F(this.options.url,c);b.open(u,v,true);b.withCredentials=!!this.options.withCredentials;g=null;n=function(n){return function(){var t,e,i;i=[];for(t=0,e=c.length;t<e;t++){d=c[t];i.push(n._errorProcessing(c,g||n.options.dictResponseError.replace("{{statusCode}}",b.status),b))}return i}}(this);m=function(u){return function(t){var e,i,n,r,s,o,a,l,h;if(t!=null){i=100*t.loaded/t.total;for(n=0,o=c.length;n<o;n++){d=c[n];d.upload={progress:i,total:t.total,bytesSent:t.loaded}}}else{e=true;i=100;for(r=0,a=c.length;r<a;r++){d=c[r];if(!(d.upload.progress===100&&d.upload.bytesSent===d.upload.total)){e=false}d.upload.progress=i;d.upload.bytesSent=d.upload.total}if(e){return}}h=[];for(s=0,l=c.length;s<l;s++){d=c[s];h.push(u.emit("uploadprogress",d,i,d.upload.bytesSent))}return h}}(this);b.onload=function(i){return function(e){var t;if(c[0].status===$.CANCELED){return}if(b.readyState!==4){return}g=b.responseText;if(b.getResponseHeader("content-type")&&~b.getResponseHeader("content-type").indexOf("application/json")){try{g=JSON.parse(g)}catch(t){e=t;g="Invalid JSON response from server."}}m();if(!(200<=(t=b.status)&&t<300)){return n()}else{return i._finished(c,g,e)}}}(this);b.onerror=function(t){return function(){if(c[0].status===$.CANCELED){return}return n()}}(this);p=(P=b.upload)!=null?P:b;p.onprogress=m;r={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){L(r,this.options.headers)}for(e in r){i=r[e];if(i){b.setRequestHeader(e,i)}}t=new FormData;if(this.options.params){E=this.options.params;for(h in E){y=E[h];t.append(h,y)}}for(x=0,S=c.length;x<S;x++){d=c[x];this.emit("sending",d,b,t)}if(this.options.uploadMultiple){this.emit("sendingmultiple",c,b,t)}if(this.element.tagName==="FORM"){I=this.element.querySelectorAll("input, textarea, select, button");for(_=0,T=I.length;_<T;_++){o=I[_];a=o.getAttribute("name");l=o.getAttribute("type");if(o.tagName==="SELECT"&&o.hasAttribute("multiple")){A=o.options;for(C=0,D=A.length;C<D;C++){f=A[C];if(f.selected){t.append(a,f.value)}}}else if(!l||(H=l.toLowerCase())!=="checkbox"&&H!=="radio"||o.checked){t.append(a,o.value)}}}for(s=M=0,R=c.length-1;0<=R?M<=R:M>=R;s=0<=R?++M:--M){t.append(this._getParamName(s),c[s],this._renameFilename(c[s].name))}return this.submitRequest(b,t,c)};$.prototype.submitRequest=function(t,e,i){return t.send(e)};$.prototype._finished=function(t,e,i){var n,r,s;for(r=0,s=t.length;r<s;r++){n=t[r];n.status=$.SUCCESS;this.emit("success",n,e,i);this.emit("complete",n)}if(this.options.uploadMultiple){this.emit("successmultiple",t,e,i);this.emit("completemultiple",t)}if(this.options.autoProcessQueue){return this.processQueue()}};$.prototype._errorProcessing=function(t,e,i){var n,r,s;for(r=0,s=t.length;r<s;r++){n=t[r];n.status=$.ERROR;this.emit("error",n,e,i);this.emit("complete",n)}if(this.options.uploadMultiple){this.emit("errormultiple",t,e,i);this.emit("completemultiple",t)}if(this.options.autoProcessQueue){return this.processQueue()}};return $}(e);o.version="4.3.0";o.options={};o.optionsForElement=function(t){if(t.getAttribute("id")){return o.options[i(t.getAttribute("id"))]}else{return void 0}};o.instances=[];o.forElement=function(t){if(typeof t==="string"){t=document.querySelector(t)}if((t!=null?t.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return t.dropzone};o.autoDiscover=true;o.discover=function(){var t,e,s,i,n,r;if(document.querySelectorAll){s=document.querySelectorAll(".dropzone")}else{s=[];t=function(t){var e,i,n,r;r=[];for(i=0,n=t.length;i<n;i++){e=t[i];if(/(^| )dropzone($| )/.test(e.className)){r.push(s.push(e))}else{r.push(void 0)}}return r};t(document.getElementsByTagName("div"));t(document.getElementsByTagName("form"))}r=[];for(i=0,n=s.length;i<n;i++){e=s[i];if(o.optionsForElement(e)!==false){r.push(new o(e))}else{r.push(void 0)}}return r};o.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];o.isBrowserSupported=function(){var t,e,i,n,r;t=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList"in document.createElement("a"))){t=false}else{r=o.blacklistedBrowsers;for(i=0,n=r.length;i<n;i++){e=r[i];if(e.test(navigator.userAgent)){t=false;continue}}}}else{t=false}return t};r=function(t,e){var i,n,r,s;s=[];for(n=0,r=t.length;n<r;n++){i=t[n];if(i!==e){s.push(i)}}return s};i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})};o.createElement=function(t){var e;e=document.createElement("div");e.innerHTML=t;return e.childNodes[0]};o.elementInside=function(t,e){if(t===e){return true}while(t=t.parentNode){if(t===e){return true}}return false};o.getElement=function(t,e){var i;if(typeof t==="string"){i=document.querySelector(t)}else if(t.nodeType!=null){i=t}if(i==null){throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.")}return i};o.getElements=function(t,e){var i,n,r,s,o,a,l,h;if(t instanceof Array){r=[];try{for(s=0,a=t.length;s<a;s++){n=t[s];r.push(this.getElement(n,e))}}catch(t){i=t;r=null}}else if(typeof t==="string"){r=[];h=document.querySelectorAll(t);for(o=0,l=h.length;o<l;o++){n=h[o];r.push(n)}}else if(t.nodeType!=null){r=[t]}if(!(r!=null&&r.length)){throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return r};o.confirm=function(t,e,i){if(window.confirm(t)){return e()}else if(i!=null){return i()}};o.isValidFile=function(t,e){var i,n,r,s,o;if(!e){return true}e=e.split(",");n=t.type;i=n.replace(/\/.*$/,"");for(s=0,o=e.length;s<o;s++){r=e[s];r=r.trim();if(r.charAt(0)==="."){if(t.name.toLowerCase().indexOf(r.toLowerCase(),t.name.length-r.length)!==-1){return true}}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,"")){return true}}else{if(n===r){return true}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(t){return this.each(function(){return new o(this,t)})}}if(typeof module!=="undefined"&&module!==null){module.exports=o}else{window.Dropzone=o}o.ADDED="added";o.QUEUED="queued";o.ACCEPTED=o.QUEUED;o.UPLOADING="uploading";o.PROCESSING=o.UPLOADING;o.CANCELED="canceled";o.ERROR="error";o.SUCCESS="success";c=function(t){var e,i,n,r,s,o,a,l,h,u;a=t.naturalWidth;o=t.naturalHeight;i=document.createElement("canvas");i.width=1;i.height=o;n=i.getContext("2d");n.drawImage(t,0,0);r=n.getImageData(0,0,1,o).data;u=0;s=o;l=o;while(l>u){e=r[(l-1)*4+3];if(e===0){s=l}else{u=l}l=s+u>>1}h=l/o;if(h===0){return 1}else{return h}};d=function(t,e,i,n,r,s,o,a,l,h){var u;u=c(e);return t.drawImage(e,i,n,r,s,o,a,l,h/u)};t=function(e,i){var t,n,r,s,o,a,l,h,u;r=false;u=true;n=e.document;h=n.documentElement;t=n.addEventListener?"addEventListener":"attachEvent";l=n.addEventListener?"removeEventListener":"detachEvent";a=n.addEventListener?"":"on";s=function(t){if(t.type==="readystatechange"&&n.readyState!=="complete"){return}(t.type==="load"?e:n)[l](a+t.type,s,false);if(!r&&(r=true)){return i.call(e,t.type||t)}};o=function(){var e;try{h.doScroll("left")}catch(t){e=t;setTimeout(o,50);return}return s("poll")};if(n.readyState!=="complete"){if(n.createEventObject&&h.doScroll){try{u=!e.frameElement}catch(t){}if(u){o()}}n[t](a+"DOMContentLoaded",s,false);n[t](a+"readystatechange",s,false);return e[t](a+"load",s,false)}};o._autoDiscoverFunction=function(){if(o.autoDiscover){return o.discover()}};t(window,o._autoDiscoverFunction)}).call(this);(function(D,q,Y){(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)})(function($){"use strict";var o={},t,e,v,z,w,N,O,B,u,_,i,n,s,c,W,d,r,a,A,j,l,h,f,p,x,g,m,y,b,C,k,S,T=0;t=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:Y,normalRangeMax:Y,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:Y,chartRangeMax:Y,chartRangeMinX:Y,chartRangeMaxX:Y,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:Y,nullColor:Y,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:Y,chartRangeMin:Y,chartRangeClip:!1,colorMap:Y,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:Y,thresholdValue:0,chartRangeMax:Y,chartRangeMin:Y,chartRangeClip:!1,tooltipFormat:new v("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:Y,tooltipFormat:new v("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:Y,targetColor:"#4a2",chartRangeMax:Y,chartRangeMin:Y,tooltipFormat:new v("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},g='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',e=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=$.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(e=Array.prototype.slice.call(arguments,1,-1),e.unshift(t.prototype),$.extend.apply($,e))):t.prototype=arguments[0],t.prototype.cls=t,t},$.SPFormatClass=v=e({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var n=this,r=t,s,o,a,l,h;return this.format.replace(this.fre,function(){var t;return o=arguments[1],a=arguments[3],s=n.precre.exec(o),s?(h=s[2],o=s[1]):h=!1,l=r[o],l===Y?"":a&&e&&e[a]?(t=e[a],t.get?e[a].get(l)||l:e[a][l]||l):(u(l)&&(i.get("numberFormatter")?l=i.get("numberFormatter")(l):l=c(l,h,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),l)})}}),$.spformat=function(t,e){return new v(t,e)},z=function(t,e,i){return t<e?e:t>i?i:t},w=function(t,e){var i;return e===2?(i=q.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*e+e)/4,i%1?(t[q.floor(i)]+t[q.floor(i)-1])/2:t[i-1]):(i=(t.length*e+2)/4,i%1?(t[q.floor(i)]+t[q.floor(i)-1])/2:t[i-1])},N=function(t){var e;switch(t){case"undefined":t=Y;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},O=function(t){var e,i=[];for(e=t.length;e--;)i[e]=N(t[e]);return i},B=function(t,e){var i,n,r=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&r.push(t[i]);return r},u=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},c=function(t,e,i,n,r){var s,o;t=(e===!1?parseFloat(t).toString():t.toFixed(e)).split(""),s=(s=$.inArray(".",t))<0?t.length:s,s<t.length&&(t[s]=r);for(o=s-i;o>0;o-=i)t.splice(o,0,n);return t.join("")},_=function(t,e,i){var n;for(n=e.length;n--;){if(i&&e[n]===null)continue;if(e[n]!==t)return!1}return!0},i=function(t){var e=0,i;for(i=t.length;i--;)e+=typeof t[i]=="number"?t[i]:0;return e},s=function(t){return $.isArray(t)?t:[t]},n=function(t){var e;D.createStyleSheet?D.createStyleSheet().cssText=t:(e=D.createElement("style"),e.type="text/css",D.getElementsByTagName("head")[0].appendChild(e),e[typeof D.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=t)},$.fn.simpledraw=function(t,e,i,n){var r,s;if(i&&(r=this.data("_jqs_vcanvas")))return r;if($.fn.sparkline.canvas===!1)return!1;if($.fn.sparkline.canvas===Y){var o=D.createElement("canvas");if(!o.getContext||!o.getContext("2d")){if(!D.namespaces||!!D.namespaces.v)return $.fn.sparkline.canvas=!1,!1;D.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),$.fn.sparkline.canvas=function(t,e,i,n){return new k(t,e,i)}}else $.fn.sparkline.canvas=function(t,e,i,n){return new C(t,e,i,n)}}return t===Y&&(t=$(this).innerWidth()),e===Y&&(e=$(this).innerHeight()),r=$.fn.sparkline.canvas(t,e,this,n),s=$(this).data("_jqs_mhandler"),s&&s.registerCanvas(r),r},$.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},$.RangeMapClass=W=e({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&typeof e=="string"&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=i[0].length===0?-Infinity:parseFloat(i[0]),i[1]=i[1].length===0?Infinity:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e=this.rangelist,i,n,r;if((r=this.map[t])!==Y)return r;if(e)for(i=e.length;i--;){n=e[i];if(n[0]<=t&&n[1]>=t)return n[2]}return Y}}),$.range_map=function(t){return new W(t)},d=e({init:function(t,e){var i=$(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=$(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter($.proxy(this.mouseenter,this)),e.mouseleave($.proxy(this.mouseleave,this)),e.click($.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=Y)},mouseclick:function(t){var e=$.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(t){$(D.body).unbind("mousemove.jqs"),$(D.body).bind("mousemove.jqs",$.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new r(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){$(D.body).unbind("mousemove.jqs");var t=this.splist,e=t.length,i=!1,n,r;this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null);for(r=0;r<e;r++)n=t[r],n.clearRegionHighlight()&&(i=!0);i&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t=this.splist,e=t.length,i=!1,n=this.$canvas.offset(),r=this.currentPageX-n.left,s=this.currentPageY-n.top,o,a,l,h,u;if(!this.over)return;for(l=0;l<e;l++)a=t[l],h=a.setRegionHighlight(this.currentEl,r,s),h&&(i=!0);if(i){u=$.Event("sparklineRegionChange"),u.sparklines=this.splist,this.$el.trigger(u);if(this.tooltip){o="";for(l=0;l<e;l++)a=t[l],o+=a.getCurrentRegionTooltip();this.tooltip.setContent(o)}this.disableHighlight||this.canvas.render()}h===null&&this.mouseleave()}}),r=e({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var e=t.get("tooltipClassname","jqstooltip"),i=this.sizeStyle,n;this.container=t.get("tooltipContainer")||D.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),$("#jqssizetip").remove(),$("#jqstooltip").remove(),this.sizetip=$("<div/>",{id:"jqssizetip",style:i,class:e}),this.tooltip=$("<div/>",{id:"jqstooltip",class:e}).appendTo(this.container),n=this.tooltip.offset(),this.offsetLeft=n.left,this.offsetTop=n.top,this.hidden=!0,$(window).unbind("resize.jqs scroll.jqs"),$(window).bind("resize.jqs scroll.jqs",$.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=$(window).scrollTop(),this.scrollLeft=$(window).scrollLeft(),this.scrollRight=this.scrollLeft+$(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t){this.tooltip.css("visibility","hidden"),this.hidden=!0;return}this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(t===Y){if(this.mousex===Y)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;if(!this.height||!this.width||this.hidden)return;e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e})},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=Y,$(window).unbind("resize.jqs scroll.jqs")}}),m=function(){n(g)},$(m),S=[],$.fn.sparkline=function(h,i){return this.each(function(){var a=new $.fn.sparkline.options(this,i),l=$(this),t,e;t=function(){var t,e,i,n,r,s,o;if(h==="html"||h===Y){o=this.getAttribute(a.get("tagValuesAttribute"));if(o===Y||o===null)o=l.html();t=o.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else t=h;e=a.get("width")==="auto"?t.length*a.get("defaultPixelsPerValue"):a.get("width");if(a.get("height")==="auto"){if(!a.get("composite")||!$.data(this,"_jqs_vcanvas"))n=D.createElement("span"),n.innerHTML="a",l.html(n),i=$(n).innerHeight()||$(n).height(),$(n).remove(),n=null}else i=a.get("height");a.get("disableInteraction")?r=!1:(r=$.data(this,"_jqs_mhandler"),r?a.get("composite")||r.reset():(r=new d(this,a),$.data(this,"_jqs_mhandler",r)));if(a.get("composite")&&!$.data(this,"_jqs_vcanvas")){$.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),$.data(this,"_jqs_errnotify",!0));return}s=new $.fn.sparkline[a.get("type")](this,t,a,e,i),s.render(),r&&r.registerSparkline(s)};if($(this).html()&&!a.get("disableHiddenCheck")&&$(this).is(":hidden")||!$(this).parents("body").length){if(!a.get("composite")&&$.data(this,"_jqs_pending"))for(e=S.length;e;e--)S[e-1][0]==this&&S.splice(e-1,1);S.push([this,t]),$.data(this,"_jqs_pending",!0)}else t.call(this)})},$.fn.sparkline.defaults=t(),$.sparkline_display_visible=function(){var t,e,i,n=[];for(e=0,i=S.length;e<i;e++)t=S[e][0],$(t).is(":visible")&&!$(t).parents().is(":hidden")?(S[e][1].call(t),$.data(S[e][0],"_jqs_pending",!1),n.push(e)):!$(t).closest("html").length&&!$.data(t,"_jqs_pending")&&($.data(S[e][0],"_jqs_pending",!1),n.push(e));for(e=n.length;e;e--)S.splice(n[e-1],1)},$.fn.sparkline.options=e({init:function(t,e){var i,n,r,s;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},n=$.fn.sparkline.defaults,r=n.common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||r.tagOptionsPrefix),s=this.getTagSetting("type"),s===o?i=n[e.type||r.type]:i=n[s],this.mergedOptions=$.extend({},r,i,e)},getTagSetting:function(t){var e=this.tagOptionsPrefix,i,n,r,s;if(e===!1||e===Y)return o;if(this.tagValCache.hasOwnProperty(t))i=this.tagValCache.key;else{i=this.tag.getAttribute(e+t);if(i===Y||i===null)i=o;else if(i.substr(0,1)==="["){i=i.substr(1,i.length-2).split(",");for(n=i.length;n--;)i[n]=N(i[n].replace(/(^\s*)|(\s*$)/g,""))}else if(i.substr(0,1)==="{"){r=i.substr(1,i.length-2).split(","),i={};for(n=r.length;n--;)s=r[n].split(":",2),i[s[0].replace(/(^\s*)|(\s*$)/g,"")]=N(s[1].replace(/(^\s*)|(\s*$)/g,""))}else i=N(i);this.tagValCache.key=i}return i},get:function(t,e){var i=this.getTagSetting(t),n;return i!==o?i:(n=this.mergedOptions[t])===Y?e:n}}),$.fn.sparkline._base=e({disabled:!1,init:function(t,e,i,n,r){this.el=t,this.$el=$(t),this.values=e,this.options=i,this.width=n,this.height=r,this.currentRegion=Y},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var n=this.currentRegion,r=!this.options.get("disableHighlight"),s;return e>this.canvasWidth||i>this.canvasHeight||e<0||i<0?null:(s=this.getRegion(t,e,i),n!==s?(n!==Y&&r&&this.removeHighlight(),this.currentRegion=s,s!==Y&&r&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==Y?(this.removeHighlight(),this.currentRegion=Y,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t=this.options,e="",i=[],n,r,s,o,a,l,h,u,c,d,f,p,g,m;if(this.currentRegion===Y)return"";n=this.getCurrentRegionFields(),f=t.get("tooltipFormatter");if(f)return f(this,t,n);t.get("tooltipChartTitle")&&(e+='<div class="jqs jqstitle">'+t.get("tooltipChartTitle")+"</div>\n"),r=this.options.get("tooltipFormat");if(!r)return"";$.isArray(r)||(r=[r]),$.isArray(n)||(n=[n]),h=this.options.get("tooltipFormatFieldlist"),u=this.options.get("tooltipFormatFieldlistKey");if(h&&u){c=[];for(l=n.length;l--;)d=n[l][u],(m=$.inArray(d,h))!=-1&&(c[m]=n[l]);n=c}s=r.length,g=n.length;for(l=0;l<s;l++){p=r[l],typeof p=="string"&&(p=new v(p)),o=p.fclass||"jqsfield";for(m=0;m<g;m++)if(!n[m].isNull||!t.get("tooltipSkipNull"))$.extend(n[m],{prefix:t.get("tooltipPrefix"),suffix:t.get("tooltipSuffix")}),a=p.render(n[m],t.get("tooltipValueLookups"),t),i.push('<div class="'+o+'">'+a+"</div>")}return i.length?e+i.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var i=e.get("highlightColor"),n=e.get("highlightLighten"),r,s,o,a;if(i)return i;if(n){r=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t);if(r){o=[],s=t.length===4?16:1;for(a=0;a<3;a++)o[a]=z(q.round(parseInt(r[a+1],16)*s*n),0,255);return"rgb("+o.join(",")+")"}}return t}}),a={changeHighlight:function(t){var e=this.currentRegion,i=this.target,n=this.regionShapes[e],r;n&&(r=this.renderRegion(e,t),$.isArray(r)||$.isArray(n)?(i.replaceWithShapes(n,r),this.regionShapes[e]=$.map(r,function(t){return t.id})):(i.replaceWithShape(n,r),this.regionShapes[e]=r.id))},render:function(){var t=this.values,e=this.target,i=this.regionShapes,n,r,s,o;if(!this.cls._super.render.call(this))return;for(s=t.length;s--;){n=this.renderRegion(s);if(n)if($.isArray(n)){r=[];for(o=n.length;o--;)n[o].append(),r.push(n[o].id);i[s]=r}else n.append(),i[s]=n.id;else i[s]=null}e.render()}},$.fn.sparkline.line=A=e($.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){A._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){var n,r=this.regionMap;for(n=r.length;n--;)if(r[n]!==null&&e>=r[n][0]&&e<=r[n][1])return r[n][2];return Y},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.yvalues[t]===null,x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t=this.currentRegion,e=this.target,i=this.vertices[t],n=this.options,r=n.get("spotRadius"),s=n.get("highlightSpotColor"),o=n.get("highlightLineColor"),a,l;if(!i)return;r&&s&&(a=e.drawCircle(i[0],i[1],r,Y,s),this.highlightSpotId=a.id,e.insertAfterShape(this.lastShapeId,a)),o&&(l=e.drawLine(i[0],this.canvasTop,i[0],this.canvasTop+this.canvasHeight,o),this.highlightLineId=l.id,e.insertAfterShape(this.lastShapeId,l))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t=this.values,e=t.length,i=this.xvalues,n=this.yvalues,r=this.yminmax,s,o,a,l,h;for(s=0;s<e;s++)o=t[s],a=typeof t[s]=="string",l=typeof t[s]=="object"&&t[s]instanceof Array,h=a&&t[s].split(":"),a&&h.length===2?(i.push(Number(h[0])),n.push(Number(h[1])),r.push(Number(h[1]))):l?(i.push(o[0]),n.push(o[1]),r.push(o[1])):(i.push(s),t[s]===null||t[s]==="null"?n.push(null):(n.push(Number(o)),r.push(Number(o))));this.options.get("xvalues")&&(i=this.options.get("xvalues")),this.maxy=this.maxyorg=q.max.apply(q,r),this.miny=this.minyorg=q.min.apply(q,r),this.maxx=q.max.apply(q,i),this.minx=q.min.apply(q,i),this.xvalues=i,this.yvalues=n,this.yminmax=r},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");e!==Y&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),t.get("chartRangeMin")!==Y&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==Y&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==Y&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==Y&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,i,n,r){var s=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),a=e+q.round(i-i*((o-this.miny)/r)),l=q.round(i*(o-s)/r);this.target.drawRect(t,a,n,l,Y,this.options.get("normalRangeColor")).append()},render:function(){var t=this.options,e=this.target,i=this.canvasWidth,n=this.canvasHeight,r=this.vertices,s=t.get("spotRadius"),o=this.regionMap,a,l,h,u,c,d,f,p,g,m,v,y,b,w,x,_,C,k,S,T,D,M,P,E,I;if(!A._super.render.call(this))return;this.scanValues(),this.processRangeOptions(),P=this.xvalues,E=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2)return;u=c=0,a=this.maxx-this.minx===0?1:this.maxx-this.minx,l=this.maxy-this.miny===0?1:this.maxy-this.miny,h=this.yvalues.length-1,s&&(i<s*4||n<s*4)&&(s=0);if(s){D=t.get("highlightSpotColor")&&!t.get("disableInteraction");if(D||t.get("minSpotColor")||t.get("spotColor")&&E[h]===this.miny)n-=q.ceil(s);if(D||t.get("maxSpotColor")||t.get("spotColor")&&E[h]===this.maxy)n-=q.ceil(s),u+=q.ceil(s);if(D||(t.get("minSpotColor")||t.get("maxSpotColor"))&&(E[0]===this.miny||E[0]===this.maxy))c+=q.ceil(s),i-=q.ceil(s);if(D||t.get("spotColor")||t.get("minSpotColor")||t.get("maxSpotColor")&&(E[h]===this.miny||E[h]===this.maxy))i-=q.ceil(s)}n--,t.get("normalRangeMin")!==Y&&!t.get("drawNormalOnTop")&&this.drawNormalRange(c,u,n,i,l),f=[],p=[f],w=x=null,_=E.length;for(I=0;I<_;I++)g=P[I],v=P[I+1],m=E[I],y=c+q.round((g-this.minx)*(i/a)),b=I<_-1?c+q.round((v-this.minx)*(i/a)):i,x=y+(b-y)/2,o[I]=[w||0,x,I],w=x,m===null?I&&(E[I-1]!==null&&(f=[],p.push(f)),r.push(null)):(m<this.miny&&(m=this.miny),m>this.maxy&&(m=this.maxy),f.length||f.push([y,u+n]),d=[y,u+q.round(n-n*((m-this.miny)/l))],f.push(d),r.push(d));C=[],k=[],S=p.length;for(I=0;I<S;I++)f=p[I],f.length&&(t.get("fillColor")&&(f.push([f[f.length-1][0],u+n]),k.push(f.slice(0)),f.pop()),f.length>2&&(f[0]=[f[0][0],f[1][1]]),C.push(f));S=k.length;for(I=0;I<S;I++)e.drawShape(k[I],t.get("fillColor"),t.get("fillColor")).append();t.get("normalRangeMin")!==Y&&t.get("drawNormalOnTop")&&this.drawNormalRange(c,u,n,i,l),S=C.length;for(I=0;I<S;I++)e.drawShape(C[I],t.get("lineColor"),Y,t.get("lineWidth")).append();if(s&&t.get("valueSpots")){T=t.get("valueSpots"),T.get===Y&&(T=new W(T));for(I=0;I<_;I++)M=T.get(E[I]),M&&e.drawCircle(c+q.round((P[I]-this.minx)*(i/a)),u+q.round(n-n*((E[I]-this.miny)/l)),s,Y,M).append()}s&&t.get("spotColor")&&E[h]!==null&&e.drawCircle(c+q.round((P[P.length-1]-this.minx)*(i/a)),u+q.round(n-n*((E[h]-this.miny)/l)),s,Y,t.get("spotColor")).append(),this.maxy!==this.minyorg&&(s&&t.get("minSpotColor")&&(g=P[$.inArray(this.minyorg,E)],e.drawCircle(c+q.round((g-this.minx)*(i/a)),u+q.round(n-n*((this.minyorg-this.miny)/l)),s,Y,t.get("minSpotColor")).append()),s&&t.get("maxSpotColor")&&(g=P[$.inArray(this.maxyorg,E)],e.drawCircle(c+q.round((g-this.minx)*(i/a)),u+q.round(n-n*((this.maxyorg-this.miny)/l)),s,Y,t.get("maxSpotColor")).append())),this.lastShapeId=e.getLastShapeId(),this.canvasTop=u,e.render()}}),$.fn.sparkline.bar=j=e($.fn.sparkline._base,a,{type:"bar",init:function(t,e,i,n,r){var s=parseInt(i.get("barWidth"),10),o=parseInt(i.get("barSpacing"),10),a=i.get("chartRangeMin"),l=i.get("chartRangeMax"),h=i.get("chartRangeClip"),u=Infinity,c=-Infinity,d,f,p,g,m,v,y,b,w,x,_,C,k,S,T,D,M,P,E,I,A,H,R;j._super.init.call(this,t,e,i,n,r);for(v=0,y=e.length;v<y;v++){I=e[v],d=typeof I=="string"&&I.indexOf(":")>-1;if(d||$.isArray(I))T=!0,d&&(I=e[v]=O(I.split(":"))),I=B(I,null),f=q.min.apply(q,I),p=q.max.apply(q,I),f<u&&(u=f),p>c&&(c=p)}this.stacked=T,this.regionShapes={},this.barWidth=s,this.barSpacing=o,this.totalBarWidth=s+o,this.width=n=e.length*s+(e.length-1)*o,this.initTarget(),h&&(k=a===Y?-Infinity:a,S=l===Y?Infinity:l),m=[],g=T?[]:m;var L=[],F=[];for(v=0,y=e.length;v<y;v++)if(T){D=e[v],e[v]=E=[],L[v]=0,g[v]=F[v]=0;for(M=0,P=D.length;M<P;M++)I=E[M]=h?z(D[M],k,S):D[M],I!==null&&(I>0&&(L[v]+=I),u<0&&c>0?I<0?F[v]+=q.abs(I):g[v]+=I:g[v]+=q.abs(I-(I<0?c:u)),m.push(I))}else I=h?z(e[v],k,S):e[v],I=e[v]=N(I),I!==null&&m.push(I);this.max=C=q.max.apply(q,m),this.min=_=q.min.apply(q,m),this.stackMax=c=T?q.max.apply(q,L):C,this.stackMin=u=T?q.min.apply(q,m):_,i.get("chartRangeMin")!==Y&&(i.get("chartRangeClip")||i.get("chartRangeMin")<_)&&(_=i.get("chartRangeMin")),i.get("chartRangeMax")!==Y&&(i.get("chartRangeClip")||i.get("chartRangeMax")>C)&&(C=i.get("chartRangeMax")),this.zeroAxis=w=i.get("zeroAxis",!0),_<=0&&C>=0&&w?x=0:w==0?x=_:_>0?x=_:x=C,this.xaxisOffset=x,b=T?q.max.apply(q,g)+q.max.apply(q,F):C-_,this.canvasHeightEf=w&&_<0?this.canvasHeight-2:this.canvasHeight-1,_<x?(H=T&&C>=0?c:C,A=(H-x)/b*this.canvasHeight,A!==q.ceil(A)&&(this.canvasHeightEf-=2,A=q.ceil(A))):A=this.canvasHeight,this.yoffset=A,$.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===Y&&(this.colorMapByValue=new W(this.colorMapByValue))),this.range=b},getRegion:function(t,e,i){var n=q.floor(e/this.totalBarWidth);return n<0||n>=this.values.length?Y:n},getCurrentRegionFields:function(){var t=this.currentRegion,e=s(this.values[t]),i=[],n,r;for(r=e.length;r--;)n=e[r],i.push({isNull:n===null,value:n,color:this.calcColor(r,n,t),offset:t});return i},calcColor:function(t,e,i){var n=this.colorMapByIndex,r=this.colorMapByValue,s=this.options,o,a;return this.stacked?o=s.get("stackedBarColor"):o=e<0?s.get("negBarColor"):s.get("barColor"),e===0&&s.get("zeroColor")!==Y&&(o=s.get("zeroColor")),r&&(a=r.get(e))?o=a:n&&n.length>i&&(o=n[i]),$.isArray(o)?o[t%o.length]:o},renderRegion:function(t,e){var i=this.values[t],n=this.options,r=this.xaxisOffset,s=[],o=this.range,a=this.stacked,l=this.target,h=t*this.totalBarWidth,u=this.canvasHeightEf,c=this.yoffset,d,f,p,g,m,v,y,b,w,x;i=$.isArray(i)?i:[i],y=i.length,b=i[0],g=_(null,i),x=_(r,i,!0);if(g)return n.get("nullColor")?(p=e?n.get("nullColor"):this.calcHighlightColor(n.get("nullColor"),n),d=c>0?c-1:c,l.drawRect(h,d,this.barWidth-1,0,p,p)):Y;m=c;for(v=0;v<y;v++){b=i[v];if(a&&b===r){if(!x||w)continue;w=!0}o>0?f=q.floor(u*(q.abs(b-r)/o))+1:f=1,b<r||b===r&&c===0?(d=m,m+=f):(d=c-f,c-=f),p=this.calcColor(v,b,t),e&&(p=this.calcHighlightColor(p,n)),s.push(l.drawRect(h,d,this.barWidth-1,f-1,p,p))}return s.length===1?s[0]:s}}),$.fn.sparkline.tristate=l=e($.fn.sparkline._base,a,{type:"tristate",init:function(t,e,i,n,r){var s=parseInt(i.get("barWidth"),10),o=parseInt(i.get("barSpacing"),10);l._super.init.call(this,t,e,i,n,r),this.regionShapes={},this.barWidth=s,this.barSpacing=o,this.totalBarWidth=s+o,this.values=$.map(e,Number),this.width=n=e.length*s+(e.length-1)*o,$.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===Y&&(this.colorMapByValue=new W(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,i){return q.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===Y,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i=this.values,n=this.options,r=this.colorMapByIndex,s=this.colorMapByValue,o,a;return s&&(a=s.get(t))?o=a:r&&r.length>e?o=r[e]:i[e]<0?o=n.get("negBarColor"):i[e]>0?o=n.get("posBarColor"):o=n.get("zeroBarColor"),o},renderRegion:function(t,e){var i=this.values,n=this.options,r=this.target,s,o,a,l,h,u;s=r.pixelHeight,a=q.round(s/2),l=t*this.totalBarWidth,i[t]<0?(h=a,o=a-1):i[t]>0?(h=0,o=a-1):(h=a-1,o=2),u=this.calcColor(i[t],t);if(u===null)return;return e&&(u=this.calcHighlightColor(u,n)),r.drawRect(l,h,this.barWidth-1,o-1,u,u)}}),$.fn.sparkline.discrete=h=e($.fn.sparkline._base,a,{type:"discrete",init:function(t,e,i,n,r){h._super.init.call(this,t,e,i,n,r),this.regionShapes={},this.values=e=$.map(e,Number),this.min=q.min.apply(q,e),this.max=q.max.apply(q,e),this.range=this.max-this.min,this.width=n=i.get("width")==="auto"?e.length*2:this.width,this.interval=q.floor(n/e.length),this.itemWidth=n/e.length,i.get("chartRangeMin")!==Y&&(i.get("chartRangeClip")||i.get("chartRangeMin")<this.min)&&(this.min=i.get("chartRangeMin")),i.get("chartRangeMax")!==Y&&(i.get("chartRangeClip")||i.get("chartRangeMax")>this.max)&&(this.max=i.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight=i.get("lineHeight")==="auto"?q.round(this.canvasHeight*.3):i.get("lineHeight"))},getRegion:function(t,e,i){return q.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===Y,value:this.values[t],offset:t}},renderRegion:function(t,e){var i=this.values,n=this.options,r=this.min,s=this.max,o=this.range,a=this.interval,l=this.target,h=this.canvasHeight,u=this.lineHeight,c=h-u,d,f,p,g;return f=z(i[t],r,s),g=t*a,d=q.round(c-c*((f-r)/o)),p=n.get("thresholdColor")&&f<n.get("thresholdValue")?n.get("thresholdColor"):n.get("lineColor"),e&&(p=this.calcHighlightColor(p,n)),l.drawLine(g,d,g,d+u,p)}}),$.fn.sparkline.bullet=f=e($.fn.sparkline._base,{type:"bullet",init:function(t,e,i,n,r){var s,o,a;f._super.init.call(this,t,e,i,n,r),this.values=e=O(e),a=e.slice(),a[0]=a[0]===null?a[2]:a[0],a[1]=e[1]===null?a[2]:a[1],s=q.min.apply(q,e),o=q.max.apply(q,e),i.get("base")===Y?s=s<0?s:0:s=i.get("base"),this.min=s,this.max=o,this.range=o-s,this.shapes={},this.valueShapes={},this.regiondata={},this.width=n=i.get("width")==="auto"?"4.0em":n,this.target=this.$el.simpledraw(n,r,i.get("composite")),e.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return n!==Y&&this.shapes[n]!==Y?this.shapes[n]:Y},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.valueShapes[e],n;delete this.shapes[i];switch(e.substr(0,1)){case"r":n=this.renderRange(e.substr(1),t);break;case"p":n=this.renderPerformance(t);break;case"t":n=this.renderTarget(t)}this.valueShapes[e]=n.id,this.shapes[n.id]=e,this.target.replaceWithShape(i,n)},renderRange:function(t,e){var i=this.values[t],n=q.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("rangeColors")[t-2];return e&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,r,r)},renderPerformance:function(t){var e=this.values[1],i=q.round(this.canvasWidth*((e-this.min)/this.range)),n=this.options.get("performanceColor");return t&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,q.round(this.canvasHeight*.3),i-1,q.round(this.canvasHeight*.4)-1,n,n)},renderTarget:function(t){var e=this.values[0],i=q.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),n=q.round(this.canvasHeight*.1),r=this.canvasHeight-n*2,s=this.options.get("targetColor");return t&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(i,n,this.options.get("targetWidth")-1,r-1,s,s)},render:function(){var t=this.values.length,e=this.target,i,n;if(!f._super.render.call(this))return;for(i=2;i<t;i++)n=this.renderRange(i).append(),this.shapes[n.id]="r"+i,this.valueShapes["r"+i]=n.id;this.values[1]!==null&&(n=this.renderPerformance().append(),this.shapes[n.id]="p1",this.valueShapes.p1=n.id),this.values[0]!==null&&(n=this.renderTarget().append(),this.shapes[n.id]="t0",this.valueShapes.t0=n.id),e.render()}}),$.fn.sparkline.pie=p=e($.fn.sparkline._base,{type:"pie",init:function(t,e,i,n,r){var s=0,o;p._super.init.call(this,t,e,i,n,r),this.shapes={},this.valueShapes={},this.values=e=$.map(e,Number),i.get("width")==="auto"&&(this.width=this.height);if(e.length>0)for(o=e.length;o--;)s+=e[o];this.total=s,this.initTarget(),this.radius=q.floor(q.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return n!==Y&&this.shapes[n]!==Y?this.shapes[n]:Y},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===Y,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,e){var i=this.target,n=this.options,r=this.radius,s=n.get("borderWidth"),o=n.get("offset"),a=2*q.PI,l=this.values,h=this.total,u=o?2*q.PI*(o/360):0,c,d,f,p,g;p=l.length;for(f=0;f<p;f++){c=u,d=u,h>0&&(d=u+a*(l[f]/h));if(t===f)return g=n.get("sliceColors")[f%n.get("sliceColors").length],e&&(g=this.calcHighlightColor(g,n)),i.drawPieSlice(r,r,r-s,c,d,Y,g);u=d}},render:function(){var t=this.target,e=this.values,i=this.options,n=this.radius,r=i.get("borderWidth"),s,o;if(!p._super.render.call(this))return;r&&t.drawCircle(n,n,q.floor(n-r/2),i.get("borderColor"),Y,r).append();for(o=e.length;o--;)e[o]&&(s=this.renderSlice(o).append(),this.valueShapes[o]=s.id,this.shapes[s.id]=o);t.render()}}),$.fn.sparkline.box=x=e($.fn.sparkline._base,{type:"box",init:function(t,e,i,n,r){x._super.init.call(this,t,e,i,n,r),this.values=$.map(e,Number),this.width=i.get("width")==="auto"?"4.0em":n,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==Y&&t.push({field:"lo",value:this.loutlier}),this.routlier!==Y&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==Y&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==Y&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t=this.target,e=this.values,i=e.length,n=this.options,r=this.canvasWidth,s=this.canvasHeight,o=n.get("chartRangeMin")===Y?q.min.apply(q,e):n.get("chartRangeMin"),a=n.get("chartRangeMax")===Y?q.max.apply(q,e):n.get("chartRangeMax"),l=0,h,u,c,d,f,p,g,m,v,y,b;if(!x._super.render.call(this))return;if(n.get("raw"))n.get("showOutliers")&&e.length>5?(u=e[0],h=e[1],d=e[2],f=e[3],p=e[4],g=e[5],m=e[6]):(h=e[0],d=e[1],f=e[2],p=e[3],g=e[4]);else{e.sort(function(t,e){return t-e}),d=w(e,1),f=w(e,2),p=w(e,3),c=p-d;if(n.get("showOutliers")){h=g=Y;for(v=0;v<i;v++)h===Y&&e[v]>d-c*n.get("outlierIQR")&&(h=e[v]),e[v]<p+c*n.get("outlierIQR")&&(g=e[v]);u=e[0],m=e[i-1]}else h=e[0],g=e[i-1]}this.quartiles=[d,f,p],this.lwhisker=h,this.rwhisker=g,this.loutlier=u,this.routlier=m,b=r/(a-o+1),n.get("showOutliers")&&(l=q.ceil(n.get("spotRadius")),r-=2*q.ceil(n.get("spotRadius")),b=r/(a-o+1),u<h&&t.drawCircle((u-o)*b+l,s/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append(),m>g&&t.drawCircle((m-o)*b+l,s/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append()),t.drawRect(q.round((d-o)*b+l),q.round(s*.1),q.round((p-d)*b),q.round(s*.8),n.get("boxLineColor"),n.get("boxFillColor")).append(),t.drawLine(q.round((h-o)*b+l),q.round(s/2),q.round((d-o)*b+l),q.round(s/2),n.get("lineColor")).append(),t.drawLine(q.round((h-o)*b+l),q.round(s/4),q.round((h-o)*b+l),q.round(s-s/4),n.get("whiskerColor")).append(),t.drawLine(q.round((g-o)*b+l),q.round(s/2),q.round((p-o)*b+l),q.round(s/2),n.get("lineColor")).append(),t.drawLine(q.round((g-o)*b+l),q.round(s/4),q.round((g-o)*b+l),q.round(s-s/4),n.get("whiskerColor")).append(),t.drawLine(q.round((f-o)*b+l),q.round(s*.1),q.round((f-o)*b+l),q.round(s*.9),n.get("medianColor")).append(),n.get("target")&&(y=q.ceil(n.get("spotRadius")),t.drawLine(q.round((n.get("target")-o)*b+l),q.round(s/2-y),q.round((n.get("target")-o)*b+l),q.round(s/2+y),n.get("targetColor")).append(),t.drawLine(q.round((n.get("target")-o)*b+l-y),q.round(s/2),q.round((n.get("target")-o)*b+l+y),q.round(s/2),n.get("targetColor")).append()),t.render()}}),y=e({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),b=e({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){if(!t)return;this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),$.data(i,"_jqs_vcanvas",this)},drawLine:function(t,e,i,n,r,s){return this.drawShape([[t,e],[i,n]],r,s)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,s){return this._genShape("Circle",[t,e,i,n,r,s])},drawPieSlice:function(t,e,i,n,r,s,o){return this._genShape("PieSlice",[t,e,i,n,r,s,o])},drawRect:function(t,e,i,n,r,s){return this._genShape("Rect",[t,e,i,n,r,s])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){$(e).html(t)},_calculatePixelDims:function(t,e,i){var n;n=this._pxregex.exec(e),n?this.pixelHeight=n[1]:this.pixelHeight=$(i).height(),n=this._pxregex.exec(t),n?this.pixelWidth=n[1]:this.pixelWidth=$(i).width()},_genShape:function(t,e){var i=T++;return e.unshift(i),new y(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),C=e(b,{init:function(t,e,i,n){C._super.init.call(this,t,e,i),this.canvas=D.createElement("canvas"),i[0]&&(i=i[0]),$.data(i,"_jqs_vcanvas",this),$(this.canvas).css({display:"inline-block",width:t,height:e,verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=n,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=Y,$(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var n=this.canvas.getContext("2d");return t!==Y&&(n.strokeStyle=t),n.lineWidth=i===Y?1:i,e!==Y&&(n.fillStyle=e),n},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=Y},_drawShape:function(t,e,i,n,r){var s=this._getContext(i,n,r),o,a;s.beginPath(),s.moveTo(e[0][0]+.5,e[0][1]+.5);for(o=1,a=e.length;o<a;o++)s.lineTo(e[o][0]+.5,e[o][1]+.5);i!==Y&&s.stroke(),n!==Y&&s.fill(),this.targetX!==Y&&this.targetY!==Y&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,i,n,r,s,o){var a=this._getContext(r,s,o);a.beginPath(),a.arc(e,i,n,0,2*q.PI,!1),this.targetX!==Y&&this.targetY!==Y&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),r!==Y&&a.stroke(),s!==Y&&a.fill()},_drawPieSlice:function(t,e,i,n,r,s,o,a){var l=this._getContext(o,a);l.beginPath(),l.moveTo(e,i),l.arc(e,i,n,r,s,!1),l.lineTo(e,i),l.closePath(),o!==Y&&l.stroke(),a&&l.fill(),this.targetX!==Y&&this.targetY!==Y&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],s,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=this.shapeseq,n;this.shapes[e.id]=e;for(n=i.length;n--;)i[n]==t&&(i[n]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i=this.shapeseq,n={},r,s,o;for(s=t.length;s--;)n[t[s]]=!0;for(s=i.length;s--;)r=i[s],n[r]&&(i.splice(s,1),delete this.shapes[r],o=s);for(s=e.length;s--;)i.splice(o,0,e[s].id),this.shapes[e[s].id]=e[s]},insertAfterShape:function(t,e){var i=this.shapeseq,n;for(n=i.length;n--;)if(i[n]===t){i.splice(n+1,0,e.id),this.shapes[e.id]=e;return}},removeShapeId:function(t){var e=this.shapeseq,i;for(i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t=this.shapeseq,e=this.shapes,i=t.length,n=this._getContext(),r,s,o;n.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(o=0;o<i;o++)r=t[o],s=e[r],this["_draw"+s.type].apply(this,s.args);this.interact||(this.shapes={},this.shapeseq=[])}}),k=e(b,{init:function(t,e,i){var n;k._super.init.call(this,t,e,i),i[0]&&(i=i[0]),$.data(i,"_jqs_vcanvas",this),this.canvas=D.createElement("span"),$(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:e,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,n='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"'+' style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",n),this.group=$(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,n,r){var s=[],o,a,l,h,u,c,d;for(d=0,c=e.length;d<c;d++)s[d]=""+e[d][0]+","+e[d][1];return o=s.splice(0,1),r=r===Y?1:r,a=i===Y?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+i+'" ',l=n===Y?' filled="false"':' fillColor="'+n+'" filled="true" ',h=s[0]===s[s.length-1]?"x ":"",u='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+t+'" '+a+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+o+" l "+s.join(", ")+" "+h+'e">'+" </v:shape>",u},_drawCircle:function(t,e,i,n,r,s,o){var a,l,h;return e-=n,i-=n,a=r===Y?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+r+'" ',l=s===Y?' filled="false"':' fillColor="'+s+'" filled="true" ',h='<v:oval  id="jqsshape'+t+'" '+a+l+' style="position:absolute;top:'+i+"px; left:"+e+"px; width:"+n*2+"px; height:"+n*2+'px"></v:oval>',h},_drawPieSlice:function(t,e,i,n,r,s,o,a){var l,h,u,c,d,f,p,g;if(r===s)return"";s-r===2*q.PI&&(r=0,s=2*q.PI),h=e+q.round(q.cos(r)*n),u=i+q.round(q.sin(r)*n),c=e+q.round(q.cos(s)*n),d=i+q.round(q.sin(s)*n);if(h===c&&u===d){if(s-r<q.PI)return"";h=c=e+n,u=d=i}return h===c&&u===d&&s-r<q.PI?"":(l=[e-n,i-n,e+n,i+n,h,u,c,d],f=o===Y?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ',p=a===Y?' filled="false"':' fillColor="'+a+'" filled="true" ',g='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+t+'" '+f+p+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+e+","+i+" wa "+l.join(", ")+' x e">'+" </v:shape>",g)},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],s,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=$("#jqsshape"+t),n=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=n},replaceWithShapes:function(t,e){var i=$("#jqsshape"+t[0]),n="",r=e.length,s;for(s=0;s<r;s++)n+=this["_draw"+e[s].type].apply(this,e[s].args);i[0].outerHTML=n;for(s=1;s<t.length;s++)$("#jqsshape"+t[s]).remove()},insertAfterShape:function(t,e){var i=$("#jqsshape"+t),n=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",n)},removeShapeId:function(t){var e=$("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){var n=t.id.substr(8);return n},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})})(document,Math);!function(x,_,C){"use strict";!function s(o,a,l){function h(i,t){if(!a[i]){if(!o[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(u)return u(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var r=a[i]={exports:{}};o[i][0].call(r.exports,function(t){var e=o[i][1][t];return h(e?e:t)},r,r.exports,s,o,a,l)}return a[i].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t){var d,f,e,i,n=function(t){return t&&t.__esModule?t:{default:t}},p=t("./modules/handle-dom"),g=t("./modules/utils"),m=t("./modules/handle-swal-dom"),v=t("./modules/handle-click"),r=t("./modules/handle-key"),y=n(r),s=t("./modules/default-params"),b=n(s),o=t("./modules/set-params"),w=n(o);e=i=function(){function t(t){var e=i;return e[t]===C?b["default"][t]:e[t]}var i=arguments[0];if(p.addClass(_.body,"stop-scrolling"),m.resetInput(),i===C)return g.logStr("SweetAlert expects at least 1 attribute!"),!1;var e=g.extend({},b["default"]);switch(typeof i){case"string":e.title=i,e.text=arguments[1]||"",e.type=arguments[2]||"";break;case"object":if(i.title===C)return g.logStr('Missing "title" argument!'),!1;e.title=i.title;for(var n in b["default"])e[n]=t(n);e.confirmButtonText=e.showCancelButton?"Confirm":b["default"].confirmButtonText,e.confirmButtonText=t("confirmButtonText"),e.doneFunction=arguments[1]||null;break;default:return g.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof i),!1}w["default"](e),m.fixVerticalPosition(),m.openModal(arguments[1]);for(var r=m.getModal(),s=r.querySelectorAll("button"),o=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],a=function(t){return v.handleButton(t,e,r)},l=0;l<s.length;l++)for(var h=0;h<o.length;h++){var u=o[h];s[l][u]=a}m.getOverlay().onclick=a,d=x.onkeydown;var c=function(t){return y["default"](t,e,r)};x.onkeydown=c,x.onfocus=function(){setTimeout(function(){f!==C&&(f.focus(),f=C)},0)}},e.setDefaults=i.setDefaults=function(t){if(!t)throw new Error("userParams is required");if("object"!=typeof t)throw new Error("userParams has to be a object");g.extend(b["default"],t)},e.close=i.close=function(){var e=m.getModal();p.fadeOut(m.getOverlay(),5),p.fadeOut(e,5),p.removeClass(e,"showSweetAlert"),p.addClass(e,"hideSweetAlert"),p.removeClass(e,"visible");var t=e.querySelector(".sa-icon.sa-success");p.removeClass(t,"animate"),p.removeClass(t.querySelector(".sa-tip"),"animateSuccessTip"),p.removeClass(t.querySelector(".sa-long"),"animateSuccessLong");var i=e.querySelector(".sa-icon.sa-error");p.removeClass(i,"animateErrorIcon"),p.removeClass(i.querySelector(".sa-x-mark"),"animateXMark");var n=e.querySelector(".sa-icon.sa-warning");return p.removeClass(n,"pulseWarning"),p.removeClass(n.querySelector(".sa-body"),"pulseWarningIns"),p.removeClass(n.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var t=e.getAttribute("data-custom-class");p.removeClass(e,t)},300),p.removeClass(_.body,"stop-scrolling"),x.onkeydown=d,x.previousActiveElement&&x.previousActiveElement.focus(),f=C,clearTimeout(e.timeout),!0},e.showInputError=i.showInputError=function(t){var e=m.getModal(),i=e.querySelector(".sa-input-error");p.addClass(i,"show");var n=e.querySelector(".sa-error-container");p.addClass(n,"show"),n.querySelector("p").innerHTML=t,e.querySelector("input").focus()},e.resetInputError=i.resetInputError=function(t){if(t&&13===t.keyCode)return!1;var e=m.getModal(),i=e.querySelector(".sa-input-error");p.removeClass(i,"show");var n=e.querySelector(".sa-error-container");p.removeClass(n,"show")},"undefined"!=typeof x?x.sweetAlert=x.swal=e:g.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var n={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:""};i["default"]=n,e.exports=i["default"]},{}],3:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var v=t("./utils"),y=(t("./handle-swal-dom"),t("./handle-dom")),n=function(t,e,i){function n(t){h&&e.confirmButtonColor&&(l.style.backgroundColor=t)}var r,s,o,a=t||x.event,l=a.target||a.srcElement,h=-1!==l.className.indexOf("confirm"),u=-1!==l.className.indexOf("sweet-overlay"),c=y.hasClass(i,"visible"),d=e.doneFunction&&"true"===i.getAttribute("data-has-done-function");switch(h&&e.confirmButtonColor&&(r=e.confirmButtonColor,s=v.colorLuminance(r,-.04),o=v.colorLuminance(r,-.14)),a.type){case"mouseover":n(s);break;case"mouseout":n(r);break;case"mousedown":n(o);break;case"mouseup":n(s);break;case"focus":var f=i.querySelector("button.confirm"),p=i.querySelector("button.cancel");h?p.style.boxShadow="none":f.style.boxShadow="none";break;case"click":var g=i===l,m=y.isDescendant(i,l);if(!g&&!m&&c&&!e.allowOutsideClick)break;h&&d&&c?b(i,e):d&&c||u?w(i,e):y.isDescendant(i,l)&&"BUTTON"===l.tagName&&sweetAlert.close()}},b=function(t,e){var i=!0;y.hasClass(t,"show-input")&&(i=t.querySelector("input").value,i||(i="")),e.doneFunction(i),e.closeOnConfirm&&sweetAlert.close()},w=function(t,e){var i=String(e.doneFunction).replace(/\s/g,""),n="function("===i.substring(0,9)&&")"!==i.substring(9,10);n&&e.doneFunction(!1),e.closeOnCancel&&sweetAlert.close()};i["default"]={handleButton:n,handleConfirm:b,handleCancel:w},e.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e){return new RegExp(" "+e+" ").test(" "+t.className+" ")},r=function(t,e){n(t,e)||(t.className+=" "+e)},s=function(t,e){var i=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(n(t,e)){for(;i.indexOf(" "+e+" ")>=0;)i=i.replace(" "+e+" "," ");t.className=i.replace(/^\s+|\s+$/g,"")}},o=function(t){var e=_.createElement("div");return e.appendChild(_.createTextNode(t)),e.innerHTML},a=function(t){t.style.opacity="",t.style.display="block"},l=function(t){if(t&&!t.length)return a(t);for(var e=0;e<t.length;++e)a(t[e])},h=function(t){t.style.opacity="",t.style.display="none"},u=function(t){if(t&&!t.length)return h(t);for(var e=0;e<t.length;++e)h(t[e])},c=function(t,e){for(var i=e.parentNode;null!==i;){if(i===t)return!0;i=i.parentNode}return!1},d=function(t){t.style.left="-9999px",t.style.display="block";var e,i=t.clientHeight;return e="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(t).getPropertyValue("padding-top"),10):parseInt(t.currentStyle.padding),t.style.left="",t.style.display="none","-"+parseInt((i+e)/2)+"px"},f=function(t,e){if(+t.style.opacity<1){e=e||16,t.style.opacity=0,t.style.display="block";var i=+new Date,n=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){t.style.opacity=+t.style.opacity+(new Date-i)/100,i=+new Date,+t.style.opacity<1&&setTimeout(n,e)});n()}t.style.display="block"},p=function(t,e){e=e||16,t.style.opacity=1;var i=+new Date,n=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){t.style.opacity=+t.style.opacity-(new Date-i)/100,i=+new Date,+t.style.opacity>0?setTimeout(n,e):t.style.display="none"});n()},g=function(t){if("function"==typeof MouseEvent){var e=new MouseEvent("click",{view:x,bubbles:!1,cancelable:!0});t.dispatchEvent(e)}else if(_.createEvent){var i=_.createEvent("MouseEvents");i.initEvent("click",!1,!1),t.dispatchEvent(i)}else _.createEventObject?t.fireEvent("onclick"):"function"==typeof t.onclick&&t.onclick()},m=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):x.event&&x.event.hasOwnProperty("cancelBubble")&&(x.event.cancelBubble=!0)};i.hasClass=n,i.addClass=r,i.removeClass=s,i.escapeHtml=o,i._show=a,i.show=l,i._hide=h,i.hide=u,i.isDescendant=c,i.getTopMargin=d,i.fadeIn=f,i.fadeOut=p,i.fireClick=g,i.stopEventPropagation=m},{}],5:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var c=t("./handle-dom"),d=t("./handle-swal-dom"),n=function(t,e,i){var n=t||x.event,r=n.keyCode||n.which,s=i.querySelector("button.confirm"),o=i.querySelector("button.cancel"),a=i.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(r)){for(var l=n.target||n.srcElement,h=-1,u=0;u<a.length;u++)if(l===a[u]){h=u;break}9===r?(l=-1===h?s:h===a.length-1?a[0]:a[h+1],c.stopEventPropagation(n),l.focus(),e.confirmButtonColor&&d.setFocusStyle(l,e.confirmButtonColor)):13===r?("INPUT"===l.tagName&&(l=s,s.focus()),l=-1===h?s:C):27===r&&e.allowEscapeKey===!0?(l=o,c.fireClick(l,n)):l=C}};i["default"]=n,e.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(t,e,i){var n=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});var r=t("./utils"),s=t("./handle-dom"),o=t("./default-params"),a=n(o),l=t("./injected-html"),h=n(l),u=".sweet-alert",c=".sweet-overlay",d=function(){var t=_.createElement("div");for(t.innerHTML=h["default"];t.firstChild;)_.body.appendChild(t.firstChild)},f=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=_.querySelector(u);return t||(d(),t=f()),t}),p=function(){var t=f();return t?t.querySelector("input"):void 0},g=function(){return _.querySelector(c)},m=function(t,e){var i=r.hexToRgb(e);t.style.boxShadow="0 0 2px rgba("+i+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},v=function(t){var e=f();s.fadeIn(g(),10),s.show(e),s.addClass(e,"showSweetAlert"),s.removeClass(e,"hideSweetAlert"),x.previousActiveElement=_.activeElement;var i=e.querySelector("button.confirm");i.focus(),setTimeout(function(){s.addClass(e,"visible")},500);var n=e.getAttribute("data-timer");if("null"!==n&&""!==n){var r=t;e.timeout=setTimeout(function(){var t=(r||null)&&"true"===e.getAttribute("data-has-done-function");t?r(null):sweetAlert.close()},n)}},y=function(){var t=f(),e=p();s.removeClass(t,"show-input"),e.value=a["default"].inputValue,e.setAttribute("type",a["default"].inputType),e.setAttribute("placeholder",a["default"].inputPlaceholder),b()},b=function(t){if(t&&13===t.keyCode)return!1;var e=f(),i=e.querySelector(".sa-input-error");s.removeClass(i,"show");var n=e.querySelector(".sa-error-container");s.removeClass(n,"show")},w=function(){var t=f();t.style.marginTop=s.getTopMargin(f())};i.sweetAlertInitialize=d,i.getModal=f,i.getOverlay=g,i.getInput=p,i.setFocusStyle=m,i.openModal=v,i.resetInput=y,i.resetInputError=b,i.fixVerticalPosition=w},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var n='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <button class="confirm" tabIndex="1">OK</button>\n    </div></div>';i["default"]=n,e.exports=i["default"]},{}],8:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var g=t("./utils"),m=t("./handle-swal-dom"),v=t("./handle-dom"),y=["error","warning","info","success","input","prompt"],n=function(s){var o=m.getModal(),t=o.querySelector("h2"),e=o.querySelector("p"),i=o.querySelector("button.cancel"),n=o.querySelector("button.confirm");if(t.innerHTML=s.html?s.title:v.escapeHtml(s.title).split("\n").join("<br>"),e.innerHTML=s.html?s.text:v.escapeHtml(s.text||"").split("\n").join("<br>"),s.text&&v.show(e),s.customClass)v.addClass(o,s.customClass),o.setAttribute("data-custom-class",s.customClass);else{var r=o.getAttribute("data-custom-class");v.removeClass(o,r),o.setAttribute("data-custom-class","")}if(v.hide(o.querySelectorAll(".sa-icon")),s.type&&!g.isIE8()){var a=function(){for(var t=!1,e=0;e<y.length;e++)if(s.type===y[e]){t=!0;break}if(!t)return logStr("Unknown alert type: "+s.type),{v:!1};var i=["success","error","warning","info"],n=C;-1!==i.indexOf(s.type)&&(n=o.querySelector(".sa-icon.sa-"+s.type),v.show(n));var r=m.getInput();switch(s.type){case"success":v.addClass(n,"animate"),v.addClass(n.querySelector(".sa-tip"),"animateSuccessTip"),v.addClass(n.querySelector(".sa-long"),"animateSuccessLong");break;case"error":v.addClass(n,"animateErrorIcon"),v.addClass(n.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":v.addClass(n,"pulseWarning"),v.addClass(n.querySelector(".sa-body"),"pulseWarningIns"),v.addClass(n.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":r.setAttribute("type",s.inputType),r.value=s.inputValue,r.setAttribute("placeholder",s.inputPlaceholder),v.addClass(o,"show-input"),setTimeout(function(){r.focus(),r.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof a)return a.v}if(s.imageUrl){var l=o.querySelector(".sa-icon.sa-custom");l.style.backgroundImage="url("+s.imageUrl+")",v.show(l);var h=80,u=80;if(s.imageSize){var c=s.imageSize.toString().split("x"),d=c[0],f=c[1];d&&f?(h=d,u=f):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+s.imageSize)}l.setAttribute("style",l.getAttribute("style")+"width:"+h+"px; height:"+u+"px")}o.setAttribute("data-has-cancel-button",s.showCancelButton),s.showCancelButton?i.style.display="inline-block":v.hide(i),o.setAttribute("data-has-confirm-button",s.showConfirmButton),s.showConfirmButton?n.style.display="inline-block":v.hide(n),s.cancelButtonText&&(i.innerHTML=v.escapeHtml(s.cancelButtonText)),s.confirmButtonText&&(n.innerHTML=v.escapeHtml(s.confirmButtonText)),s.confirmButtonColor&&(n.style.backgroundColor=s.confirmButtonColor,m.setFocusStyle(n,s.confirmButtonColor)),o.setAttribute("data-allow-outside-click",s.allowOutsideClick);var p=s.doneFunction?!0:!1;o.setAttribute("data-has-done-function",p),s.animation?"string"==typeof s.animation?o.setAttribute("data-animation",s.animation):o.setAttribute("data-animation","pop"):o.setAttribute("data-animation","none"),o.setAttribute("data-timer",s.timer)};i["default"]=n,e.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},r=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null},s=function(){return x.attachEvent&&!x.addEventListener},o=function(t){x.console&&x.console.log("SweetAlert: "+t)},a=function(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var i,n,r="#";for(n=0;3>n;n++)i=parseInt(t.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16),r+=("00"+i).substr(i.length);return r};i.extend=n,i.hexToRgb=r,i.isIE8=s,i.logStr=o,i.colorLuminance=a},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document);!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(i){var t=function(){if(i&&i.fn&&i.fn.select2&&i.fn.select2.amd)var e=i.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?r=e:e={};var t,r,u;!function(d){function f(t,e){return i.call(t,e)}function s(t,e){var i,n,r,s,o,a,l,h,u,c,d,f=e&&e.split("/"),p=x.map,g=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(f=f.slice(0,f.length-1),t=t.split("/"),o=t.length-1,x.nodeIdCompat&&C.test(t[o])&&(t[o]=t[o].replace(C,"")),t=f.concat(t),u=0;u<t.length;u+=1)if(d=t[u],"."===d)t.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||g)&&p){for(i=t.split("/"),u=i.length;u>0;u-=1){if(n=i.slice(0,u).join("/"),f)for(c=f.length;c>0;c-=1)if(r=p[f.slice(0,c).join("/")],r&&(r=r[n])){s=r,a=u;break}if(s)break;!l&&g&&g[n]&&(l=g[n],h=u)}!s&&l&&(s=l,a=h),s&&(i.splice(0,a,s),t=i.join("/"))}return t}function p(t,e){return function(){return h.apply(d,n.call(arguments,0).concat([t,e]))}}function o(e){return function(t){return s(t,e)}}function g(e){return function(t){b[e]=t}}function m(t){if(f(w,t)){var e=w[t];delete w[t],_[t]=!0,l.apply(d,e)}if(!f(b,t)&&!f(_,t))throw new Error("No "+t);return b[t]}function a(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function e(t){return function(){return x&&x.config&&x.config[t]||{}}}var l,h,v,y,b={},w={},x={},_={},i=Object.prototype.hasOwnProperty,n=[].slice,C=/\.js$/;v=function(t,e){var i,n=a(t),r=n[0];return t=n[1],r&&(r=s(r,e),i=m(r)),r?t=i&&i.normalize?i.normalize(t,o(e)):s(t,e):(t=s(t,e),n=a(t),r=n[0],t=n[1],r&&(i=m(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:i}},y={require:function(t){return p(t)},exports:function(t){var e=b[t];return"undefined"!=typeof e?e:b[t]={}},module:function(t){return{id:t,uri:"",exports:b[t],config:e(t)}}},l=function(t,e,i,n){var r,s,o,a,l,h,u=[],c=typeof i;if(n=n||t,"undefined"===c||"function"===c){for(e=!e.length&&i.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if(a=v(e[l],n),s=a.f,"require"===s)u[l]=y.require(t);else if("exports"===s)u[l]=y.exports(t),h=!0;else if("module"===s)r=u[l]=y.module(t);else if(f(b,s)||f(w,s)||f(_,s))u[l]=m(s);else{if(!a.p)throw new Error(t+" missing "+s);a.p.load(a.n,p(n,!0),g(s),{}),u[l]=b[s]}o=i?i.apply(b[t],u):void 0,t&&(r&&r.exports!==d&&r.exports!==b[t]?b[t]=r.exports:o===d&&h||(b[t]=o))}else t&&(b[t]=i)},t=r=h=function(t,e,i,n,r){if("string"==typeof t)return y[t]?y[t](e):m(v(t,e).f);if(!t.splice){if(x=t,x.deps&&h(x.deps,x.callback),!e)return;e.splice?(t=e,e=i,i=null):t=d}return e=e||function(){},"function"==typeof i&&(i=n,n=r),n?l(d,t,e,i):setTimeout(function(){l(d,t,e,i)},4),h},h.config=function(t){return h(t)},t._defined=b,u=function(t,e,i){e.splice||(i=e,e=[]),f(b,t)||f(w,t)||(w[t]=[t,e,i])},u.amd={jQuery:!0}}(),e.requirejs=t,e.require=r,e.define=u}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var t=i||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),e.define("select2/utils",["jquery"],function(s){function c(t){var e=t.prototype,i=[];for(var n in e){var r=e[n];"function"==typeof r&&"constructor"!==n&&i.push(n)}return i}var t={};t.Extend=function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},t.Decorate=function(n,r){function s(){var t=Array.prototype.unshift,e=r.prototype.constructor.length,i=n.prototype.constructor;e>0&&(t.call(arguments,n.prototype.constructor),i=r.prototype.constructor),i.apply(this,arguments)}function t(){this.constructor=s}var e=c(r),i=c(n);r.displayName=n.displayName,s.prototype=new t;for(var o=0;o<i.length;o++){var a=i[o];s.prototype[a]=n.prototype[a]}for(var l=function(t){var e=function(){};t in s.prototype&&(e=s.prototype[t]);var i=r.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),i.apply(this,arguments)}},h=0;h<e.length;h++){var u=e[h];s.prototype[u]=l(u)}return s};var e=function(){this.listeners={}};return e.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},e.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(t,e){for(var i=0,n=t.length;n>i;i++)t[i].apply(this,e)},t.Observable=e,t.generateChars=function(t){for(var e="",i=0;t>i;i++){var n=Math.floor(36*Math.random());e+=n.toString(36)}return e},t.bind=function(t,e){return function(){t.apply(e,arguments)}},t._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var r=0;r<i.length;r++){var s=i[r];s=s.substring(0,1).toLowerCase()+s.substring(1),s in n||(n[s]={}),r==i.length-1&&(n[s]=t[e]),n=n[s]}delete t[e]}}return t},t.hasScroll=function(t,e){var i=s(e),n=e.style.overflowX,r=e.style.overflowY;return n!==r||"hidden"!==r&&"visible"!==r?"scroll"===n||"scroll"===r?!0:i.innerHeight()<e.scrollHeight||i.innerWidth()<e.scrollWidth:!1},t.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},t.appendMany=function(t,e){if("1.7"===s.fn.jquery.substr(0,3)){var i=s();s.map(e,function(t){i=i.add(t)}),e=i}t.append(e)},t}),e.define("select2/results",["jquery","./utils"],function(d,t){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=d('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=d('<li role="treeitem" class="select2-results__option"></li>'),n=this.options.get("translations").get(t.message);i.append(e(n(t.args))),this.$results.append(i)},n.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],r=this.option(n);e.push(r)}this.$results.append(e)},n.prototype.position=function(t,e){var i=e.find(".select2-results");i.append(t)},n.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},n.prototype.setClasses=function(){var r=this;this.data.current(function(t){var n=d.map(t,function(t){return t.id.toString()}),e=r.$results.find(".select2-results__option[aria-selected]");e.each(function(){var t=d(this),e=d.data(this,"data"),i=""+e.id;null!=e.element&&e.element.selected||null==e.element&&d.inArray(i,n)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")});var i=e.filter("[aria-selected=true]");i.length>0?i.first().trigger("mouseenter"):e.first().trigger("mouseenter")})},n.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var e=document.createElement("li");e.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(e.id=t._resultId),t.title&&(e.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(var n in i){var r=i[n];e.setAttribute(n,r)}if(t.children){var s=d(e),o=document.createElement("strong");o.className="select2-results__group";{d(o)}this.template(t,o);for(var a=[],l=0;l<t.children.length;l++){var h=t.children[l],u=this.option(h);a.push(u)}var c=d("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});c.append(a),s.append(o),s.append(c)}else this.template(t,e);return d.data(e,"data",t),e},n.prototype.bind=function(e){var l=this,t=e.id+"-results";this.$results.attr("id",t),e.on("results:all",function(t){l.clear(),l.append(t.data),e.isOpen()&&l.setClasses()}),e.on("results:append",function(t){l.append(t.data),e.isOpen()&&l.setClasses()}),e.on("query",function(t){l.showLoading(t)}),e.on("select",function(){e.isOpen()&&l.setClasses()}),e.on("unselect",function(){e.isOpen()&&l.setClasses()}),e.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),e.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=l.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=l.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?l.trigger("close"):l.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var n=i-1;0===t.length&&(n=0);var r=e.eq(n);r.trigger("mouseenter");var s=l.$results.offset().top,o=r.offset().top,a=l.$results.scrollTop()+(o-s);0===n?l.$results.scrollTop(0):0>o-s&&l.$results.scrollTop(a)}}),e.on("results:next",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),i=e.index(t),n=i+1;if(!(n>=e.length)){var r=e.eq(n);r.trigger("mouseenter");var s=l.$results.offset().top+l.$results.outerHeight(!1),o=r.offset().top+r.outerHeight(!1),a=l.$results.scrollTop()+o-s;0===n?l.$results.scrollTop(0):o>s&&l.$results.scrollTop(a)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){l.displayMessage(t)}),d.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=l.$results.scrollTop(),i=l.$results.get(0).scrollHeight-l.$results.scrollTop()+t.deltaY,n=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&i<=l.$results.height();n?(l.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=d(this),i=e.data("data");return"true"===e.attr("aria-selected")?void(l.options.get("multiple")?l.trigger("unselect",{originalEvent:t,data:i}):l.trigger("close")):void l.trigger("select",{originalEvent:t,data:i})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var t=d(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:t,element:d(this)})})},n.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),n=this.$results.offset().top,r=t.offset().top,s=this.$results.scrollTop()+(r-n),o=r-n;s-=2*t.outerHeight(!1),2>=i?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(s)}},n.prototype.template=function(t,e){var i=this.options.get("templateResult"),n=this.options.get("escapeMarkup"),r=i(t);null==r?e.style.display="none":"string"==typeof r?e.innerHTML=n(r):d(e).append(r)},n}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(r,t,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=r('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},i.prototype.bind=function(t){var e=this,i=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e.trigger("blur",t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",i),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},i.prototype._attachCloseHandler=function(t){r(document.body).on("mousedown.select2."+t.id,function(t){var e=r(t.target),i=e.closest(".select2"),n=r(".select2.select2-container--open");n.each(function(){var t=r(this);if(this!=i[0]){var e=t.data("element");e.select2("close")}})})},i.prototype._detachCloseHandler=function(t){r(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(t,e){var i=e.find(".selection");i.append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i){function n(){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},n.prototype.bind=function(t){var e=this;n.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("selection:update",function(t){e.update(t.data)})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t){var e=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(e(t))},n.prototype.selectionContainer=function(){return t("<span></span>")},n.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.display(e),n=this.$selection.find(".select2-selection__rendered");n.empty().append(i),n.prop("title",e.title||e.text)},n}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(s,t,a){function e(){e.__super__.constructor.apply(this,arguments)}return a.Extend(e,t),e.prototype.render=function(){var t=e.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},e.prototype.bind=function(){var r=this;e.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){var e=s(this),i=e.parent(),n=i.data("data");r.trigger("unselect",{originalEvent:t,data:n})})},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(t){var e=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(e(t))},e.prototype.selectionContainer=function(){var t=s('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return t},e.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var n=t[i],r=this.display(n),s=this.selectionContainer();s.append(r),s.prop("title",n.title||n.text),s.data("data",n),e.push(s)}var o=this.$selection.find(".select2-selection__rendered");a.appendMany(o,e)}},e}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id,n=e.length>1;if(n||i)return t.call(this,e);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(n,r){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),r=0;r<n.length;r++){var s={data:n[r]};if(this.trigger("unselect",s),s.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},t.prototype._handleKeyboardClear=function(t,e,i){i.isOpen()||(e.which==r.DELETE||e.which==r.BACKSPACE)&&this._handleClear(e)},t.prototype.update=function(t,e){if(t.call(this,e),!(this.$selection.find(".select2-selection__placeholder").length>0||0===e.length)){var i=n('<span class="select2-selection__clear">&times;</span>');i.data("data",e),this.$selection.find(".select2-selection__rendered").prepend(i)}},t}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(n,t,s){function e(t,e,i){t.call(this,e,i)}return e.prototype.render=function(t){var e=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=e,this.$search=e.find("input");var i=t.call(this);return i},e.prototype.bind=function(t,e,i){var r=this;t.call(this,e,i),e.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus()}),e.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val(""),r.$search.focus()}),e.on("enable",function(){r.$search.prop("disabled",!1)}),e.on("disable",function(){r.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r.trigger("blur",t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===s.BACKSPACE&&""===r.$search.val()){var i=r.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var n=i.data("data");r.searchRemoveChoice(n),t.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(){r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(t){r.handleSearch(t)})},e.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},e.prototype.update=function(t,e){this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},e.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.trigger("open"),this.$search.val(e.text+" ")},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},e}),e.define("select2/selection/eventRelay",["jquery"],function(o){function t(){}return t.prototype.bind=function(t,e,i){var n=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];t.call(this,e,i),e.on("*",function(t,e){if(-1!==o.inArray(t,r)){e=e||{};var i=o.Event("select2:"+t,{params:e});n.$element.trigger(i),-1!==o.inArray(t,s)&&(e.prevented=i.isDefaultPrevented())}})},t}),e.define("select2/translation",["jquery","require"],function(e,i){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var e=i(t);n._cache[t]=e}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){var t={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return t}),e.define("select2/data/base",["../utils"],function(n){function t(){t.__super__.constructor.call(this)}return n.Extend(t,n.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,e){var i=t.id+"-result-";return i+=n.generateChars(4),i+=null!=e.id?"-"+e.id.toString():"-"+n.generateChars(4)},t}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,a){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var i=[],n=this;this.$element.find(":selected").each(function(){var t=a(this),e=n.item(t);i.push(e)}),t(i)},i.prototype.select=function(r){var s=this;if(r.selected=!0,a(r.element).is("option"))return r.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(t){var e=[];r=[r],r.push.apply(r,t);for(var i=0;i<r.length;i++){var n=r[i].id;-1===a.inArray(n,e)&&e.push(n)}s.$element.val(e),s.$element.trigger("change")});else{var t=r.id;this.$element.val(t),this.$element.trigger("change")}},i.prototype.unselect=function(r){var s=this;if(this.$element.prop("multiple"))return r.selected=!1,a(r.element).is("option")?(r.element.selected=!1,void this.$element.trigger("change")):void this.current(function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i].id;n!==r.id&&-1===a.inArray(n,e)&&e.push(n)}s.$element.val(e),s.$element.trigger("change")})},i.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){a.removeData(this,"data")})},i.prototype.query=function(n,t){var r=[],s=this,e=this.$element.children();e.each(function(){var t=a(this);if(t.is("option")||t.is("optgroup")){var e=s.item(t),i=s.matches(n,e);null!==i&&r.push(i)}}),t({results:r})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=a(e),n=this._normalizeItem(t);return n.element=e,a.data(e,"data",n),i},i.prototype.item=function(t){var e={};if(e=a.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),n=[],r=0;r<i.length;r++){var s=a(i[r]),o=this.item(s);n.push(o)}e.children=n}return e=this._normalizeItem(e),e.element=t[0],a.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){a.isPlainObject(t)||(t={id:t,text:t}),t=a.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),a.extend({},e,t)},i.prototype.matches=function(t,e){var i=this.options.get("matcher");return i(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,f,p){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return f.Extend(n,t),n.prototype.select=function(i){var t=this.$element.find("option").filter(function(t,e){return e.value==i.id.toString()});0===t.length&&(t=this.option(i),this.addOptions(t)),n.__super__.select.call(this,i)},n.prototype.convertToOptions=function(t){function e(t){return function(){return p(this).val()==t.id}}for(var i=this,n=this.$element.find("option"),r=n.map(function(){return i.item(p(this)).id}).get(),s=[],o=0;o<t.length;o++){var a=this._normalizeItem(t[o]);if(p.inArray(a.id,r)>=0){var l=n.filter(e(a)),h=this.item(l),u=(p.extend(!0,{},h,a),this.option(h));l.replaceWith(u)}else{var c=this.option(a);if(a.children){var d=this.convertToOptions(a.children);f.appendMany(c,d)}s.push(c)}}return s},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(i,t,s){function e(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return t.Extend(e,i),e.prototype._applyDefaults=function(t){var e={data:function(t){return{q:t.term}},transport:function(t,e,i){var n=s.ajax(t);return n.then(e),n.fail(i),n}};return s.extend({},e,t,!0)},e.prototype.processResults=function(t){return t},e.prototype.query=function(i,n){function t(){var t=e.transport(e,function(t){var e=r.processResults(t,i);r.options.get("debug")&&window.console&&console.error&&(e&&e.results&&s.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),n(e)},function(){});r._request=t}var r=this;null!=this._request&&(s.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var e=s.extend({type:"GET"},this.ajaxOptions);"function"==typeof e.url&&(e.url=e.url(i)),"function"==typeof e.data&&(e.data=e.data(i)),this.ajaxOptions.delay&&""!==i.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},e}),e.define("select2/data/tags",["jquery"],function(h){function t(t,e,i){var n=i.get("tags"),r=i.get("createTag");if(void 0!==r&&(this.createTag=r),t.call(this,e,i),h.isArray(n))for(var s=0;s<n.length;s++){var o=n[s],a=this._normalizeItem(o),l=this.option(a);this.$element.append(l)}}return t.prototype.query=function(t,h,u){function c(t,e){for(var i=t.results,n=0;n<i.length;n++){var r=i[n],s=null!=r.children&&!c({results:r.children},!0),o=r.text===h.term;if(o||s)return e?!1:(t.data=i,void u(t))}if(e)return!0;var a=d.createTag(h);if(null!=a){var l=d.option(a);l.attr("data-select2-tag",!0),d.addOptions([l]),d.insertTag(i,a)}t.results=i,u(t)}var d=this;return this._removeOldTags(),null==h.term||null!=h.page?void t.call(this,h,u):void t.call(this,h,c)},t.prototype.createTag=function(t,e){var i=h.trim(e.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(t,e,i){e.unshift(i)},t.prototype._removeOldTags=function(){var t=(this._lastTag,this.$element.find("option[data-select2-tag]"));t.each(function(){this.selected||h(this).remove()})},t}),e.define("select2/data/tokenizer",["jquery"],function(d){function t(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,e,i){function n(t){r.select(t)}var r=this;e.term=e.term||"";var s=this.tokenizer(e,this.options,n);s.term!==e.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),e.term=s.term),t.call(this,e,i)},t.prototype.tokenizer=function(t,e,i,n){for(var r=i.get("tokenSeparators")||[],s=e.term,o=0,a=this.createTag||function(t){return{id:t.term,text:t.term}};o<s.length;){var l=s[o];if(-1!==d.inArray(l,r)){var h=s.substr(0,o),u=d.extend({},e,{term:h}),c=a(u);n(c),s=s.substr(o+1)||"",o=0}else o++}return{term:s}},t}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(i,n,r){var s=this;this.current(function(t){var e=null!=t?t.length:0;return s.maximumSelectionLength>0&&e>=s.maximumSelectionLength?void s.trigger("results:message",{message:"maximumSelected",args:{maximum:s.maximumSelectionLength}}):void i.call(s,n,r)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(r){function t(){}return t.prototype.render=function(t){var e=t.call(this),i=r('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),e.prepend(i),e},t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),this.$search.on("keydown",function(t){n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){r(this).off("keyup")}),this.$search.on("keyup input",function(t){n.handleSearch(t)}),e.on("open",function(){n.$search.attr("tabindex",0),n.$search.focus(),window.setTimeout(function(){n.$search.focus()},0)}),e.on("close",function(){n.$search.attr("tabindex",-1),n.$search.val("")}),e.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=n.showSearch(t);e?n.$searchContainer.removeClass("select2-search--hide"):n.$searchContainer.addClass("select2-search--hide")}})},t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.showSearch=function(){return!0},t}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var r=e[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(r){function t(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("query",function(t){n.lastParams=t,n.loading=!0}),e.on("query:append",function(t){n.lastParams=t,n.loading=!0}),this.$results.on("scroll",function(){var t=r.contains(document.documentElement,n.$loadingMore[0]);if(!n.loading&&t){var e=n.$results.offset().top+n.$results.outerHeight(!1),i=n.$loadingMore.offset().top+n.$loadingMore.outerHeight(!1);e+50>=i&&n.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=r.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=r('<li class="option load-more" role="treeitem"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(c,o){function t(t,e,i){this.$dropdownParent=i.get("dropdownParent")||document.body,t.call(this,e,i)}return t.prototype.bind=function(t,e,i){var n=this,r=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},t.prototype.render=function(t){var e=c("<span></span>"),i=t.call(this);return e.append(i),this.$dropdownContainer=e,e},t.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},t.prototype._attachPositioningHandler=function(t){var e=this,i="scroll.select2."+t.id,n="resize.select2."+t.id,r="orientationchange.select2."+t.id,s=this.$container.parents().filter(o.hasScroll);s.each(function(){c(this).data("select2-scroll-position",{x:c(this).scrollLeft(),y:c(this).scrollTop()})}),s.on(i,function(){var t=c(this).data("select2-scroll-position");c(this).scrollTop(t.y)}),c(window).on(i+" "+n+" "+r,function(){e._positionDropdown(),e._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t){var e="scroll.select2."+t.id,i="resize.select2."+t.id,n="orientationchange.select2."+t.id,r=this.$container.parents().filter(o.hasScroll);r.off(e),c(window).off(e+" "+i+" "+n)},t.prototype._positionDropdown=function(){var t=c(window),e=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),n=null,r=(this.$container.position(),this.$container.offset());r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var o={height:this.$dropdown.outerHeight(!1)},a={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},l=a.top<r.top-o.height,h=a.bottom>r.bottom+o.height,u={left:r.left,top:s.bottom};e||i||(n="below"),h||!l||e?!l&&h&&e&&(n="below"):n="above",("above"==n||e&&"below"!==n)&&(u.top=s.top-o.height),null!=n&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)),this.$dropdownContainer.css(u)},t.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function r(t){for(var e=0,i=0;i<t.length;i++){var n=t[i];n.children?e+=r(n.children):e++}return e}function t(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return t.prototype.showSearch=function(t,e){return r(e.data.results)<this.minimumResultsForSearch?!1:t.call(this,e)},t}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(){n._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();t.length<1||this.trigger("select",{data:t.data("data")})},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close")},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){var e=t.minimum-t.input.length,i="Please enter "+e+" or more characters";return i},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(g,m,v,y,b,w,x,_,C,k,S,i,T,D,M,P,E,I,A,H,R,L,F,$,z,N,O,B,t){function e(){this.reset()}e.prototype.apply=function(e){if(e=g.extend({},this.defaults,e),null==e.dataAdapter){if(e.dataAdapter=null!=e.ajax?M:null!=e.data?D:T,e.minimumInputLength>0&&(e.dataAdapter=k.Decorate(e.dataAdapter,I)),e.maximumInputLength>0&&(e.dataAdapter=k.Decorate(e.dataAdapter,A)),e.maximumSelectionLength>0&&(e.dataAdapter=k.Decorate(e.dataAdapter,H)),e.tags&&(e.dataAdapter=k.Decorate(e.dataAdapter,P)),(null!=e.tokenSeparators||null!=e.tokenizer)&&(e.dataAdapter=k.Decorate(e.dataAdapter,E)),null!=e.query){var t=m(e.amdBase+"compat/query");e.dataAdapter=k.Decorate(e.dataAdapter,t)}if(null!=e.initSelection){var i=m(e.amdBase+"compat/initSelection");e.dataAdapter=k.Decorate(e.dataAdapter,i)}}if(null==e.resultsAdapter&&(e.resultsAdapter=v,null!=e.ajax&&(e.resultsAdapter=k.Decorate(e.resultsAdapter,$)),null!=e.placeholder&&(e.resultsAdapter=k.Decorate(e.resultsAdapter,F)),e.selectOnClose&&(e.resultsAdapter=k.Decorate(e.resultsAdapter,O))),null==e.dropdownAdapter){if(e.multiple)e.dropdownAdapter=R;else{var n=k.Decorate(R,L);e.dropdownAdapter=n}if(0!==e.minimumResultsForSearch&&(e.dropdownAdapter=k.Decorate(e.dropdownAdapter,N)),e.closeOnSelect&&(e.dropdownAdapter=k.Decorate(e.dropdownAdapter,B)),null!=e.dropdownCssClass||null!=e.dropdownCss||null!=e.adaptDropdownCssClass){var r=m(e.amdBase+"compat/dropdownCss");e.dropdownAdapter=k.Decorate(e.dropdownAdapter,r)}e.dropdownAdapter=k.Decorate(e.dropdownAdapter,z)}if(null==e.selectionAdapter){if(e.selectionAdapter=e.multiple?b:y,null!=e.placeholder&&(e.selectionAdapter=k.Decorate(e.selectionAdapter,w)),e.allowClear&&(e.selectionAdapter=k.Decorate(e.selectionAdapter,x)),e.multiple&&(e.selectionAdapter=k.Decorate(e.selectionAdapter,_)),null!=e.containerCssClass||null!=e.containerCss||null!=e.adaptContainerCssClass){var s=m(e.amdBase+"compat/containerCss");e.selectionAdapter=k.Decorate(e.selectionAdapter,s)}e.selectionAdapter=k.Decorate(e.selectionAdapter,C)}if("string"==typeof e.language)if(e.language.indexOf("-")>0){var o=e.language.split("-"),a=o[0];e.language=[e.language,a]}else e.language=[e.language];if(g.isArray(e.language)){var l=new S;e.language.push("en");for(var h=e.language,u=0;u<h.length;u++){var c=h[u],d={};try{d=S.loadPath(c)}catch(t){try{c=this.defaults.amdLanguageBase+c,d=S.loadPath(c)}catch(t){e.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+c+'" could not be automatically loaded. A fallback will be used instead.');continue}}l.extend(d)}e.translations=l}else{var f=S.loadPath(this.defaults.amdLanguageBase+"en"),p=new S(e.language);p.extend(f),e.translations=p}return e},e.prototype.reset=function(){function l(t){function e(t){return i[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function h(t,e){if(""===g.trim(t.term))return e;if(e.children&&e.children.length>0){for(var i=g.extend(!0,{},e),n=e.children.length-1;n>=0;n--){var r=e.children[n],s=h(t,r);null==s&&i.children.splice(n,1)}return i.children.length>0?i:h(t,i)}var o=l(e.text).toUpperCase(),a=l(t.term).toUpperCase();return o.indexOf(a)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:k.escapeMarkup,language:t,matcher:h,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},e.prototype.set=function(t,e){var i=g.camelCase(t),n={};n[i]=e;var r=k._convertData(n);g.extend(this.defaults,r)};var n=new e;return n}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(n,s,r,o){function t(t,e){if(this.options=t,null!=e&&this.fromElement(e),this.options=r.apply(this.options),e&&e.is("input")){var i=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=o.Decorate(this.options.dataAdapter,i)}}return t.prototype.fromElement=function(t){var e=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=t.prop("dir")?t.prop("dir"):t.closest("[dir]").prop("dir")?t.closest("[dir]").prop("dir"):"ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var i={};i=s.fn.jquery&&"1."==s.fn.jquery.substr(0,2)&&t[0].dataset?s.extend(!0,{},t[0].dataset,t.data()):t.data();var n=s.extend(!0,{},i);n=o._convertData(n);for(var r in n)s.inArray(r,e)>-1||(s.isPlainObject(this.options[r])?s.extend(this.options[r],n[r]):this.options[r]=n[r]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(r,h,i,n){var u=function(t,e){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),e=e||{},this.options=new h(e,t),u.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var n=this.options.get("dataAdapter");this.dataAdapter=new n(t,this.options);var r=this.render();this._placeContainer(r);var s=this.options.get("selectionAdapter");this.selection=new s(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var o=this.options.get("dropdownAdapter");this.dropdown=new o(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var a=this.options.get("resultsAdapter");this.results=new a(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){l.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(u,i.Observable),u.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e="select2-"+e},u.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},u.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return 0>=r?"auto":r+"px"}if("style"==e){var s=t.attr("style");if("string"!=typeof s)return null;for(var o=s.split(";"),a=0,l=o.length;l>a;a+=1){var h=o[a].replace(/\s/g,""),u=h.match(i);if(null!==u&&u.length>=1)return u[1]}return null}return e},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){r.each(t,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},u.prototype._registerDataEvents=function(){var i=this;this.dataAdapter.on("*",function(t,e){i.trigger(t,e)})},u.prototype._registerSelectionEvents=function(){var i=this,n=["toggle"];this.selection.on("toggle",function(){i.toggleDropdown()}),this.selection.on("*",function(t,e){-1===r.inArray(t,n)&&i.trigger(t,e)})},u.prototype._registerDropdownEvents=function(){var i=this;this.dropdown.on("*",function(t,e){i.trigger(t,e)})},u.prototype._registerResultsEvents=function(){var i=this;this.results.on("*",function(t,e){i.trigger(t,e)})},u.prototype._registerEvents=function(){var i=this;this.on("open",function(){i.$container.addClass("select2-container--open")}),this.on("close",function(){i.$container.removeClass("select2-container--open")}),this.on("enable",function(){i.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){i.$container.addClass("select2-container--disabled")}),this.on("focus",function(){i.$container.addClass("select2-container--focus")}),this.on("blur",function(){i.$container.removeClass("select2-container--focus")}),this.on("query",function(e){i.isOpen()||i.trigger("open"),this.dataAdapter.query(e,function(t){i.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){i.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;i.isOpen()?e===n.ENTER?(i.trigger("results:select"),t.preventDefault()):e===n.SPACE&&t.ctrlKey?(i.trigger("results:toggle"),t.preventDefault()):e===n.UP?(i.trigger("results:previous"),t.preventDefault()):e===n.DOWN?(i.trigger("results:next"),t.preventDefault()):(e===n.ESC||e===n.TAB)&&(i.close(),t.preventDefault()):(e===n.ENTER||e===n.SPACE||(e===n.DOWN||e===n.UP)&&t.altKey)&&(i.open(),t.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},u.prototype.trigger=function(t,e){var i=u.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(t in n){var r=n[t],s={prevented:!1,name:t,args:e};if(i.call(this,r,s),s.prevented)return void(e.prevented=!0)}i.call(this,t,e)},u.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},u.prototype.close=function(){this.isOpen()&&this.trigger("close")},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},u.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},u.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var e=t[0];r.isArray(e)&&(e=r.map(e,function(t){return t.toString()})),this.$element.val(e).trigger("change")},u.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},u.prototype.render=function(){var t=r('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},u}),e.define("select2/compat/utils",["jquery"],function(o){function t(t,e,i){var n,r,s=[];n=o.trim(t.attr("class")),n&&(n=""+n,o(n.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)})),n=o.trim(e.attr("class")),n&&(n=""+n,o(n.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(r=i(this),null!=r&&s.push(r))})),t.attr("class",s.join(" "))}return{syncCssClasses:t}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(o,a){function l(){return null}function t(){}return t.prototype.render=function(t){var e=t.call(this),i=this.options.get("containerCssClass")||"";o.isFunction(i)&&(i=i(this.$element));var n=this.options.get("adaptContainerCssClass");if(n=n||l,-1!==i.indexOf(":all:")){i=i.replace(":all","");var r=n;n=function(t){var e=r(t);return null!=e?e+" "+t:t}}var s=this.options.get("containerCss")||{};return o.isFunction(s)&&(s=s(this.$element)),a.syncCssClasses(e,this.$element,n),e.css(s),e.addClass(i),e},t}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(o,a){function l(){return null}function t(){}return t.prototype.render=function(t){var e=t.call(this),i=this.options.get("dropdownCssClass")||"";o.isFunction(i)&&(i=i(this.$element));var n=this.options.get("adaptDropdownCssClass");if(n=n||l,-1!==i.indexOf(":all:")){i=i.replace(":all","");var r=n;n=function(t){var e=r(t);return null!=e?e+" "+t:t}}var s=this.options.get("dropdownCss")||{};return o.isFunction(s)&&(s=s(this.$element)),a.syncCssClasses(e,this.$element,n),e.css(s),e.addClass(i),e},t}),e.define("select2/compat/initSelection",["jquery"],function(n){function t(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,t.call(this,e,i)}return t.prototype.current=function(t,e){var i=this;return this._isInitialized?void t.call(this,e):void this.initSelection.call(null,this.$element,function(t){i._isInitialized=!0,n.isArray(t)||(t=[t]),e(t)})},t}),e.define("select2/compat/inputData",["jquery"],function(o){function t(t,e,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===e.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,i)}return t.prototype.current=function(t,e){function n(t,e){var i=[];return t.selected||-1!==o.inArray(t.id,e)?(t.selected=!0,i.push(t)):t.selected=!1,t.children&&i.push.apply(i,n(t.children,e)),i}for(var i=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r];i.push.apply(i,n(s,this.$element.val().split(this._valueSeparator)))}e(i)},t.prototype.select=function(t,e){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+e.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(t){o.map(t,function(t){t.selected=!1})}),this.$element.val(e.id),this.$element.trigger("change")},t.prototype.unselect=function(t,r){var s=this;r.selected=!1,this.current(function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];r.id!=n.id&&e.push(n.id)}s.$element.val(e.join(s._valueSeparator)),s.$element.trigger("change")})},t.prototype.query=function(t,e,i){for(var n=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r],o=this.matches(e,s);null!==o&&n.push(o)}i({results:n})},t.prototype.addOptions=function(t,e){var i=o.map(e,function(t){return o.data(t[0],"data")});this._currentData.push.apply(this._currentData,i)},t}),e.define("select2/compat/matcher",["jquery"],function(a){function t(o){function t(t,e){var i=a.extend(!0,{},e);if(null==t.term||""===a.trim(t.term))return i;if(e.children){for(var n=e.children.length-1;n>=0;n--){var r=e.children[n],s=o(t.term,r.text,r);s||i.children.splice(n,1)}if(i.children.length>0)return i}return o(t.term,e.text,e)?i:null}return t}return t}),e.define("select2/compat/query",[],function(){function t(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.callback=i;var n=this.options.get("query");n.call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,i){t.call(this,e,i)}return t.prototype.position=function(t,e,i){var n=i.find(".dropdown-wrapper");n.append(e),e.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(n.join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(n.join(" "),function(t){t.stopPropagation()})},t}),e.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(r,t,s,e){if(t("jquery.mousewheel"),null==r.fn.select2){var o=["open","close","destroy"];r.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){{var t=r.extend({},e,!0);new s(r(this),t)}}),this;if("string"==typeof e){var t=this.data("select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var i=Array.prototype.slice.call(arguments,1),n=t[e](i);return r.inArray(e,o)>-1?this:n}throw new Error("Invalid arguments for Select2: "+e)}}return null==r.fn.select2.defaults&&(r.fn.select2.defaults=e),s}),function(t){"function"==typeof e.define&&e.define.amd?e.define("jquery.mousewheel",["jquery"],t):"object"==typeof exports?module.exports=t:t(i)}(function(d){function e(t){var e=t||window.event,i=v.call(arguments,1),n=0,r=0,s=0,o=0,a=0,l=0;if(t=d.event.fix(e),t.type="mousewheel","detail"in e&&(s=-1*e.detail),"wheelDelta"in e&&(s=e.wheelDelta),"wheelDeltaY"in e&&(s=e.wheelDeltaY),"wheelDeltaX"in e&&(r=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(r=-1*s,s=0),n=0===s?r:s,"deltaY"in e&&(s=-1*e.deltaY,n=s),"deltaX"in e&&(r=e.deltaX,0===s&&(n=-1*r)),0!==s||0!==r){if(1===e.deltaMode){var h=d.data(this,"mousewheel-line-height");n*=h,s*=h,r*=h}else if(2===e.deltaMode){var u=d.data(this,"mousewheel-page-height");n*=u,s*=u,r*=u}if(o=Math.max(Math.abs(s),Math.abs(r)),(!m||m>o)&&(m=o,p(e,o)&&(m/=40)),p(e,o)&&(n/=40,r/=40,s/=40),n=Math[n>=1?"floor":"ceil"](n/m),r=Math[r>=1?"floor":"ceil"](r/m),s=Math[s>=1?"floor":"ceil"](s/m),y.settings.normalizeOffset&&this.getBoundingClientRect){var c=this.getBoundingClientRect();a=t.clientX-c.left,l=t.clientY-c.top}return t.deltaX=r,t.deltaY=s,t.deltaFactor=m,t.offsetX=a,t.offsetY=l,t.deltaMode=0,i.unshift(t,n,r,s),g&&clearTimeout(g),g=setTimeout(f,200),(d.event.dispatch||d.event.handle).apply(this,i)}}function f(){m=null}function p(t,e){return y.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var g,m,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(d.event.fixHooks)for(var n=t.length;n;)d.event.fixHooks[t[--n]]=d.event.mouseHooks;var y=d.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e;d.data(this,"mousewheel-line-height",y.getLineHeight(this)),d.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null;d.removeData(this,"mousewheel-line-height"),d.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=d(t),i=e["offsetParent"in d.fn?"offsetParent":"parent"]();return i.length||(i=d("body")),parseInt(i.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return d(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};d.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),{define:e.define,require:e.require}}(),e=t.require("jquery.select2");return i.fn.select2.amd=t,e});!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function($){"use strict";var func=function(){var t=function(e){return function(t){return e===t}},e=function(t,e){return t===e},i=function(i){return function(t,e){return t[i]===e[i]}},n=function(){return!0},r=function(){return!1},s=function(t){return function(){return!t.apply(t,arguments)}},o=function(e,i){return function(t){return e(t)&&i(t)}},a=function(t){return t},l=function(t,e){return function(){return t[e].apply(t,arguments)}},h=0,u=function(t){var e=++h+"";return t?t+e:e},c=function(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},d=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e},f=function(t,e){return e=e||"",e+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")},p=function(r,s,o){var a;return function(){var t=this,e=arguments,i=function(){a=null,o||r.apply(t,e)},n=o&&!a;clearTimeout(a),a=setTimeout(i,s),n&&r.apply(t,e)}};return{eq:t,eq2:e,peq2:i,ok:n,fail:r,self:a,not:s,and:o,invoke:l,uniqueId:u,rect2bnd:c,invertObject:d,namespaceToCamel:f,debounce:p}}(),list=function(){var i=function(t){return t[0]},r=function(t){return t[t.length-1]},t=function(t){return t.slice(0,t.length-1)},s=function(t){return t.slice(1)},e=function(t,e){for(var i=0,n=t.length;n>i;i++){var r=t[i];if(e(r))return r}},n=function(t,e){for(var i=0,n=t.length;n>i;i++)if(!e(t[i]))return!1;return!0},o=function(t,e){return $.inArray(e,t)},a=function(t,e){return-1!==o(t,e)},l=function(t,i){return i=i||func.self,t.reduce(function(t,e){return t+i(e)},0)},h=function(t){for(var e=[],i=-1,n=t.length;++i<n;)e[i]=t[i];return e},u=function(t){return!t||!t.length},c=function(t,n){if(!t.length)return[];var e=s(t);return e.reduce(function(t,e){var i=r(t);return n(r(i),e)?i[i.length]=e:t[t.length]=[e],t},[[i(t)]])},d=function(t){for(var e=[],i=0,n=t.length;n>i;i++)t[i]&&e.push(t[i]);return e},f=function(t){for(var e=[],i=0,n=t.length;n>i;i++)a(e,t[i])||e.push(t[i]);return e},p=function(t,e){var i=o(t,e);return-1===i?null:t[i+1]},g=function(t,e){var i=o(t,e);return-1===i?null:t[i-1]};return{head:i,last:r,initial:t,tail:s,prev:g,next:p,find:e,contains:a,all:n,sum:l,from:h,isEmpty:u,clusterBy:c,compact:d,unique:f}}(),isSupportAmd="function"==typeof define&&define.amd,isFontInstalled=function(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",i=$("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),n=i.css("fontFamily",e).width(),r=i.css("fontFamily",t+","+e).width();return i.remove(),n!==r},userAgent=navigator.userAgent,isMSIE=/MSIE|Trident/i.test(userAgent),browserVersion;if(isMSIE){var matches=/MSIE (\d+[.]\d+)/.exec(userAgent);matches&&(browserVersion=parseFloat(matches[1])),matches=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(userAgent),matches&&(browserVersion=parseFloat(matches[1]))}var isEdge=/Edge\/\d+/.test(userAgent),hasCodeMirror=!!window.CodeMirror;if(!hasCodeMirror&&isSupportAmd&&"undefined"!=typeof require)if("undefined"!=typeof require.resolve)try{require.resolve("codemirror"),hasCodeMirror=!0}catch(e){}else"undefined"!=typeof eval("require").specified&&(hasCodeMirror=eval("require").specified("codemirror"));var agent={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:isMSIE,isEdge:isEdge,isFF:!isEdge&&/firefox/i.test(userAgent),isPhantom:/PhantomJS/i.test(userAgent),isWebkit:!isEdge&&/webkit/i.test(userAgent),isChrome:!isEdge&&/chrome/i.test(userAgent),isSafari:!isEdge&&/safari/i.test(userAgent),browserVersion:browserVersion,jqueryVersion:parseFloat($.fn.jquery),isSupportAmd:isSupportAmd,hasCodeMirror:hasCodeMirror,isFontInstalled:isFontInstalled,isW3CRangeSupport:!!document.createRange},NBSP_CHAR=String.fromCharCode(160),ZERO_WIDTH_NBSP_CHAR="\ufeff",dom=function(){var r=function(t){return t&&$(t).hasClass("note-editable")},t=function(t){return t&&$(t).hasClass("note-control-sizing")},e=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},o=function(t){return t&&3===t.nodeType},i=function(t){return t&&1===t.nodeType},n=function(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(t.nodeName.toUpperCase())},l=function(t){return r(t)?!1:t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase())},s=function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},a=e("PRE"),h=e("LI"),u=function(t){return l(t)&&!h(t)},c=e("TABLE"),d=e("DATA"),f=function(t){return!(y(t)||p(t)||g(t)||l(t)||c(t)||v(t)||d(t))},p=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},g=e("HR"),m=function(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())},v=e("BLOCKQUOTE"),y=function(t){return m(t)||v(t)||r(t)},b=e("A"),w=function(t){return f(t)&&!!P(t,l)},x=function(t){return f(t)&&!P(t,l)},_=e("BODY"),C=function(t,e){return t.nextSibling===e||t.previousSibling===e},k=function(t,e){e=e||func.ok;var i=[];return t.previousSibling&&e(t.previousSibling)&&i.push(t.previousSibling),i.push(t),t.nextSibling&&e(t.nextSibling)&&i.push(t.nextSibling),i},S=agent.isMSIE&&agent.browserVersion<11?"&nbsp;":"<br>",T=function(t){return o(t)?t.nodeValue.length:t?t.childNodes.length:0},D=function(t){var e=T(t);return 0===e?!0:o(t)||1!==e||t.innerHTML!==S?list.all(t.childNodes,o)&&""===t.innerHTML?!0:!1:!0},M=function(t){n(t)||T(t)||(t.innerHTML=S)},P=function(t,e){for(;t;){if(e(t))return t;if(r(t))break;t=t.parentNode}return null},E=function(t,e){for(t=t.parentNode;t&&1===T(t);){if(e(t))return t;if(r(t))break;t=t.parentNode}return null},I=function(t,e){e=e||func.fail;var i=[];return P(t,function(t){return r(t)||i.push(t),e(t)}),i},A=function(t,e){var i=I(t);return list.last(i.filter(e))},H=function(t,e){for(var i=I(t),n=e;n;n=n.parentNode)if($.inArray(n,i)>-1)return n;return null},R=function(t,e){e=e||func.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.previousSibling;return i},L=function(t,e){e=e||func.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.nextSibling;return i},F=function(r,s){var o=[];return s=s||func.ok,function t(e){r!==e&&s(e)&&o.push(e);for(var i=0,n=e.childNodes.length;n>i;i++)t(e.childNodes[i])}(r),o},z=function(t,e){var i=t.parentNode,n=$("<"+e+">")[0];return i.insertBefore(n,t),n.appendChild(t),n},N=function(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t},O=function(i,t){return $.each(t,function(t,e){i.appendChild(e)}),i},B=function(t){return 0===t.offset},W=function(t){return t.offset===T(t.node)},j=function(t){return B(t)||W(t)},q=function(t,e){for(;t&&t!==e;){if(0!==G(t))return!1;t=t.parentNode}return!0},Y=function(t,e){if(!e)return!1;for(;t&&t!==e;){if(G(t)!==T(t.parentNode)-1)return!1;t=t.parentNode}return!0},U=function(t,e){return B(t)&&q(t.node,e)},V=function(t,e){return W(t)&&Y(t.node,e)},G=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},X=function(t){return!!(t&&t.childNodes&&t.childNodes.length)},K=function(t,e){var i,n;if(0===t.offset){if(r(t.node))return null;i=t.node.parentNode,n=G(t.node)}else X(t.node)?(i=t.node.childNodes[t.offset-1],n=T(i)):(i=t.node,n=e?0:t.offset-1);return{node:i,offset:n}},Q=function(t,e){var i,n;if(T(t.node)===t.offset){if(r(t.node))return null;i=t.node.parentNode,n=G(t.node)+1}else X(t.node)?(i=t.node.childNodes[t.offset],n=0):(i=t.node,n=e?T(t.node):t.offset+1);return{node:i,offset:n}},Z=function(t,e){return t.node===e.node&&t.offset===e.offset},J=function(t){if(o(t.node)||!X(t.node)||D(t.node))return!0;var e=t.node.childNodes[t.offset-1],i=t.node.childNodes[t.offset];return e&&!n(e)||i&&!n(i)?!1:!0},tt=function(t,e){for(;t;){if(e(t))return t;t=K(t)}return null},et=function(t,e){for(;t;){if(e(t))return t;t=Q(t)}return null},it=function(t){if(!o(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==NBSP_CHAR},nt=function(t,e,i,n){for(var r=t;r&&(i(r),!Z(r,e));){var s=n&&t.node!==r.node&&e.node!==r.node;r=Q(r,s)}},rt=function(t,e){var i=I(e,func.eq(t));return i.map(G).reverse()},st=function(t,e){for(var i=t,n=0,r=e.length;r>n;n++)i=i.childNodes.length<=e[n]?i.childNodes[i.childNodes.length-1]:i.childNodes[e[n]];return i},ot=function(t,e){var i=e&&e.isSkipPaddingBlankHTML,n=e&&e.isNotSplitEdgePoint;if(j(t)&&(o(t.node)||n)){if(B(t))return t.node;if(W(t))return t.node.nextSibling}if(o(t.node))return t.node.splitText(t.offset);var r=t.node.childNodes[t.offset],s=N(t.node.cloneNode(!1),t.node);return O(s,L(r)),i||(M(t.node),M(s)),s},at=function(t,i,n){var e=I(i.node,func.eq(t));return e.length?1===e.length?ot(i,n):e.reduce(function(t,e){return t===i.node&&(t=ot(i,n)),ot({node:e,offset:t?dom.position(t):T(e)},n)}):null},lt=function(t,e){var i,n,r=e?l:y,s=I(t.node,r),o=list.last(s)||t.node;r(o)?(i=s[s.length-2],n=o):(i=o,n=i.parentNode);var a=i&&at(i,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return a||n!==t.node||(a=t.node.childNodes[t.offset]),{rightNode:a,container:n}},ht=function(t){return document.createElement(t)},ut=function(t){return document.createTextNode(t)},ct=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var i=t.parentNode;if(!e){var n,r,s=[];for(n=0,r=t.childNodes.length;r>n;n++)s.push(t.childNodes[n]);for(n=0,r=s.length;r>n;n++)i.insertBefore(s[n],t)}i.removeChild(t)}},dt=function(t,e){for(;t&&!r(t)&&e(t);){var i=t.parentNode;ct(t),t=i}},ft=function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var i=ht(e);return t.style.cssText&&(i.style.cssText=t.style.cssText),O(i,list.from(t.childNodes)),N(i,t),ct(t),i},pt=e("TEXTAREA"),gt=function(t,e){var i=pt(t[0])?t.val():t.html();return e?i.replace(/[\n\r]/g,""):i},mt=function(t,e){var i=gt(t);if(e){var n=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(n,function(t,e,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!e,r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return t+(n||r?"\n":"")}),i=$.trim(i)}return i},vt=function(t){var e=$(t),i=e.offset(),n=e.outerHeight(!0);return{left:i.left,top:i.top+n}},yt=function(e,i){Object.keys(i).forEach(function(t){e.on(t,i[t])})},bt=function(e,i){Object.keys(i).forEach(function(t){e.off(t,i[t])})};return{NBSP_CHAR:NBSP_CHAR,ZERO_WIDTH_NBSP_CHAR:ZERO_WIDTH_NBSP_CHAR,blank:S,emptyPara:"<p>"+S+"</p>",makePredByNodeName:e,isEditable:r,isControlSizing:t,isText:o,isElement:i,isVoid:n,isPara:l,isPurePara:u,isHeading:s,isInline:f,isBlock:func.not(f),isBodyInline:x,isBody:_,isParaInline:w,isPre:a,isList:p,isTable:c,isData:d,isCell:m,isBlockquote:v,isBodyContainer:y,isAnchor:b,isDiv:e("DIV"),isLi:h,isBR:e("BR"),isSpan:e("SPAN"),isB:e("B"),isU:e("U"),isS:e("S"),isI:e("I"),isImg:e("IMG"),isTextarea:pt,isEmpty:D,isEmptyAnchor:func.and(b,D),isClosestSibling:C,withClosestSiblings:k,nodeLength:T,isLeftEdgePoint:B,isRightEdgePoint:W,isEdgePoint:j,isLeftEdgeOf:q,isRightEdgeOf:Y,isLeftEdgePointOf:U,isRightEdgePointOf:V,prevPoint:K,nextPoint:Q,isSamePoint:Z,isVisiblePoint:J,prevPointUntil:tt,nextPointUntil:et,isCharPoint:it,walkPoint:nt,ancestor:P,singleChildAncestor:E,listAncestor:I,lastAncestor:A,listNext:L,listPrev:R,listDescendant:F,commonAncestor:H,wrap:z,insertAfter:N,appendChildNodes:O,position:G,hasChildren:X,makeOffsetPath:rt,fromOffsetPath:st,splitTree:at,splitPoint:lt,create:ht,createText:ut,remove:ct,removeWhile:dt,replace:ft,html:mt,value:gt,posFromPlaceholder:vt,attachEvents:yt,detachEvents:bt}}(),Context=function(n,t){var r=this,e=$.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize=function(){return this.layoutInfo=e.createLayout(n,t),this._initialize(),n.hide(),this},this.destroy=function(){this._destroy(),n.removeData("summernote"),e.removeLayout(n,this.layoutInfo)},this.reset=function(){var t=r.isDisabled();this.code(dom.emptyPara),this._destroy(),this._initialize(),t&&r.disable()},this._initialize=function(){var e=$.extend({},this.options.buttons);Object.keys(e).forEach(function(t){r.memo("button."+t,e[t])});var i=$.extend({},this.options.modules,$.summernote.plugins||{});Object.keys(i).forEach(function(t){r.module(t,i[t],!0)}),Object.keys(this.modules).forEach(function(t){r.initializeModule(t)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(t){r.removeModule(t)}),Object.keys(this.memos).forEach(function(t){r.removeMemo(t)})},this.code=function(t){var e=this.invoke("codeview.isActivated");return void 0===t?(this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(e?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),n.val(t),this.triggerEvent("change",t),void 0)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var t=list.head(arguments),e=list.tail(list.from(arguments)),i=this.options.callbacks[func.namespaceToCamel(t,"on")];i&&i.apply(n[0],e),n.trigger("summernote."+t,e)},this.initializeModule=function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||func.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&dom.attachEvents(n,e.events))},this.module=function(t,e,i){return 1===arguments.length?this.modules[t]:(this.modules[t]=new e(this),void(i||this.initializeModule(t)))},this.removeModule=function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&dom.detachEvents(n,e.events),e.destroy&&e.destroy()),delete this.modules[t]},this.memo=function(t,e){return 1===arguments.length?this.memos[t]:void(this.memos[t]=e)},this.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},this.createInvokeHandler=function(e,i){return function(t){t.preventDefault(),r.invoke(e,i||$(t.target).closest("[data-value]").data("value"))}},this.invoke=function(){var t=list.head(arguments),e=list.tail(list.from(arguments)),i=t.split("."),n=i.length>1,r=n&&list.head(i),s=n?list.last(i):list.head(i),o=this.modules[r||"editor"];return!r&&this[s]?this[s].apply(this,e):o&&o[s]&&o.shouldInitialize()?o[s].apply(o,e):void 0},this.initialize()};$.fn.extend({summernote:function(){var t=$.type(list.head(arguments)),e="string"===t,i="object"===t,r=i?list.head(arguments):{};r=$.extend({},$.summernote.options,r),r.langInfo=$.extend(!0,{},$.summernote.lang["en-US"],$.summernote.lang[r.lang]),r.icons=$.extend(!0,{},$.summernote.options.icons,r.icons),this.each(function(t,e){var i=$(e);if(!i.data("summernote")){var n=new Context(i,r);i.data("summernote",n),i.data("summernote").triggerEvent("init",n.layoutInfo)}});var n=this.first();if(n.length){var s=n.data("summernote");if(e)return s.invoke.apply(s,list.from(arguments));r.focus&&s.invoke("editor.focus")}return this}});var Renderer=function(n,r,s,o){this.render=function(t){var i=$(n);if(s&&s.contents&&i.html(s.contents),s&&s.className&&i.addClass(s.className),s&&s.data&&$.each(s.data,function(t,e){i.attr("data-"+t,e)}),s&&s.click&&i.on("click",s.click),r){var e=i.find(".note-children-container");r.forEach(function(t){t.render(e.length?e:i)})}return o&&o(i,s),s&&s.callback&&s.callback(i),t&&t.append(i),i}},renderer={create:function(i,n){return function(){var t=$.isArray(arguments[0])?arguments[0]:[],e="object"==typeof arguments[1]?arguments[1]:arguments[0];return e&&e.children&&(t=e.children),new Renderer(i,t,e,n)}}},editor=renderer.create('<div class="note-editor note-frame panel panel-default"/>'),toolbar=renderer.create('<div class="note-toolbar panel-heading"/>'),editingArea=renderer.create('<div class="note-editing-area"/>'),codable=renderer.create('<textarea class="note-codable"/>'),editable=renderer.create('<div class="note-editable panel-body" contentEditable="true"/>'),statusbar=renderer.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),airEditor=renderer.create('<div class="note-editor"/>'),airEditable=renderer.create('<div class="note-editable" contentEditable="true"/>'),buttonGroup=renderer.create('<div class="note-btn-group btn-group">'),button=renderer.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dropdown=renderer.create('<div class="dropdown-menu">',function(t,n){var e=$.isArray(n.items)?n.items.map(function(t){var e="string"==typeof t?t:t.value||"",i=n.template?n.template(t):t;return'<li><a href="#" data-value="'+e+'">'+i+"</a></li>"}).join(""):n.items;t.html(e)}),dropdownCheck=renderer.create('<div class="dropdown-menu note-check">',function(t,n){var e=$.isArray(n.items)?n.items.map(function(t){var e="string"==typeof t?t:t.value||"",i=n.template?n.template(t):t;return'<li><a href="#" data-value="'+e+'">'+icon(n.checkClassName)+" "+i+"</a></li>"}).join(""):n.items;t.html(e)}),palette=renderer.create('<div class="note-color-palette"/>',function(t,e){for(var i=[],n=0,r=e.colors.length;r>n;n++){for(var s=e.eventName,o=e.colors[n],a=[],l=0,h=o.length;h>l;l++){var u=o[l];a.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',s,'" ','data-value="',u,'" ','title="',u,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+a.join("")+"</div>")}t.html(i.join("")),t.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dialog=renderer.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(t,e){e.fade&&t.addClass("fade"),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),popover=renderer.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var i="undefined"!=typeof e.direction?e.direction:"bottom";t.addClass(i),e.hideArrow&&t.find(".arrow").hide()}),icon=function(t,e){return e=e||"i","<"+e+' class="'+t+'"/>'},ui={editor:editor,toolbar:toolbar,editingArea:editingArea,codable:codable,editable:editable,statusbar:statusbar,airEditor:airEditor,airEditable:airEditable,buttonGroup:buttonGroup,button:button,dropdown:dropdown,dropdownCheck:dropdownCheck,palette:palette,dialog:dialog,popover:popover,icon:icon,toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var i=(e.airMode?ui.airEditor([ui.editingArea([ui.airEditable()])]):ui.editor([ui.toolbar(),ui.editingArea([ui.codable(),ui.editable()]),ui.statusbar()])).render();return i.insertAfter(t),{note:t,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}};$.summernote=$.summernote||{lang:{}},$.extend($.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var key=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return list.contains([e.BACKSPACE,e.TAB,e.ENTER,e.SPACE],t)},isMove:function(t){return list.contains([e.LEFT,e.UP,e.RIGHT,e.DOWN],t)},nameFromCode:func.invertObject(e),code:e}}(),range=function(){var c=function(t,e){var i,n,r=t.parentElement(),s=document.body.createTextRange(),o=list.from(r.childNodes);for(i=0;i<o.length;i++)if(!dom.isText(o[i])){if(s.moveToElementText(o[i]),s.compareEndPoints("StartToStart",t)>=0)break;n=o[i]}if(0!==i&&dom.isText(o[i-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(n||r),a.collapse(!n),l=n?n.nextSibling:r.firstChild;var h=t.duplicate();h.setEndPoint("StartToStart",a);for(var u=h.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&dom.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),r=l,i=u}return{cont:r,offset:i}},n=function(t){var o=function(t,e){var i,n;if(dom.isText(t)){var r=dom.listPrev(t,func.not(dom.isText)),s=list.last(r).previousSibling;i=s||t.parentNode,e+=list.sum(list.tail(r),dom.nodeLength),n=!s}else{if(i=t.childNodes[e]||t,dom.isText(i))return o(i,0);e=0,n=!1}return{node:i,collapseToStart:n,offset:e}},e=document.body.createTextRange(),i=o(t.node,t.offset);return e.moveToElementText(i.node),e.collapse(i.collapseToStart),e.moveStart("character",i.offset),e},d=function(s,r,o,a){this.sc=s,this.so=r,this.ec=o,this.eo=a;var i=function(){if(agent.isW3CRangeSupport){var t=document.createRange();return t.setStart(s,r),t.setEnd(o,a),t}var e=n({node:s,offset:r});return e.setEndPoint("EndToEnd",n({node:o,offset:a})),e};this.getPoints=function(){return{sc:s,so:r,ec:o,eo:a}},this.getStartPoint=function(){return{node:s,offset:r}},this.getEndPoint=function(){return{node:o,offset:a}},this.select=function(){var t=i();if(agent.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},this.scrollIntoView=function(t){var e=$(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this},this.normalize=function(){var t=function(t,e){if(dom.isVisiblePoint(t)&&!dom.isEdgePoint(t)||dom.isVisiblePoint(t)&&dom.isRightEdgePoint(t)&&!e||dom.isVisiblePoint(t)&&dom.isLeftEdgePoint(t)&&e||dom.isVisiblePoint(t)&&dom.isBlock(t.node)&&dom.isEmpty(t.node))return t;var i=dom.ancestor(t.node,dom.isBlock);if((dom.isLeftEdgePointOf(t,i)||dom.isVoid(dom.prevPoint(t).node))&&!e||(dom.isRightEdgePointOf(t,i)||dom.isVoid(dom.nextPoint(t).node))&&e){if(dom.isVisiblePoint(t))return t;e=!e}var n=e?dom.nextPointUntil(dom.nextPoint(t),dom.isVisiblePoint):dom.prevPointUntil(dom.prevPoint(t),dom.isVisiblePoint);return n||t},e=t(this.getEndPoint(),!1),i=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new d(i.node,i.offset,e.node,e.offset)},this.nodes=function(i,t){i=i||func.ok;var n=t&&t.includeAncestor,r=t&&t.fullyContains,e=this.getStartPoint(),s=this.getEndPoint(),o=[],a=[];return dom.walkPoint(e,s,function(t){if(!dom.isEditable(t.node)){var e;r?(dom.isLeftEdgePoint(t)&&a.push(t.node),dom.isRightEdgePoint(t)&&list.contains(a,t.node)&&(e=t.node)):e=n?dom.ancestor(t.node,i):t.node,e&&i(e)&&o.push(e)}},!0),list.unique(o)},this.commonAncestor=function(){return dom.commonAncestor(s,o)},this.expand=function(t){var e=dom.ancestor(s,t),i=dom.ancestor(o,t);if(!e&&!i)return new d(s,r,o,a);var n=this.getPoints();return e&&(n.sc=e,n.so=0),i&&(n.ec=i,n.eo=dom.nodeLength(i)),new d(n.sc,n.so,n.ec,n.eo)},this.collapse=function(t){return t?new d(s,r,s,r):new d(o,a,o,a)},this.splitText=function(){var t=s===o,e=this.getPoints();return dom.isText(o)&&!dom.isEdgePoint(this.getEndPoint())&&o.splitText(a),dom.isText(s)&&!dom.isEdgePoint(this.getStartPoint())&&(e.sc=s.splitText(r),e.so=0,t&&(e.ec=e.sc,e.eo=a-r)),new d(e.sc,e.so,e.ec,e.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),e=t.nodes(null,{fullyContains:!0}),n=dom.prevPointUntil(t.getStartPoint(),function(t){return!list.contains(e,t.node)}),r=[];return $.each(e,function(t,e){var i=e.parentNode;n.node!==i&&1===dom.nodeLength(i)&&r.push(i),dom.remove(e,!1)}),$.each(r,function(t,e){dom.remove(e,!1)}),new d(n.node,n.offset,n.node,n.offset).normalize()};var t=function(e){return function(){var t=dom.ancestor(s,e);return!!t&&t===dom.ancestor(o,e)}};this.isOnEditable=t(dom.isEditable),this.isOnList=t(dom.isList),this.isOnAnchor=t(dom.isAnchor),this.isOnCell=t(dom.isCell),this.isOnData=t(dom.isData),this.isLeftEdgeOf=function(t){if(!dom.isLeftEdgePoint(this.getStartPoint()))return!1;var e=dom.ancestor(this.sc,t);return e&&dom.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return s===o&&r===a},this.wrapBodyInlineWithPara=function(){if(dom.isBodyContainer(s)&&dom.isEmpty(s))return s.innerHTML=dom.emptyPara,new d(s.firstChild,0,s.firstChild,0);var t=this.normalize();if(dom.isParaInline(s)||dom.isPara(s))return t;var e;if(dom.isInline(t.sc)){var i=dom.listAncestor(t.sc,func.not(dom.isInline));e=list.last(i),dom.isInline(e)||(e=i[i.length-2]||t.sc.childNodes[t.so])}else e=t.sc.childNodes[t.so>0?t.so-1:0];var n=dom.listPrev(e,dom.isParaInline).reverse();if(n=n.concat(dom.listNext(e.nextSibling,dom.isParaInline)),n.length){var r=dom.wrap(list.head(n),"p");dom.appendChildNodes(r,list.tail(n))}return this.normalize()},this.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),i=dom.splitPoint(e.getStartPoint(),dom.isInline(t));return i.rightNode?i.rightNode.parentNode.insertBefore(t,i.rightNode):i.container.appendChild(t),t},this.pasteHTML=function(t){var e=$("<div></div>").html(t)[0],i=list.from(e.childNodes),n=this.wrapBodyInlineWithPara().deleteContents();return i.reverse().map(function(t){return n.insertNode(t)}).reverse()},this.toString=function(){var t=i();return agent.isW3CRangeSupport?t.toString():t.text},this.getWordRange=function(t){var e=this.getEndPoint();if(!dom.isCharPoint(e))return this;var i=dom.prevPointUntil(e,function(t){return!dom.isCharPoint(t)});return t&&(e=dom.nextPointUntil(e,function(t){return!dom.isCharPoint(t)})),new d(i.node,i.offset,e.node,e.offset)},this.bookmark=function(t){return{s:{path:dom.makeOffsetPath(t,s),offset:r},e:{path:dom.makeOffsetPath(t,o),offset:a}}},this.paraBookmark=function(t){return{s:{path:list.tail(dom.makeOffsetPath(list.head(t),s)),offset:r},e:{path:list.tail(dom.makeOffsetPath(list.last(t),o)),offset:a}}},this.getClientRects=function(){var t=i();return t.getClientRects()}};return{create:function(t,e,i,n){if(4===arguments.length)return new d(t,e,i,n);if(2===arguments.length)return i=t,n=e,new d(t,e,i,n);var r=this.createFromSelection();return r||1!==arguments.length?r:(r=this.createFromNode(arguments[0]),r.collapse(dom.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var t,e,i,n;if(agent.isW3CRangeSupport){var r=document.getSelection();if(!r||0===r.rangeCount)return null;if(dom.isBody(r.anchorNode))return null;var s=r.getRangeAt(0);t=s.startContainer,e=s.startOffset,i=s.endContainer,n=s.endOffset}else{var o=document.selection.createRange(),a=o.duplicate();a.collapse(!1);var l=o;l.collapse(!0);var h=c(l,!0),u=c(a,!1);dom.isText(h.node)&&dom.isLeftEdgePoint(h)&&dom.isTextNode(u.node)&&dom.isRightEdgePoint(u)&&u.node.nextSibling===h.node&&(h=u),t=h.cont,e=h.offset,i=u.cont,n=u.offset}return new d(t,e,i,n)},createFromNode:function(t){var e=t,i=0,n=t,r=dom.nodeLength(n);return dom.isVoid(e)&&(i=dom.listPrev(e).length-1,e=e.parentNode),dom.isBR(n)?(r=dom.listPrev(n).length-1,n=n.parentNode):dom.isVoid(n)&&(r=dom.listPrev(n).length,n=n.parentNode),this.create(e,i,n,r)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var i=dom.fromOffsetPath(t,e.s.path),n=e.s.offset,r=dom.fromOffsetPath(t,e.e.path),s=e.e.offset;return new d(i,n,r,s)},createFromParaBookmark:function(t,e){var i=t.s.offset,n=t.e.offset,r=dom.fromOffsetPath(list.head(e),t.s.path),s=dom.fromOffsetPath(list.last(e),t.e.path);return new d(r,i,s,n)}}}(),async=function(){var t=function(t){return $.Deferred(function(i){$.extend(new FileReader,{onload:function(t){var e=t.target.result;i.resolve(e)},onerror:function(){i.reject(this)}}).readAsDataURL(t)}).promise()},e=function(i){return $.Deferred(function(t){var e=$("<img>");e.one("load",function(){e.off("error abort"),t.resolve(e)}).one("error abort",function(){e.off("load").detach(),t.reject(e)}).css({display:"none"}).appendTo(document.body).attr("src",i)}).promise()};return{readFileAsDataURL:t,createImage:e}}(),History=function(i){var t=[],e=-1,n=i[0],r=function(){var t=range.create(n),e={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:i.html(),bookmark:t?t.bookmark(n):e}},s=function(t){null!==t.contents&&i.html(t.contents),null!==t.bookmark&&range.createFromBookmark(n,t.bookmark).select()};this.rewind=function(){i.html()!==t[e].contents&&this.recordUndo(),e=0,s(t[e])},this.reset=function(){t=[],e=-1,i.html(""),this.recordUndo()},this.undo=function(){i.html()!==t[e].contents&&this.recordUndo(),e>0&&(e--,s(t[e]))},this.redo=function(){t.length-1>e&&(e++,s(t[e]))},this.recordUndo=function(){e++,t.length>e&&(t=t.slice(0,e)),t.push(r())}},Style=function(){var n=function(i,t){if(agent.jqueryVersion<1.9){var n={};return $.each(t,function(t,e){n[e]=i.css(e)}),n}return i.css.call(i,t)};this.fromNode=function(t){var e=["font-family","font-size","text-align","list-style-type","line-height"],i=n(t,e)||{};return i["font-size"]=parseInt(i["font-size"],10),i},this.stylePara=function(t,i){$.each(t.nodes(dom.isPara,{includeAncestor:!0}),function(t,e){$(e).css(i)})},this.styleNodes=function(t,e){t=t.splitText();var i=e&&e.nodeName||"SPAN",n=!(!e||!e.expandClosestSibling),r=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(dom.create(i))];var s=dom.makePredByNodeName(i),o=t.nodes(dom.isText,{fullyContains:!0}).map(function(t){return dom.singleChildAncestor(t,s)||dom.wrap(t,i)});if(n){if(r){var a=t.nodes();s=func.and(s,function(t){return list.contains(a,t)})}return o.map(function(t){var e=dom.withClosestSiblings(t,s),i=list.head(e),n=list.tail(e);return $.each(n,function(t,e){dom.appendChildNodes(i,e.childNodes),dom.remove(e)}),list.head(e)})}return o},this.current=function(t){var e=$(dom.isElement(t.sc)?t.sc:t.sc.parentNode),i=this.fromNode(e);try{i=$.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(t){}if(t.isOnList()){var n=["circle","disc","disc-leading-zero","square"],r=$.inArray(i["list-style-type"],n)>-1;i["list-style"]=r?"unordered":"ordered"}else i["list-style"]="none";var s=dom.ancestor(t.sc,dom.isPara);if(s&&s.style["line-height"])i["line-height"]=s.style.lineHeight;else{var o=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=o.toFixed(1)}return i.anchor=t.isOnAnchor()&&dom.ancestor(t.sc,dom.isAnchor),i.ancestors=dom.listAncestor(t.sc,dom.isEditable),i.range=t,i}},Bullet=function(){var l=this;this.insertOrderedList=function(t){this.toggleList("OL",t)},this.insertUnorderedList=function(t){this.toggleList("UL",t)},this.indent=function(t){var n=this,e=range.create(t).wrapBodyInlineWithPara(),i=e.nodes(dom.isPara,{includeAncestor:!0}),r=list.clusterBy(i,func.peq2("parentNode"));$.each(r,function(t,e){var i=list.head(e);dom.isLi(i)?n.wrapList(e,i.parentNode.nodeName):$.each(e,function(t,e){$(e).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),e.select()},this.outdent=function(t){var n=this,e=range.create(t).wrapBodyInlineWithPara(),i=e.nodes(dom.isPara,{includeAncestor:!0}),r=list.clusterBy(i,func.peq2("parentNode"));$.each(r,function(t,e){var i=list.head(e);dom.isLi(i)?n.releaseList([e]):$.each(e,function(t,e){$(e).css("marginLeft",function(t,e){return e=parseInt(e,10)||0,e>25?e-25:""})})}),e.select()},this.toggleList=function(i,t){var e=range.create(t).wrapBodyInlineWithPara(),n=e.nodes(dom.isPara,{includeAncestor:!0}),r=e.paraBookmark(n),s=list.clusterBy(n,func.peq2("parentNode"));if(list.find(n,dom.isPurePara)){var o=[];$.each(s,function(t,e){o=o.concat(l.wrapList(e,i))}),n=o}else{var a=e.nodes(dom.isList,{includeAncestor:!0}).filter(function(t){return!$.nodeName(t,i)});a.length?$.each(a,function(t,e){dom.replace(e,i)}):n=this.releaseList(s,!0)}range.createFromParaBookmark(r,n).select()},this.wrapList=function(t,e){var i=list.head(t),n=list.last(t),r=dom.isList(i.previousSibling)&&i.previousSibling,s=dom.isList(n.nextSibling)&&n.nextSibling,o=r||dom.insertAfter(dom.create(e||"UL"),n);return t=t.map(function(t){return dom.isPurePara(t)?dom.replace(t,"LI"):t}),dom.appendChildNodes(o,t),s&&(dom.appendChildNodes(o,list.from(s.childNodes)),dom.remove(s)),t},this.releaseList=function(t,l){var h=[];return $.each(t,function(t,e){var i=list.head(e),n=list.last(e),r=l?dom.lastAncestor(i,dom.isList):i.parentNode,s=r.childNodes.length>1?dom.splitTree(r,{node:n.parentNode,offset:dom.position(n)+1},{isSkipPaddingBlankHTML:!0}):null,o=dom.splitTree(r,{node:i.parentNode,offset:dom.position(i)},{isSkipPaddingBlankHTML:!0});e=l?dom.listDescendant(o,dom.isLi):list.from(o.childNodes).filter(dom.isLi),(l||!dom.isList(r.parentNode))&&(e=e.map(function(t){return dom.replace(t,"P")})),$.each(list.from(e).reverse(),function(t,e){dom.insertAfter(e,r)});var a=list.compact([r,o,s]);$.each(a,function(t,e){var i=[e].concat(dom.listDescendant(e,dom.isList));$.each(i.reverse(),function(t,e){dom.nodeLength(e)||dom.remove(e,!0)})}),h=h.concat(e)}),h}},Typing=function(){var o=new Bullet;this.insertTab=function(t,e){var i=dom.createText(new Array(e+1).join(dom.NBSP_CHAR));t=t.deleteContents(),t.insertNode(i,!0),t=range.create(i,e),t.select()},this.insertParagraph=function(t){var e=range.create(t);e=e.deleteContents(),e=e.wrapBodyInlineWithPara();var i,n=dom.ancestor(e.sc,dom.isPara);if(n){if(dom.isEmpty(n)&&dom.isLi(n))return void o.toggleList(n.parentNode.nodeName);if(dom.isEmpty(n)&&dom.isPara(n)&&dom.isBlockquote(n.parentNode))dom.insertAfter(n,n.parentNode),i=n;else{i=dom.splitTree(n,e.getStartPoint());var r=dom.listDescendant(n,dom.isEmptyAnchor);r=r.concat(dom.listDescendant(i,dom.isEmptyAnchor)),$.each(r,function(t,e){dom.remove(e)}),(dom.isHeading(i)||dom.isPre(i))&&dom.isEmpty(i)&&(i=dom.replace(i,"p"))}}else{var s=e.sc.childNodes[e.so];i=$(dom.emptyPara)[0],s?e.sc.insertBefore(i,s):e.sc.appendChild(i)}range.create(i,0).normalize().select().scrollIntoView(t)}},Table=function(){this.tab=function(t,e){var i=dom.ancestor(t.commonAncestor(),dom.isCell),n=dom.ancestor(i,dom.isTable),r=dom.listDescendant(n,dom.isCell),s=list[e?"prev":"next"](r,i);s&&range.create(s,0).select()},this.createTable=function(t,e,i){for(var n,r=[],s=0;t>s;s++)r.push("<td>"+dom.blank+"</td>");n=r.join("");for(var o,a=[],l=0;e>l;l++)a.push("<tr>"+n+"</tr>");o=a.join("");var h=$("<table>"+o+"</table>");return i&&i.tableClassName&&h.addClass(i.tableClassName),h[0]}},KEY_BOGUS="bogus",Editor=function(s){var n=this,e=s.layoutInfo.note,i=s.layoutInfo.editor,r=s.layoutInfo.editable,d=s.options,o=d.langInfo,a=r[0],l=null,f=new Style,h=new Table,u=new Typing,t=new Bullet,c=new History(r);this.initialize=function(){r.on("keydown",function(t){t.keyCode===key.code.ENTER&&s.triggerEvent("enter",t),s.triggerEvent("keydown",t),t.isDefaultPrevented()||(d.shortcuts?n.handleKeyMap(t):n.preventDefaultEditableShortCuts(t))}).on("keyup",function(t){s.triggerEvent("keyup",t)}).on("focus",function(t){s.triggerEvent("focus",t)}).on("blur",function(t){s.triggerEvent("blur",t)}).on("mousedown",function(t){s.triggerEvent("mousedown",t)}).on("mouseup",function(t){s.triggerEvent("mouseup",t)}).on("scroll",function(t){s.triggerEvent("scroll",t)}).on("paste",function(t){s.triggerEvent("paste",t)}),r.html(dom.html(e)||dom.emptyPara);var t=agent.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";r.on(t,func.debounce(function(){s.triggerEvent("change",r.html())},250)),i.on("focusin",function(t){s.triggerEvent("focusin",t)}).on("focusout",function(t){s.triggerEvent("focusout",t)}),d.airMode||(d.width&&i.outerWidth(d.width),d.height&&r.outerHeight(d.height),d.maxHeight&&r.css("max-height",d.maxHeight),d.minHeight&&r.css("min-height",d.minHeight)),c.recordUndo()},this.destroy=function(){r.off()},this.handleKeyMap=function(t){var e=d.keyMap[agent.isMac?"mac":"pc"],i=[];t.metaKey&&i.push("CMD"),t.ctrlKey&&!t.altKey&&i.push("CTRL"),t.shiftKey&&i.push("SHIFT");var n=key.nameFromCode[t.keyCode];n&&i.push(n);var r=e[i.join("+")];r?(t.preventDefault(),s.invoke(r)):key.isEdit(t.keyCode)&&this.afterCommand()},this.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&list.contains([66,73,85],t.keyCode)&&t.preventDefault()},this.createRange=function(){return this.focus(),range.create(a)},this.saveRange=function(t){l=this.createRange(),t&&l.collapse().select()},this.restoreRange=function(){l&&(l.select(),this.focus())},this.saveTarget=function(t){r.data("target",t)},this.clearTarget=function(){r.removeData("target")},this.restoreTarget=function(){return r.data("target")},this.currentStyle=function(){var t=range.create();return t&&(t=t.normalize()),t?f.current(t):f.fromNode(r)},this.styleFromNode=function(t){return f.fromNode(t)},this.undo=function(){s.triggerEvent("before.command",r.html()),c.undo(),s.triggerEvent("change",r.html())},s.memo("help.undo",o.help.undo),this.redo=function(){s.triggerEvent("before.command",r.html()),c.redo(),s.triggerEvent("change",r.html())},s.memo("help.redo",o.help.redo);for(var p=this.beforeCommand=function(){s.triggerEvent("before.command",r.html()),n.focus()},g=this.afterCommand=function(t){c.recordUndo(),t||s.triggerEvent("change",r.html())},m=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],v=0,y=m.length;y>v;v++)this[m[v]]=function(e){return function(t){p(),document.execCommand(e,!1,t),g(!0)}}(m[v]),s.memo("help."+m[v],o.help[m[v]]);this.tab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()?h.tab(t):(p(),u.insertTab(t,d.tabSize),g())},s.memo("help.tab",o.help.tab),this.untab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()&&h.tab(t,!0)},s.memo("help.untab",o.help.untab),this.wrapCommand=function(t){return function(){p(),t.apply(n,arguments),g()}},this.insertParagraph=this.wrapCommand(function(){u.insertParagraph(a)}),s.memo("help.insertParagraph",o.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){t.insertOrderedList(a)}),s.memo("help.insertOrderedList",o.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){t.insertUnorderedList(a)}),s.memo("help.insertUnorderedList",o.help.insertUnorderedList),this.indent=this.wrapCommand(function(){t.indent(a)}),s.memo("help.indent",o.help.indent),this.outdent=this.wrapCommand(function(){t.outdent(a)}),s.memo("help.outdent",o.help.outdent),this.insertImage=function(t,e){return async.createImage(t,e).then(function(t){p(),"function"==typeof e?e(t):("string"==typeof e&&t.attr("data-filename",e),t.css("width",Math.min(r.width(),t.width()))),t.show(),range.create(a).insertNode(t[0]),range.createFromNodeAfter(t[0]).select(),g()}).fail(function(t){s.triggerEvent("image.upload.error",t)})},this.insertImages=function(t){$.each(t,function(t,e){var i=e.name;d.maximumImageFileSize&&d.maximumImageFileSize<e.size?s.triggerEvent("image.upload.error",o.image.maximumFileSizeError):async.readFileAsDataURL(e).then(function(t){return n.insertImage(t,i)}).fail(function(){s.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(t){var e=d.callbacks;e.onImageUpload?s.triggerEvent("image.upload",t):this.insertImages(t)},this.insertNode=this.wrapCommand(function(t){var e=this.createRange();e.insertNode(t),range.createFromNodeAfter(t).select()}),this.insertText=this.wrapCommand(function(t){var e=this.createRange(),i=e.insertNode(dom.createText(t));range.create(i,dom.nodeLength(i)).select()}),this.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=range.createFromNode(dom.ancestor(t.sc,dom.isAnchor))),t.toString()},this.pasteHTML=this.wrapCommand(function(t){var e=this.createRange().pasteHTML(t);range.createFromNodeAfter(list.last(e)).select()}),this.formatBlock=this.wrapCommand(function(t){t=agent.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t)}),this.formatPara=function(){this.formatBlock("P")},s.memo("help.formatPara",o.help.formatPara);for(var v=1;6>=v;v++)this["formatH"+v]=function(t){return function(){this.formatBlock("H"+t)}}(v),s.memo("help.formatH"+v,o.help["formatH"+v]);this.fontSize=function(t){var e=this.createRange();if(e&&e.isCollapsed()){var i=f.styleNodes(e),n=list.head(i);$(i).css({"font-size":t+"px"}),n&&!dom.nodeLength(n)&&(n.innerHTML=dom.ZERO_WIDTH_NBSP_CHAR,range.createFromNodeAfter(n.firstChild).select(),r.data(KEY_BOGUS,n))}else p(),$(f.styleNodes(e)).css({"font-size":t+"px"}),g()},this.insertHorizontalRule=this.wrapCommand(function(){var t=this.createRange().insertNode(dom.create("HR"));t.nextSibling&&range.create(t.nextSibling,0).normalize().select()}),s.memo("help.insertHorizontalRule",o.help.insertHorizontalRule),this.removeBogus=function(){var t=r.data(KEY_BOGUS);if(t){var e=list.find(list.from(t.childNodes),dom.isText),i=e.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);-1!==i&&e.deleteData(i,1),dom.isEmpty(t)&&dom.remove(t),r.removeData(KEY_BOGUS)}},this.lineHeight=this.wrapCommand(function(t){f.stylePara(this.createRange(),{lineHeight:t})}),this.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=dom.ancestor(t.sc,dom.isAnchor);t=range.createFromNode(e),t.select(),p(),document.execCommand("unlink"),g()}},this.createLink=this.wrapCommand(function(t){var i=t.url,e=t.text,n=t.isNewWindow,r=t.range||this.createRange(),s=r.toString()!==e;"string"==typeof i&&(i=i.trim()),d.onCreateLink&&(i=d.onCreateLink(i));var o=[];if(s){r=r.deleteContents();var a=r.insertNode($("<A>"+e+"</A>")[0]);o.push(a)}else o=f.styleNodes(r,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});$.each(o,function(t,e){i=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(i)?i:"http://"+i,$(e).attr("href",i),n?$(e).attr("target","_blank"):$(e).removeAttr("target")});var l=range.createFromNodeBefore(list.head(o)),h=l.getStartPoint(),u=range.createFromNodeAfter(list.last(o)),c=u.getEndPoint();range.create(h.node,h.offset,c.node,c.offset).select()}),this.getLinkInfo=function(){var t=this.createRange().expand(dom.isAnchor),e=$(list.head(t.nodes(dom.isAnchor)));return{range:t,text:t.toString(),isNewWindow:e.length?"_blank"===e.attr("target"):!1,url:e.length?e.attr("href"):""}},this.color=this.wrapCommand(function(t){var e=t.foreColor,i=t.backColor;e&&document.execCommand("foreColor",!1,e),i&&document.execCommand("backColor",!1,i)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x"),i=this.createRange().deleteContents();i.insertNode(h.createTable(e[0],e[1],d))}),this.floatMe=this.wrapCommand(function(t){var e=$(this.restoreTarget());e.css("float",t)}),this.resize=this.wrapCommand(function(t){var e=$(this.restoreTarget());e.css({width:100*t+"%",height:""})}),this.resizeTo=function(t,e,i){var n;if(i){var r=t.y/t.x,s=e.data("ratio");n={width:s>r?t.x:t.y/s,height:s>r?t.x*s:t.y}}else n={width:t.x,height:t.y};e.css(n)},this.removeMedia=this.wrapCommand(function(){var t=$(this.restoreTarget()).detach();s.triggerEvent("media.delete",t,r)}),this.hasFocus=function(){return r.is(":focus")},this.focus=function(){this.hasFocus()||r.focus()},this.isEmpty=function(){return dom.isEmpty(r[0])||dom.emptyPara===r.html()},this.empty=function(){s.invoke("code",dom.emptyPara)}},Clipboard=function(a){var i=this,t=a.layoutInfo.editable;this.events={"summernote.keydown":function(t,e){i.needKeydownHook()&&(e.ctrlKey||e.metaKey)&&e.keyCode===key.code.V&&(a.invoke("editor.saveRange"),i.$paste.focus(),setTimeout(function(){i.pasteByHook()},0))}},this.needKeydownHook=function(){return agent.isMSIE&&agent.browserVersion>10||agent.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=$('<div tabindex="-1" />').attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),t.before(this.$paste),this.$paste.on("paste",function(t){a.triggerEvent("paste",t)})):t.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var t=this.$paste[0].firstChild;if(dom.isImg(t)){for(var e=t.src,i=atob(e.split(",")[1]),n=new Uint8Array(i.length),r=0;r<i.length;r++)n[r]=i.charCodeAt(r);var s=new Blob([n],{type:"image/png"});s.name="clipboard.png",a.invoke("editor.restoreRange"),a.invoke("editor.focus"),a.invoke("editor.insertImagesOrCallback",[s])}else{var o=$("<div />").html(this.$paste.html()).html();a.invoke("editor.restoreRange"),a.invoke("editor.focus"),o&&a.invoke("editor.pasteHTML",o)}this.$paste.empty()},this.pasteByEvent=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var i=list.head(e.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&a.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),a.invoke("editor.afterCommand")}}},Dropzone=function(s){var e=$(document),o=s.layoutInfo.editor,i=s.layoutInfo.editable,t=s.options,a=t.langInfo,l={},h=$(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(o),n=function(){Object.keys(l).forEach(function(t){e.off(t.substr(2).toLowerCase(),l[t])}),l={}};this.initialize=function(){t.disableDragAndDrop?(l.onDrop=function(t){t.preventDefault()},e.on("drop",l.onDrop)):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var n=$(),r=h.find(".note-dropzone-message");l.onDragenter=function(t){var e=s.invoke("codeview.isActivated"),i=o.width()>0&&o.height()>0;e||n.length||!i||(o.addClass("dragover"),h.width(o.width()),h.height(o.height()),r.text(a.image.dragImageHere)),n=n.add(t.target)},l.onDragleave=function(t){n=n.not(t.target),n.length||o.removeClass("dragover")},l.onDrop=function(){n=$(),o.removeClass("dragover")},e.on("dragenter",l.onDragenter).on("dragleave",l.onDragleave).on("drop",l.onDrop),h.on("dragenter",function(){h.addClass("hover"),r.text(a.image.dropImage)}).on("dragleave",function(){h.removeClass("hover"),r.text(a.image.dragImageHere)}),h.on("drop",function(t){var n=t.originalEvent.dataTransfer;n&&n.files&&n.files.length?(t.preventDefault(),i.focus(),s.invoke("editor.insertImagesOrCallback",n.files)):$.each(n.types,function(t,e){var i=n.getData(e);e.toLowerCase().indexOf("text")>-1?s.invoke("editor.pasteHTML",i):$(i).each(function(){s.invoke("editor.insertNode",this)})})}).on("dragover",!1)},this.destroy=function(){n()}},CodeMirror;agent.hasCodeMirror&&(agent.isSupportAmd?require(["codemirror"],function(t){CodeMirror=t}):CodeMirror=window.CodeMirror);var Codeview=function(n){var r=n.layoutInfo.editor,s=n.layoutInfo.editable,o=n.layoutInfo.codable,a=n.options;this.sync=function(){var t=this.isActivated();t&&agent.hasCodeMirror&&o.data("cmEditor").save()},this.isActivated=function(){return r.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),n.triggerEvent("codeview.toggled")},this.activate=function(){if(o.val(dom.html(s,a.prettifyHtml)),o.height(s.height()),n.invoke("toolbar.updateCodeview",!0),r.addClass("codeview"),o.focus(),agent.hasCodeMirror){var t=CodeMirror.fromTextArea(o[0],a.codemirror);if(a.codemirror.tern){var e=new CodeMirror.TernServer(a.codemirror.tern);t.ternServer=e,t.on("cursorActivity",function(t){e.updateArgHints(t)})}t.setSize(null,s.outerHeight()),o.data("cmEditor",t)}},this.deactivate=function(){if(agent.hasCodeMirror){var t=o.data("cmEditor");o.val(t.getValue()),t.toTextArea()}var e=dom.value(o,a.prettifyHtml)||dom.emptyPara,i=s.html()!==e;s.html(e),s.height(a.height?o.height():"auto"),r.removeClass("codeview"),i&&n.triggerEvent("change",s.html(),s),s.focus(),n.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},EDITABLE_PADDING=24,Statusbar=function(t){var e=$(document),i=t.layoutInfo.statusbar,n=t.layoutInfo.editable,r=t.options;this.initialize=function(){r.airMode||r.disableResizeEditor||i.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var i=n.offset().top-e.scrollTop();e.on("mousemove",function(t){var e=t.clientY-(i+EDITABLE_PADDING);e=r.minheight>0?Math.max(e,r.minheight):e,e=r.maxHeight>0?Math.min(e,r.maxHeight):e,n.height(e)}).one("mouseup",function(){e.off("mousemove")})})},this.destroy=function(){i.off(),i.remove()}},Fullscreen=function(e){var i=e.layoutInfo.editor,n=e.layoutInfo.toolbar,r=e.layoutInfo.editable,s=e.layoutInfo.codable,o=$(window),a=$("html, body");this.toggle=function(){var t=function(t){r.css("height",t.h),s.css("height",t.h),s.data("cmeditor")&&s.data("cmeditor").setsize(null,t.h)};i.toggleClass("fullscreen"),this.isFullscreen()?(r.data("orgHeight",r.css("height")),o.on("resize",function(){t({h:o.height()-n.outerHeight()})}).trigger("resize"),a.css("overflow","hidden")):(o.off("resize"),t({h:r.data("orgHeight")}),a.css("overflow","visible")),e.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return i.hasClass("fullscreen")}},Handle=function(a){var r=this,s=$(document),t=a.layoutInfo.editingArea,e=a.options;this.events={"summernote.mousedown":function(t,e){r.update(e.target)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){r.update()}},this.initialize=function(){this.$handle=$(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',e.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',e.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(t),this.$handle.on("mousedown",function(t){if(dom.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var e=r.$handle.find(".note-control-selection").data("target"),i=e.offset(),n=s.scrollTop();s.on("mousemove",function(t){a.invoke("editor.resizeTo",{x:t.clientX-i.left,y:t.clientY-(i.top-n)},e,!t.shiftKey),r.update(e[0])}).one("mouseup",function(t){t.preventDefault(),s.off("mousemove"),a.invoke("editor.afterCommand")}),e.data("ratio")||e.data("ratio",e.height()/e.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(t){var e=dom.isImg(t),i=this.$handle.find(".note-control-selection");if(a.invoke("imagePopover.update",t),e){var n=$(t),r=n.position(),s={w:n.outerWidth(!0),h:n.outerHeight(!0)};i.css({display:"block",left:r.left,top:r.top,width:s.w,height:s.h}).data("target",n);var o=s.w+"x"+s.h;i.find(".note-control-selection-info").text(o),a.invoke("editor.saveTarget",t)}else this.hide();return e},this.hide=function(){a.invoke("editor.clearTarget"),this.$handle.children().hide()}},AutoLink=function(r){var i=this,s="http://",o=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||i.handleKeyup(e)},"summernote.keydown":function(t,e){i.handleKeydown(e)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),e=t.match(o);if(e&&(e[1]||e[2])){var i=e[1]?t:s+t,n=$("<a />").html(t).attr("href",i)[0];this.lastWordRange.insertNode(n),this.lastWordRange=null,r.invoke("editor.focus")}}},this.handleKeydown=function(t){if(list.contains([key.code.ENTER,key.code.SPACE],t.keyCode)){var e=r.invoke("editor.createRange").getWordRange();this.lastWordRange=e}},this.handleKeyup=function(t){list.contains([key.code.ENTER,key.code.SPACE],t.keyCode)&&this.replace()}},AutoSync=function(t){var e=t.layoutInfo.note;this.events={"summernote.change":function(){e.val(t.invoke("code"))}},this.shouldInitialize=function(){return dom.isTextarea(e[0])}},Placeholder=function(e){var t=this,i=e.layoutInfo.editingArea,n=e.options;this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}},this.shouldInitialize=function(){return!!n.placeholder},this.initialize=function(){this.$placeholder=$('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.invoke("focus")}).text(n.placeholder).prependTo(i)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var t=!e.invoke("codeview.isActivated")&&e.invoke("editor.isEmpty");this.$placeholder.toggle(t)}},Buttons=function(c){var o=this,d=$.summernote.ui,s=c.layoutInfo.toolbar,u=c.options,a=u.langInfo,i=func.invertObject(u.keyMap[agent.isMac?"mac":"pc"]),l=this.representShortcut=function(t){var e=i[t];return u.shortcuts&&e?(agent.isMac&&(e=e.replace("CMD","").replace("SHIFT","")),e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+e+")"):""};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(t){return o.fontInstalledMap.hasOwnProperty(t)||(o.fontInstalledMap[t]=agent.isFontInstalled(t)||list.contains(u.fontNamesIgnoreCheck,t)),o.fontInstalledMap[t]},this.addToolbarButtons=function(){c.memo("button.style",function(){return d.buttonGroup([d.button({className:"dropdown-toggle",contents:d.icon(u.icons.magic)+" "+d.icon(u.icons.caret,"span"),tooltip:a.style.style,data:{toggle:"dropdown"}}),d.dropdown({className:"dropdown-style",items:c.options.styleTags,template:function(t){"string"==typeof t&&(t={tag:t,title:a.style.hasOwnProperty(t)?a.style[t]:t});var e=t.tag,i=t.title,n=t.style?' style="'+t.style+'" ':"",r=t.className?' class="'+t.className+'"':"";return"<"+e+n+r+">"+i+"</"+e+">"},click:c.createInvokeHandler("editor.formatBlock")})]).render()}),c.memo("button.bold",function(){return d.button({className:"note-btn-bold",contents:d.icon(u.icons.bold),tooltip:a.font.bold+l("bold"),click:c.createInvokeHandler("editor.bold")}).render()}),c.memo("button.italic",function(){return d.button({className:"note-btn-italic",contents:d.icon(u.icons.italic),tooltip:a.font.italic+l("italic"),click:c.createInvokeHandler("editor.italic")}).render()}),c.memo("button.underline",function(){return d.button({className:"note-btn-underline",contents:d.icon(u.icons.underline),tooltip:a.font.underline+l("underline"),click:c.createInvokeHandler("editor.underline")}).render()}),c.memo("button.clear",function(){return d.button({contents:d.icon(u.icons.eraser),tooltip:a.font.clear+l("removeFormat"),click:c.createInvokeHandler("editor.removeFormat")}).render()}),c.memo("button.strikethrough",function(){return d.button({className:"note-btn-strikethrough",contents:d.icon(u.icons.strikethrough),tooltip:a.font.strikethrough+l("strikethrough"),click:c.createInvokeHandler("editor.strikethrough")}).render()}),c.memo("button.superscript",function(){return d.button({className:"note-btn-superscript",contents:d.icon(u.icons.superscript),tooltip:a.font.superscript,click:c.createInvokeHandler("editor.superscript")}).render()}),c.memo("button.subscript",function(){return d.button({className:"note-btn-subscript",contents:d.icon(u.icons.subscript),tooltip:a.font.subscript,click:c.createInvokeHandler("editor.subscript")}).render()}),c.memo("button.fontname",function(){return d.buttonGroup([d.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+d.icon(u.icons.caret,"span"),tooltip:a.font.name,data:{toggle:"dropdown"}}),d.dropdownCheck({className:"dropdown-fontname",checkClassName:u.icons.menuCheck,items:u.fontNames.filter(o.isFontInstalled),template:function(t){return'<span style="font-family:'+t+'">'+t+"</span>"},click:c.createInvokeHandler("editor.fontName")})]).render()}),c.memo("button.fontsize",function(){return d.buttonGroup([d.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+d.icon(u.icons.caret,"span"),tooltip:a.font.size,data:{toggle:"dropdown"}}),d.dropdownCheck({className:"dropdown-fontsize",checkClassName:u.icons.menuCheck,items:u.fontSizes,click:c.createInvokeHandler("editor.fontSize")})]).render()}),c.memo("button.color",function(){return d.buttonGroup({className:"note-color",children:[d.button({className:"note-current-color-button",contents:d.icon(u.icons.font+" note-recent-color"),tooltip:a.color.recent,click:function(t){var e=$(t.currentTarget);c.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")})},callback:function(t){var e=t.find(".note-recent-color");e.css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),d.button({className:"dropdown-toggle",contents:d.icon(u.icons.caret,"span"),tooltip:a.color.more,data:{toggle:"dropdown"}}),d.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+a.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',a.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+a.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',a.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(t){t.find(".note-holder").each(function(){var t=$(this);t.append(d.palette({colors:u.colors,eventName:t.data("event")}).render())})},click:function(t){var e=$(t.target),i=e.data("event"),n=e.data("value");if(i&&n){var r="backColor"===i?"background-color":"color",s=e.closest(".note-color").find(".note-recent-color"),o=e.closest(".note-color").find(".note-current-color-button");s.css(r,n),o.attr("data-"+i,n),c.invoke("editor."+i,n)}}})]}).render()}),c.memo("button.ul",function(){return d.button({contents:d.icon(u.icons.unorderedlist),tooltip:a.lists.unordered+l("insertUnorderedList"),click:c.createInvokeHandler("editor.insertUnorderedList")}).render()}),c.memo("button.ol",function(){return d.button({contents:d.icon(u.icons.orderedlist),tooltip:a.lists.ordered+l("insertOrderedList"),click:c.createInvokeHandler("editor.insertOrderedList")}).render()});var t=d.button({contents:d.icon(u.icons.alignLeft),tooltip:a.paragraph.left+l("justifyLeft"),click:c.createInvokeHandler("editor.justifyLeft")}),e=d.button({contents:d.icon(u.icons.alignCenter),tooltip:a.paragraph.center+l("justifyCenter"),click:c.createInvokeHandler("editor.justifyCenter")}),i=d.button({contents:d.icon(u.icons.alignRight),tooltip:a.paragraph.right+l("justifyRight"),click:c.createInvokeHandler("editor.justifyRight")}),n=d.button({contents:d.icon(u.icons.alignJustify),tooltip:a.paragraph.justify+l("justifyFull"),click:c.createInvokeHandler("editor.justifyFull")}),r=d.button({contents:d.icon(u.icons.outdent),tooltip:a.paragraph.outdent+l("outdent"),click:c.createInvokeHandler("editor.outdent")}),s=d.button({contents:d.icon(u.icons.indent),tooltip:a.paragraph.indent+l("indent"),click:c.createInvokeHandler("editor.indent")});c.memo("button.justifyLeft",func.invoke(t,"render")),c.memo("button.justifyCenter",func.invoke(e,"render")),c.memo("button.justifyRight",func.invoke(i,"render")),c.memo("button.justifyFull",func.invoke(n,"render")),c.memo("button.outdent",func.invoke(r,"render")),c.memo("button.indent",func.invoke(s,"render")),c.memo("button.paragraph",function(){return d.buttonGroup([d.button({className:"dropdown-toggle",contents:d.icon(u.icons.alignLeft)+" "+d.icon(u.icons.caret,"span"),tooltip:a.paragraph.paragraph,data:{toggle:"dropdown"}}),d.dropdown([d.buttonGroup({className:"note-align",children:[t,e,i,n]}),d.buttonGroup({className:"note-list",children:[r,s]})])]).render()}),c.memo("button.height",function(){return d.buttonGroup([d.button({className:"dropdown-toggle",contents:d.icon(u.icons.textHeight)+" "+d.icon(u.icons.caret,"span"),tooltip:a.font.height,data:{toggle:"dropdown"}}),d.dropdownCheck({items:u.lineHeights,checkClassName:u.icons.menuCheck,className:"dropdown-line-height",click:c.createInvokeHandler("editor.lineHeight")})]).render()}),c.memo("button.table",function(){return d.buttonGroup([d.button({className:"dropdown-toggle",contents:d.icon(u.icons.table)+" "+d.icon(u.icons.caret,"span"),tooltip:a.table.table,data:{toggle:"dropdown"}}),d.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){var e=t.find(".note-dimension-picker-mousecatcher");e.css({width:u.insertTableMaxSize.col+"em",height:u.insertTableMaxSize.row+"em"}).mousedown(c.createInvokeHandler("editor.insertTable")).on("mousemove",o.tableMoveHandler)}}).render()}),c.memo("button.link",function(){return d.button({contents:d.icon(u.icons.link),tooltip:a.link.link+l("linkDialog.show"),click:c.createInvokeHandler("linkDialog.show")}).render()}),c.memo("button.picture",function(){return d.button({contents:d.icon(u.icons.picture),tooltip:a.image.image,click:c.createInvokeHandler("imageDialog.show")}).render()}),c.memo("button.video",function(){return d.button({contents:d.icon(u.icons.video),tooltip:a.video.video,click:c.createInvokeHandler("videoDialog.show")}).render()}),c.memo("button.hr",function(){return d.button({contents:d.icon(u.icons.minus),tooltip:a.hr.insert+l("insertHorizontalRule"),click:c.createInvokeHandler("editor.insertHorizontalRule")}).render()}),c.memo("button.fullscreen",function(){return d.button({className:"btn-fullscreen",contents:d.icon(u.icons.arrowsAlt),tooltip:a.options.fullscreen,click:c.createInvokeHandler("fullscreen.toggle")}).render()}),c.memo("button.codeview",function(){return d.button({className:"btn-codeview",contents:d.icon(u.icons.code),tooltip:a.options.codeview,click:c.createInvokeHandler("codeview.toggle")}).render()}),c.memo("button.redo",function(){return d.button({contents:d.icon(u.icons.redo),tooltip:a.history.redo+l("redo"),click:c.createInvokeHandler("editor.redo")}).render()}),c.memo("button.undo",function(){return d.button({contents:d.icon(u.icons.undo),tooltip:a.history.undo+l("undo"),click:c.createInvokeHandler("editor.undo")}).render()}),c.memo("button.help",function(){return d.button({contents:d.icon(u.icons.question),tooltip:a.options.help,click:c.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){c.memo("button.imageSize100",function(){return d.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.image.resizeFull,click:c.createInvokeHandler("editor.resize","1")}).render()}),c.memo("button.imageSize50",function(){return d.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.image.resizeHalf,click:c.createInvokeHandler("editor.resize","0.5")}).render()}),c.memo("button.imageSize25",function(){return d.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.image.resizeQuarter,click:c.createInvokeHandler("editor.resize","0.25")}).render()}),c.memo("button.floatLeft",function(){return d.button({contents:d.icon(u.icons.alignLeft),tooltip:a.image.floatLeft,click:c.createInvokeHandler("editor.floatMe","left")}).render()}),c.memo("button.floatRight",function(){return d.button({contents:d.icon(u.icons.alignRight),tooltip:a.image.floatRight,click:c.createInvokeHandler("editor.floatMe","right")}).render()}),c.memo("button.floatNone",function(){return d.button({contents:d.icon(u.icons.alignJustify),tooltip:a.image.floatNone,click:c.createInvokeHandler("editor.floatMe","none")}).render()}),c.memo("button.removeMedia",function(){return d.button({contents:d.icon(u.icons.trash),tooltip:a.image.remove,click:c.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){c.memo("button.linkDialogShow",function(){return d.button({contents:d.icon(u.icons.link),tooltip:a.link.edit,click:c.createInvokeHandler("linkDialog.show")}).render()}),c.memo("button.unlink",function(){return d.button({contents:d.icon(u.icons.unlink),tooltip:a.link.unlink,click:c.createInvokeHandler("editor.unlink")}).render()})},this.build=function(t,e){for(var i=0,n=e.length;n>i;i++){for(var r=e[i],s=r[0],o=r[1],a=d.buttonGroup({className:"note-"+s}).render(),l=0,h=o.length;h>l;l++){var u=c.memo("button."+o[l]);u&&a.append("function"==typeof u?u(c):u)}a.appendTo(t)}},this.updateCurrentStyle=function(){var t=c.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===t["font-bold"]},".note-btn-italic":function(){return"italic"===t["font-italic"]},".note-btn-underline":function(){return"underline"===t["font-underline"]},".note-btn-subscript":function(){return"subscript"===t["font-subscript"]},".note-btn-superscript":function(){return"superscript"===t["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===t["font-strikethrough"]}}),t["font-family"]){var e=t["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),i=list.find(e,o.isFontInstalled);s.find(".dropdown-fontname li a").each(function(){var t=$(this).data("value")+""==i+"";this.className=t?"checked":""}),s.find(".note-current-fontname").text(i)}if(t["font-size"]){var n=t["font-size"];s.find(".dropdown-fontsize li a").each(function(){var t=$(this).data("value")+""==n+"";this.className=t?"checked":""}),s.find(".note-current-fontsize").text(n)}if(t["line-height"]){var r=t["line-height"];s.find(".dropdown-line-height li a").each(function(){var t=$(this).data("value")+""==r+"";this.className=t?"checked":""})}},this.updateBtnStates=function(t){$.each(t,function(t,e){d.toggleBtnActive(s.find(t),e())})},this.tableMoveHandler=function(t){var e,i=18,n=$(t.target.parentNode),r=n.next(),s=n.find(".note-dimension-picker-mousecatcher"),o=n.find(".note-dimension-picker-highlighted"),a=n.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var l=$(t.target).offset();e={x:t.pageX-l.left,y:t.pageY-l.top}}else e={x:t.offsetX,y:t.offsetY};var h={c:Math.ceil(e.x/i)||1,r:Math.ceil(e.y/i)||1};o.css({width:h.c+"em",height:h.r+"em"}),s.data("value",h.c+"x"+h.r),3<h.c&&h.c<u.insertTableMaxSize.col&&a.css({width:h.c+1+"em"}),3<h.r&&h.r<u.insertTableMaxSize.row&&a.css({height:h.r+1+"em"}),r.html(h.c+" x "+h.r)}},Toolbar=function(t){var i=$.summernote.ui,e=t.layoutInfo.note,n=t.layoutInfo.toolbar,r=t.options;this.shouldInitialize=function(){return!r.airMode},this.initialize=function(){r.toolbar=r.toolbar||[],r.toolbar.length?t.invoke("buttons.build",n,r.toolbar):n.hide(),r.toolbarContainer&&n.appendTo(r.toolbarContainer),e.on("summernote.keyup summernote.mouseup summernote.change",function(){t.invoke("buttons.updateCurrentStyle")}),t.invoke("buttons.updateCurrentStyle")},this.destroy=function(){n.children().remove()},this.updateFullscreen=function(t){i.toggleBtnActive(n.find(".btn-fullscreen"),t)},this.updateCodeview=function(t){i.toggleBtnActive(n.find(".btn-codeview"),t),t?this.deactivate():this.activate()},this.activate=function(t){var e=n.find("button");t||(e=e.not(".btn-codeview")),i.toggleBtn(e,!0)},this.deactivate=function(t){var e=n.find("button");t||(e=e.not(".btn-codeview")),i.toggleBtn(e,!1)}},LinkDialog=function(l){var h=this,u=$.summernote.ui,n=l.layoutInfo.editor,r=l.options,s=r.langInfo;this.initialize=function(){var t=r.dialogsInBody?$(document.body):n,e='<div class="form-group"><label>'+s.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+s.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(r.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+s.link.openInNewWindow+"</label></div>"),i='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+s.link.insert+"</button>";this.$dialog=u.dialog({className:"link-dialog",title:s.link.insert,fade:r.dialogsFade,body:e,footer:i}).render().appendTo(t)},this.destroy=function(){u.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===key.code.ENTER&&e.trigger("click")})},this.toggleLinkBtn=function(t,e,i){u.toggleBtn(t,e.val()&&i.val())},this.showLinkDialog=function(a){return $.Deferred(function(i){var n=h.$dialog.find(".note-link-text"),r=h.$dialog.find(".note-link-url"),s=h.$dialog.find(".note-link-btn"),o=h.$dialog.find("input[type=checkbox]");u.onDialogShown(h.$dialog,function(){l.triggerEvent("dialog.shown"),a.url||(a.url=a.text),n.val(a.text);var t=function(){h.toggleLinkBtn(s,n,r),a.text=n.val()};n.on("input",t).on("paste",function(){setTimeout(t,0)});var e=function(){h.toggleLinkBtn(s,n,r),a.text||n.val(r.val())};r.on("input",e).on("paste",function(){setTimeout(e,0)}).val(a.url).trigger("focus"),h.toggleLinkBtn(s,n,r),h.bindEnterKey(r,s),h.bindEnterKey(n,s),o.prop("checked",a.isNewWindow),s.one("click",function(t){t.preventDefault(),i.resolve({range:a.range,url:r.val(),text:n.val(),isNewWindow:o.is(":checked")}),h.$dialog.modal("hide")})}),u.onDialogHidden(h.$dialog,function(){n.off("input paste keypress"),r.off("input paste keypress"),s.off("click"),"pending"===i.state()&&i.reject()}),u.showDialog(h.$dialog)}).promise()},this.show=function(){var t=l.invoke("editor.getLinkInfo");l.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){l.invoke("editor.restoreRange"),l.invoke("editor.createLink",t)}).fail(function(){l.invoke("editor.restoreRange")})},l.memo("help.linkDialog.show",r.langInfo.help["linkDialog.show"])},LinkPopover=function(r){var t=this,e=$.summernote.ui,i=r.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.dialog.shown":function(){t.hide()}},this.shouldInitialize=function(){return!list.isEmpty(i.popover.link)},this.initialize=function(){this.$popover=e.popover({className:"note-link-popover",callback:function(t){var e=t.find(".popover-content");e.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var t=this.$popover.find(".popover-content");r.invoke("buttons.build",t,i.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!r.invoke("editor.hasFocus"))return void this.hide();var t=r.invoke("editor.createRange");if(t.isCollapsed()&&t.isOnAnchor()){var e=dom.ancestor(t.sc,dom.isAnchor),i=$(e).attr("href");this.$popover.find("a").attr("href",i).html(i);var n=dom.posFromPlaceholder(e);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ImageDialog=function(r){var s=this,o=$.summernote.ui,a=r.layoutInfo.editor,l=r.options,h=l.langInfo;this.initialize=function(){var t=l.dialogsInBody?$(document.body):a,e="";if(l.maximumImageFileSize){var i=Math.floor(Math.log(l.maximumImageFileSize)/Math.log(1024)),n=1*(l.maximumImageFileSize/Math.pow(1024,i)).toFixed(2)+" "+" KMGTP"[i]+"B";e="<small>"+h.image.maximumFileSize+" : "+n+"</small>"}var r='<div class="form-group note-group-select-from-files"><label>'+h.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+e+'</div><div class="form-group note-group-image-url" style="overflow:auto;"><label>'+h.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',s='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+h.image.insert+"</button>";this.$dialog=o.dialog({title:h.image.insert,fade:l.dialogsFade,body:r,footer:s}).render().appendTo(t)},this.destroy=function(){o.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===key.code.ENTER&&e.trigger("click")})},this.show=function(){r.invoke("editor.saveRange"),this.showImageDialog().then(function(t){o.hideDialog(s.$dialog),r.invoke("editor.restoreRange"),"string"==typeof t?r.invoke("editor.insertImage",t):r.invoke("editor.insertImagesOrCallback",t)}).fail(function(){r.invoke("editor.restoreRange")})},this.showImageDialog=function(){return $.Deferred(function(e){var t=s.$dialog.find(".note-image-input"),i=s.$dialog.find(".note-image-url"),n=s.$dialog.find(".note-image-btn");o.onDialogShown(s.$dialog,function(){r.triggerEvent("dialog.shown"),t.replaceWith(t.clone().on("change",function(){e.resolve(this.files||this.value)}).val("")),n.click(function(t){t.preventDefault(),e.resolve(i.val())}),i.on("keyup paste",function(){var t=i.val();o.toggleBtn(n,t)}).val("").trigger("focus"),s.bindEnterKey(i,n)}),o.onDialogHidden(s.$dialog,function(){t.off("change"),i.off("keyup paste keypress"),n.off("click"),"pending"===e.state()&&e.reject()}),o.showDialog(s.$dialog)})}},ImagePopover=function(e){var i=$.summernote.ui,n=e.options;this.shouldInitialize=function(){return!list.isEmpty(n.popover.image)},this.initialize=function(){this.$popover=i.popover({className:"note-image-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,n.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(t){if(dom.isImg(t)){var e=dom.posFromPlaceholder(t);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},VideoDialog=function(r){var s=this,o=$.summernote.ui,n=r.layoutInfo.editor,a=r.options,l=a.langInfo;this.initialize=function(){var t=a.dialogsInBody?$(document.body):n,e='<div class="form-group row-fluid"><label>'+l.video.url+' <small class="text-muted">'+l.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',i='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+l.video.insert+"</button>";this.$dialog=o.dialog({title:l.video.insert,fade:a.dialogsFade,body:e,footer:i}).render().appendTo(t)},this.destroy=function(){o.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===key.code.ENTER&&e.trigger("click")})},this.createVideoNode=function(t){var e,i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,n=t.match(i),r=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,s=t.match(r),o=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,a=t.match(o),l=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,h=t.match(l),u=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,c=t.match(u),d=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,f=t.match(d),p=/^.+.(mp4|m4v)$/,g=t.match(p),m=/^.+.(ogg|ogv)$/,v=t.match(m),y=/^.+.(webm)$/,b=t.match(y);if(n&&11===n[1].length){var w=n[1];e=$("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+w).attr("width","640").attr("height","360")}else if(s&&s[0].length)e=$("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+s[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(a&&a[0].length)e=$("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(h&&h[3].length)e=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+h[3]).attr("width","640").attr("height","360");else if(c&&c[2].length)e=$("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+c[2]).attr("width","640").attr("height","360");else if(f&&f[1].length)e=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+f[1]);else{if(!(g||v||b))return!1;e=$("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return e.addClass("note-video-clip"),e[0]},this.show=function(){var t=r.invoke("editor.getSelectedText");r.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){o.hideDialog(s.$dialog),r.invoke("editor.restoreRange");var e=s.createVideoNode(t);e&&r.invoke("editor.insertNode",e)}).fail(function(){r.invoke("editor.restoreRange")})},this.showVideoDialog=function(n){return $.Deferred(function(e){var i=s.$dialog.find(".note-video-url"),t=s.$dialog.find(".note-video-btn");o.onDialogShown(s.$dialog,function(){r.triggerEvent("dialog.shown"),i.val(n).on("input",function(){o.toggleBtn(t,i.val())}).trigger("focus"),t.click(function(t){t.preventDefault(),e.resolve(i.val())}),s.bindEnterKey(i,t)}),o.onDialogHidden(s.$dialog,function(){i.off("input"),t.off("click"),"pending"===e.state()&&e.reject()}),o.showDialog(s.$dialog)})}},HelpDialog=function(r){var e=this,i=$.summernote.ui,n=r.layoutInfo.editor,s=r.options,o=s.langInfo;this.createShortCutList=function(){var n=s.keyMap[agent.isMac?"mac":"pc"];return Object.keys(n).map(function(t){var e=n[t],i=$('<div><div class="help-list-item"/></div>');return i.append($("<label><kbd>"+t+"</kdb></label>").css({width:180,"margin-right":10})).append($("<span/>").html(r.memo("help."+e)||e)),i.html()}).join("")},this.initialize=function(){var t=s.dialogsInBody?$(document.body):n,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.2</a>  ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a>  ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=i.dialog({title:o.options.help,fade:s.dialogsFade,body:this.createShortCutList(),footer:e,callback:function(t){t.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return $.Deferred(function(t){i.onDialogShown(e.$dialog,function(){r.triggerEvent("dialog.shown"),t.resolve()}),i.showDialog(e.$dialog)}).promise()},this.show=function(){r.invoke("editor.saveRange"),this.showHelpDialog().then(function(){r.invoke("editor.restoreRange")})}},AirPopover=function(n){var i=this,e=$.summernote.ui,r=n.options,s=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){i.update()},"summernote.change summernote.dialog.shown":function(){i.hide()},"summernote.focusout":function(t,e){agent.isFF||e.relatedTarget&&dom.ancestor(e.relatedTarget,func.eq(i.$popover[0]))||i.hide()}},this.shouldInitialize=function(){return r.airMode&&!list.isEmpty(r.popover.air)},this.initialize=function(){this.$popover=e.popover({className:"note-air-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");n.invoke("buttons.build",t,r.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var t=n.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var e=list.last(t.range.getClientRects());if(e){var i=func.rect2bnd(e);this.$popover.css({display:"block",left:Math.max(i.left+i.width/2,0)-s,top:i.top+i.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},HintPopover=function(r){var s=this,t=$.summernote.ui,o=5,e=r.options.hint||[],a=r.options.hintDirection||"bottom",l=$.isArray(e)?e:[e];this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||s.handleKeyup(e)},"summernote.keydown":function(t,e){s.handleKeydown(e)},"summernote.dialog.shown":function(){s.hide()}},this.shouldInitialize=function(){return l.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=t.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){s.$content.find(".active").removeClass("active"),$(this).addClass("active"),s.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var i=t.parent().next();i.length||(i=this.$content.find(".note-hint-group").first()),this.selectItem(i.find(".note-hint-item").first())}},this.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var i=t.parent().prev();i.length||(i=this.$content.find(".note-hint-group").last()),this.selectItem(i.find(".note-hint-item").last())}},this.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);this.lastWordRange.insertNode(e),range.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),r.invoke("editor.focus")}},this.nodeFromItem=function(t){var e=l[t.data("index")],i=t.data("item"),n=e.content?e.content(i):i;return"string"==typeof n&&(n=dom.createText(n)),n},this.createItemTemplates=function(n,t){var r=l[n];return t.map(function(t,e){var i=$('<div class="note-hint-item"/>');return i.append(r.template?r.template(t):t+""),i.data({index:n,item:t}),0===n&&0===e&&i.addClass("active"),i})},this.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===key.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===key.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===key.code.DOWN&&(t.preventDefault(),this.moveDown()))},this.searchKeyword=function(t,e,i){var n=l[t];if(n&&n.match.test(e)&&n.search){var r=n.match.exec(e);n.search(r[1],i)}else i()},this.createGroup=function(e,t){var i=$('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,t,function(t){t=t||[],t.length&&(i.html(s.createItemTemplates(e,t)),s.show())}),i},this.handleKeyup=function(t){if(list.contains([key.code.ENTER,key.code.UP,key.code.DOWN],t.keyCode)){if(t.keyCode===key.code.ENTER&&this.$popover.is(":visible"))return}else{var e=r.invoke("editor.createRange").getWordRange(),i=e.toString();if(l.length&&i){this.$content.empty();var n=func.rect2bnd(list.last(e.getClientRects()));n&&(this.$popover.hide(),this.lastWordRange=e,l.forEach(function(t,e){t.match.test(i)&&s.createGroup(e,i).appendTo(s.$content)}),"top"===a?this.$popover.css({left:n.left,top:n.top-this.$popover.outerHeight()-o}):this.$popover.css({left:n.left,top:n.top+n.height+o}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};$.summernote=$.extend($.summernote,{version:"0.8.2",ui:ui,dom:dom,plugins:{},options:{modules:{editor:Editor,clipboard:Clipboard,dropzone:Dropzone,codeview:Codeview,statusbar:Statusbar,fullscreen:Fullscreen,handle:Handle,hintPopover:HintPopover,autoLink:AutoLink,autoSync:AutoSync,placeholder:Placeholder,buttons:Buttons,toolbar:Toolbar,linkDialog:LinkDialog,linkPopover:LinkPopover,imageDialog:ImageDialog,imagePopover:ImagePopover,videoDialog:VideoDialog,helpDialog:HelpDialog,airPopover:AirPopover},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})});(function(t){var e="0.3.4",d="hasOwnProperty",f=/[\.\/]/,p="*",o=function(){},m=function(t,e){return t-e},v,y,b={n:{}},w=function(t,e){var i=b,n=y,r=Array.prototype.slice.call(arguments,2),s=w.listeners(t),o=0,a=!1,l,h=[],u={},c=[],d=v,f=[];v=t,y=0;for(var p=0,g=s.length;p<g;p++)"zIndex"in s[p]&&(h.push(s[p].zIndex),s[p].zIndex<0&&(u[s[p].zIndex]=s[p]));h.sort(m);while(h[o]<0){l=u[h[o++]],c.push(l.apply(e,r));if(y){y=n;return c}}for(p=0;p<g;p++){l=s[p];if("zIndex"in l)if(l.zIndex==h[o]){c.push(l.apply(e,r));if(y)break;do{o++,l=u[h[o]],l&&c.push(l.apply(e,r));if(y)break}while(l)}else u[l.zIndex]=l;else{c.push(l.apply(e,r));if(y)break}}y=n,v=d;return c.length?c:null};w.listeners=function(t){var e=t.split(f),i=b,n,r,s,o,a,l,h,u,c=[i],d=[];for(o=0,a=e.length;o<a;o++){u=[];for(l=0,h=c.length;l<h;l++){i=c[l].n,r=[i[e[o]],i[p]],s=2;while(s--)n=r[s],n&&(u.push(n),d=d.concat(n.f||[]))}c=u}return d},w.on=function(t,e){var i=t.split(f),n=b;for(var r=0,s=i.length;r<s;r++)n=n.n,!n[i[r]]&&(n[i[r]]={n:{}}),n=n[i[r]];n.f=n.f||[];for(r=0,s=n.f.length;r<s;r++)if(n.f[r]==e)return o;n.f.push(e);return function(t){+t==+t&&(e.zIndex=+t)}},w.stop=function(){y=1},w.nt=function(t){if(t)return new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(v);return v},w.off=w.unbind=function(t,e){var i=t.split(f),n,r,s,o,a,l,h,u=[b];for(o=0,a=i.length;o<a;o++)for(l=0;l<u.length;l+=s.length-2){s=[l,1],n=u[l].n;if(i[o]!=p)n[i[o]]&&s.push(n[i[o]]);else for(r in n)n[d](r)&&s.push(n[r]);u.splice.apply(u,s)}for(o=0,a=u.length;o<a;o++){n=u[o];while(n.n){if(e){if(n.f){for(l=0,h=n.f.length;l<h;l++)if(n.f[l]==e){n.f.splice(l,1);break}!n.f.length&&delete n.f}for(r in n.n)if(n.n[d](r)&&n.n[r].f){var c=n.n[r].f;for(l=0,h=c.length;l<h;l++)if(c[l]==e){c.splice(l,1);break}!c.length&&delete n.n[r].f}}else{delete n.f;for(r in n.n)n.n[d](r)&&n.n[r].f&&delete n.n[r].f}n=n.n}}},w.once=function(e,i){var n=function(){var t=i.apply(this,arguments);w.unbind(e,n);return t};return w.on(e,n)},w.version=e,w.toString=function(){return"You are running Eve "+e},typeof module!="undefined"&&module.exports?module.exports=w:typeof define!="undefined"?define("eve",[],function(){return w}):t.eve=w})(this),function(){function t(t){for(var e=0;e<Me.length;e++)Me[e].el.paper==t&&Me.splice(e--,1)}function C(t,e,i,n,r,s){i=lt(i);var o,a,l,h=[],u,c,d,f=t.ms,p={},g={},m={};if(n)for(y=0,b=Me.length;y<b;y++){var v=Me[y];if(v.el.id==e.id&&v.anim==t){v.percent!=i?(Me.splice(y,1),l=1):a=v,e.attr(v.totalOrigin);break}}else n=+g;for(var y=0,b=t.percents.length;y<b;y++){if(t.percents[y]==i||t.percents[y]>n*t.top){i=t.percents[y],c=t.percents[y-1]||0,f=f/t.top*(i-c),u=t.percents[y+1],o=t.anim[i];break}n&&e.attr(t.anim[t.percents[y]])}if(!!o){if(!a){for(var w in o)if(o[N](w))if(dt[N](w)||e.paper.customAttributes[N](w)){p[w]=e.attr(w),p[w]==null&&(p[w]=ct[w]),g[w]=o[w];switch(dt[w]){case W:m[w]=(g[w]-p[w])/f;break;case"colour":p[w]=$.getRGB(p[w]);var x=$.getRGB(g[w]);m[w]={r:(x.r-p[w].r)/f,g:(x.g-p[w].g)/f,b:(x.b-p[w].b)/f};break;case"path":var _=Kt(p[w],g[w]),C=_[1];p[w]=_[0],m[w]=[];for(y=0,b=p[w].length;y<b;y++){m[w][y]=[0];for(var k=1,S=p[w][y].length;k<S;k++)m[w][y][k]=(C[y][k]-p[w][y][k])/f}break;case"transform":var T=e._,D=ae(T[w],g[w]);if(D){p[w]=D.from,g[w]=D.to,m[w]=[],m[w].real=!0;for(y=0,b=p[w].length;y<b;y++){m[w][y]=[p[w][y][0]];for(k=1,S=p[w][y].length;k<S;k++)m[w][y][k]=(g[w][y][k]-p[w][y][k])/f}}else{var M=e.matrix||new F,P={_:{transform:T.transform},getBBox:function(){return e.getBBox(1)}};p[w]=[M.a,M.b,M.c,M.d,M.e,M.f],se(P,g[w]),g[w]=P._.transform,m[w]=[(P.matrix.a-M.a)/f,(P.matrix.b-M.b)/f,(P.matrix.c-M.c)/f,(P.matrix.d-M.d)/f,(P.matrix.e-M.e)/f,(P.matrix.f-M.f)/f]}break;case"csv":var E=O(o[w])[V](z),I=O(p[w])[V](z);if(w=="clip-rect"){p[w]=I,m[w]=[],y=I.length;while(y--)m[w][y]=(E[y]-p[w][y])/f}g[w]=E;break;default:E=[][U](o[w]),I=[][U](p[w]),m[w]=[],y=e.paper.customAttributes[w].length;while(y--)m[w][y]=((E[y]||0)-(I[y]||0))/f}}var A=o.easing,H=$.easing_formulas[A];if(!H){H=O(A).match(st);if(H&&H.length==5){var R=H;H=function(t){return L(t,+R[1],+R[2],+R[3],+R[4],f)}}else H=St}d=o.start||t.start||+new Date,v={anim:t,percent:i,timestamp:d,start:d+(t.del||0),status:0,initstatus:n||0,stop:!1,ms:f,easing:H,from:p,diff:m,to:g,el:e,callback:o.callback,prev:c,next:u,repeat:s||t.times,origin:e.attr(),totalOrigin:r},Me.push(v);if(n&&!a&&!l){v.stop=!0,v.start=new Date-f*n;if(Me.length==1)return Ee()}l&&(v.start=new Date-v.ms*n),Me.length==1&&Pe(Ee)}else a.initstatus=n,a.start=new Date-a.ms*n;eve("raphael.anim.start."+e.id,e,t)}}function d(t,e){var i=[],n={};this.ms=e,this.times=1;if(t){for(var r in t)t[N](r)&&(n[lt(r)]=t[r],i.push(lt(r)));i.sort(Ct)}this.anim=n,this.top=i[i.length-1],this.percents=i}function L(t,e,i,n,r,s){function o(t,e){var i,n,r,s,o,a;for(r=t,a=0;a<8;a++){s=l(r)-t;if(X(s)<e)return r;o=(3*c*r+2*u)*r+h;if(X(o)<1e-6)break;r=r-s/o}i=0,n=1,r=t;if(r<i)return i;if(r>n)return n;while(i<n){s=l(r);if(X(s-t)<e)return r;t>s?i=r:n=r,r=(n-i)/2+i}return r}function a(t,e){var i=o(t,e);return((p*i+f)*i+d)*i}function l(t){return((c*t+u)*t+h)*t}var h=3*e,u=3*(n-e)-h,c=1-h-u,d=3*i,f=3*(r-i)-d,p=1-d-f;return a(t,1/(200*s))}function i(){return this.x+P+this.y+P+this.width+"  "+this.height}function e(){return this.x+P+this.y}function F(t,e,i,n,r,s){t!=null?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function r(t,e,i){t=$._path2curve(t),e=$._path2curve(e);var n,r,s,o,a,l,h,u,c,d,f=i?0:[];for(var p=0,g=t.length;p<g;p++){var m=t[p];if(m[0]=="M")n=a=m[1],r=l=m[2];else{m[0]=="C"?(c=[n,r].concat(m.slice(1)),n=c[6],r=c[7]):(c=[n,r,n,r,a,l,a,l],n=a,r=l);for(var v=0,y=e.length;v<y;v++){var b=e[v];if(b[0]=="M")s=h=b[1],o=u=b[2];else{b[0]=="C"?(d=[s,o].concat(b.slice(1)),s=d[6],o=d[7]):(d=[s,o,s,o,h,u,h,u],s=h,o=u);var w=k(c,d,i);if(i)f+=w;else{for(var x=0,_=w.length;x<_;x++)w[x].segment1=p,w[x].segment2=v,w[x].bez1=c,w[x].bez2=d;f=f.concat(w)}}}}}return f}function k(t,e,i){var n=$.bezierBBox(t),r=$.bezierBBox(e);if(!$.isBBoxIntersect(n,r))return i?0:[];var s=T.apply(0,t),o=T.apply(0,e),a=~~(s/5),l=~~(o/5),h=[],u=[],c={},d=i?0:[];for(var f=0;f<a+1;f++){var p=$.findDotsAtSegment.apply($,t.concat(f/a));h.push({x:p.x,y:p.y,t:f/a})}for(f=0;f<l+1;f++)p=$.findDotsAtSegment.apply($,e.concat(f/l)),u.push({x:p.x,y:p.y,t:f/l});for(f=0;f<a;f++)for(var g=0;g<l;g++){var m=h[f],v=h[f+1],y=u[g],b=u[g+1],w=X(v.x-m.x)<.001?"y":"x",x=X(b.x-y.x)<.001?"y":"x",_=S(m.x,m.y,v.x,v.y,y.x,y.y,b.x,b.y);if(_){if(c[_.x.toFixed(4)]==_.y.toFixed(4))continue;c[_.x.toFixed(4)]=_.y.toFixed(4);var C=m.t+X((_[w]-m[w])/(v[w]-m[w]))*(v.t-m.t),k=y.t+X((_[x]-y[x])/(b[x]-y[x]))*(b.t-y.t);C>=0&&C<=1&&k>=0&&k<=1&&(i?d++:d.push({x:_.x,y:_.y,t1:C,t2:k}))}}return d}function n(t,e){return k(t,e,1)}function s(t,e){return k(t,e)}function S(t,e,i,n,r,s,o,a){if(!(H(t,i)<R(r,o)||R(t,i)>H(r,o)||H(e,n)<R(s,a)||R(e,n)>H(s,a))){var l=(t*n-e*i)*(r-o)-(t-i)*(r*a-s*o),h=(t*n-e*i)*(s-a)-(e-n)*(r*a-s*o),u=(t-i)*(s-a)-(e-n)*(r-o);if(!u)return;var c=l/u,d=h/u,f=+c.toFixed(2),p=+d.toFixed(2);if(f<+R(t,i).toFixed(2)||f>+H(t,i).toFixed(2)||f<+R(r,o).toFixed(2)||f>+H(r,o).toFixed(2)||p<+R(e,n).toFixed(2)||p>+H(e,n).toFixed(2)||p<+R(s,a).toFixed(2)||p>+H(s,a).toFixed(2))return;return{x:c,y:d}}}function h(t,e,i,n,r,s,o,a,l){if(!(l<0||T(t,e,i,n,r,s,o,a)<l)){var h=1,u=h/2,c=h-u,d,f=.01;d=T(t,e,i,n,r,s,o,a,c);while(X(d-l)>f)u/=2,c+=(d<l?1:-1)*u,d=T(t,e,i,n,r,s,o,a,c);return c}}function T(t,e,i,n,r,s,o,a,l){l==null&&(l=1),l=l>1?1:l<0?0:l;var h=l/2,u=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0;for(var p=0;p<u;p++){var g=h*c[p]+h,m=b(g,t,i,r,o),v=b(g,e,n,s,a),y=m*m+v*v;f+=d[p]*G.sqrt(y)}return h*f}function b(t,e,i,n,r){var s=-3*e+9*i-9*n+3*r,o=t*s+6*e-12*i+6*n;return t*o-3*e+3*i}function y(t,e){var i=[];for(var n=0,r=t.length;r-2*!e>n;n+=2){var s=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?s[3]={x:+t[0],y:+t[1]}:r-2==n&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?s[3]=s[2]:n||(s[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return i}function u(){return this.hex}function Y(r,s,o){function a(){var t=Array.prototype.slice.call(arguments,0),e=t.join(""),i=a.cache=a.cache||{},n=a.count=a.count||[];if(i[N](e)){l(n,e);return o?o(i[e]):i[e]}n.length>=1e3&&delete i[n.shift()],n.push(e),i[e]=r[_](s,t);return o?o(i[e]):i[e]}return a}function l(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function g(t){if(Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[N](i)&&(e[i]=g(t[i]));return e}function $(t){if($.is(t,"function"))return o?t():eve.on("raphael.DOMload",t);if($.is(t,q))return $._engine.create[_]($,t.splice(0,3+$.is(t[0],W))).add(t);var e=Array.prototype.slice.call(arguments,0);if($.is(e[e.length-1],"function")){var i=e.pop();return o?i.call($._engine.create[_]($,e)):eve.on("raphael.DOMload",function(){i.call($._engine.create[_]($,e))})}return $._engine.create[_]($,arguments)}$.version="2.1.0",$.eve=eve;var o,z=/[, ]+/,a={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},c=/\{(\d+)\}/g,f="prototype",N="hasOwnProperty",p={doc:document,win:window},m={was:Object.prototype[N].call(p.win,"Raphael"),is:p.win.Raphael},v=function(){this.ca=this.customAttributes={}},w,x="appendChild",_="apply",U="concat",D="createTouch"in p.doc,M="",P=" ",O=String,V="split",E="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[V](P),I={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},A=O.prototype.toLowerCase,G=Math,H=G.max,R=G.min,X=G.abs,B=G.pow,K=G.PI,W="number",j="string",q="array",Q="toString",Z="fill",J=Object.prototype.toString,tt={},et="push",it=$._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,nt=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,rt={NaN:1,Infinity:1,"-Infinity":1},st=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,ot=G.round,at="setAttribute",lt=parseFloat,ht=parseInt,ut=O.prototype.toUpperCase,ct=$._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},dt=$._availableAnimAttrs={blur:W,"clip-rect":"csv",cx:W,cy:W,fill:"colour","fill-opacity":W,"font-size":W,height:W,opacity:W,path:"path",r:W,rx:W,ry:W,stroke:"colour","stroke-opacity":W,"stroke-width":W,transform:"transform",width:W,x:W,y:W},ft=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,pt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,gt={hs:1,rg:1},mt=/,?([achlmqrstvxz]),?/gi,vt=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,yt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,bt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,wt=$._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,xt={},_t=function(t,e){return t.key-e.key},Ct=function(t,e){return lt(t)-lt(e)},kt=function(){},St=function(t){return t},Tt=$._rectPath=function(t,e,i,n,r){if(r)return[["M",t+r,e],["l",i-r*2,0],["a",r,r,0,0,1,r,r],["l",0,n-r*2],["a",r,r,0,0,1,-r,r],["l",r*2-i,0],["a",r,r,0,0,1,-r,-r],["l",0,r*2-n],["a",r,r,0,0,1,r,-r],["z"]];return[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},Dt=function(t,e,i,n){n==null&&(n=i);return[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},Mt=$._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return Dt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return Dt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return Tt(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return Tt(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return Tt(e.x,e.y,e.width,e.height)}},Pt=$.mapPath=function(t,e){if(!e)return t;var i,n,r,s,o,a,l;t=Kt(t);for(r=0,o=t.length;r<o;r++){l=t[r];for(s=1,a=l.length;s<a;s+=2)i=e.x(l[s],l[s+1]),n=e.y(l[s],l[s+1]),l[s]=i,l[s+1]=n}return t};$._g=p,$.type=p.win.SVGAngle||p.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if($.type=="VML"){var Et=p.doc.createElement("div"),It;Et.innerHTML='<v:shape adj="1"/>',It=Et.firstChild,It.style.behavior="url(#default#VML)";if(!It||typeof It.adj!="object")return $.type=M;Et=null}$.svg=!($.vml=$.type=="VML"),$._Paper=v,$.fn=w=v.prototype=$.prototype,$._id=0,$._oid=0,$.is=function(t,e){e=A.call(e);if(e=="finite")return!rt[N](+t);if(e=="array")return t instanceof Array;return e=="null"&&t===null||e==typeof t&&t!==null||e=="object"&&t===Object(t)||e=="array"&&Array.isArray&&Array.isArray(t)||J.call(t).slice(8,-1).toLowerCase()==e},$.angle=function(t,e,i,n,r,s){if(r==null){var o=t-i,a=e-n;if(!o&&!a)return 0;return(180+G.atan2(-a,-o)*180/K+360)%360}return $.angle(t,e,r,s)-$.angle(i,n,r,s)},$.rad=function(t){return t%360*K/180},$.deg=function(t){return t*180/K%360},$.snapTo=function(t,e,i){i=$.is(i,"finite")?i:10;if($.is(t,q)){var n=t.length;while(n--)if(X(t[n]-e)<=i)return t[n]}else{t=+t;var r=e%t;if(r<i)return e-r;if(r>t-i)return e-r+t}return e};var At=$.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=G.random()*16|0,i=t=="x"?e:e&3|8;return i.toString(16)});$.setWindow=function(t){eve("raphael.setWindow",$,p.win,t),p.win=t,p.doc=p.win.document,$._engine.initWin&&$._engine.initWin(p.win)};var Ht=function(t){if($.vml){var i=/^\s+|\s+$/g,n;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),n=e.body}catch(t){n=createPopup().document.body}var r=n.createTextRange();Ht=Y(function(t){try{n.style.color=O(t).replace(i,M);var e=r.queryCommandValue("ForeColor");e=(e&255)<<16|e&65280|(e&16711680)>>>16;return"#"+("000000"+e.toString(16)).slice(-6)}catch(t){return"none"}})}else{var s=p.doc.createElement("i");s.title="Raphal Colour Picker",s.style.display="none",p.doc.body.appendChild(s),Ht=Y(function(t){s.style.color=t;return p.doc.defaultView.getComputedStyle(s,M).getPropertyValue("color")})}return Ht(t)},Rt=function(){return"hsb("+[this.h,this.s,this.b]+")"},Lt=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ft=function(){return this.hex},$t=function(t,e,i){e==null&&$.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,e=t.g,t=t.r);if(e==null&&$.is(t,j)){var n=$.getRGB(t);t=n.r,e=n.g,i=n.b}if(t>1||e>1||i>1)t/=255,e/=255,i/=255;return[t,e,i]},zt=function(t,e,i,n){t*=255,e*=255,i*=255;var r={r:t,g:e,b:i,hex:$.rgb(t,e,i),toString:Ft};$.is(n,"finite")&&(r.opacity=n);return r};$.color=function(t){var e;$.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=$.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):$.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=$.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):($.is(t,"string")&&(t=$.getRGB(t)),$.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=$.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=$.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=Ft;return t},$.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,n=t.o),t*=360;var r,s,o,a,l;t=t%360/60,l=i*e,a=l*(1-X(t%2-1)),r=s=o=i-l,t=~~t,r+=[l,a,0,0,a,l][t],s+=[a,l,l,a,0,0][t],o+=[0,0,a,l,l,a][t];return zt(r,s,o,n)},$.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h);if(t>1||e>1||i>1)t/=360,e/=100,i/=100;t*=360;var r,s,o,a,l;t=t%360/60,l=2*e*(i<.5?i:1-i),a=l*(1-X(t%2-1)),r=s=o=i-l/2,t=~~t,r+=[l,a,0,0,a,l][t],s+=[a,l,l,a,0,0][t],o+=[0,0,a,l,l,a][t];return zt(r,s,o,n)},$.rgb2hsb=function(t,e,i){i=$t(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,s,o;s=H(t,e,i),o=s-R(t,e,i),n=o==0?null:s==t?(e-i)/o:s==e?(i-t)/o+2:(t-e)/o+4,n=(n+360)%6*60/360,r=o==0?0:o/s;return{h:n,s:r,b:s,toString:Rt}},$.rgb2hsl=function(t,e,i){i=$t(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,s,o,a,l;o=H(t,e,i),a=R(t,e,i),l=o-a,n=l==0?null:o==t?(e-i)/l:o==e?(i-t)/l+2:(t-e)/l+4,n=(n+360)%6*60/360,s=(o+a)/2,r=l==0?0:s<.5?l/(2*s):l/(2-2*s);return{h:n,s:r,l:s,toString:Lt}},$._path2string=function(){return this.join(",").replace(mt,"$1")};var Nt=$._preload=function(t,e){var i=p.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,p.doc.body.removeChild(this)},i.onerror=function(){p.doc.body.removeChild(this)},p.doc.body.appendChild(i),i.src=t};$.getRGB=Y(function(t){if(!t||!!((t=O(t)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:u};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:u};!gt[N](t.toLowerCase().substring(0,2))&&t.charAt()!="#"&&(t=Ht(t));var e,i,n,r,s,o,a,l=t.match(nt);if(l){l[2]&&(r=ht(l[2].substring(5),16),n=ht(l[2].substring(3,5),16),i=ht(l[2].substring(1,3),16)),l[3]&&(r=ht((o=l[3].charAt(3))+o,16),n=ht((o=l[3].charAt(2))+o,16),i=ht((o=l[3].charAt(1))+o,16)),l[4]&&(a=l[4][V](pt),i=lt(a[0]),a[0].slice(-1)=="%"&&(i*=2.55),n=lt(a[1]),a[1].slice(-1)=="%"&&(n*=2.55),r=lt(a[2]),a[2].slice(-1)=="%"&&(r*=2.55),l[1].toLowerCase().slice(0,4)=="rgba"&&(s=lt(a[3])),a[3]&&a[3].slice(-1)=="%"&&(s/=100));if(l[5]){a=l[5][V](pt),i=lt(a[0]),a[0].slice(-1)=="%"&&(i*=2.55),n=lt(a[1]),a[1].slice(-1)=="%"&&(n*=2.55),r=lt(a[2]),a[2].slice(-1)=="%"&&(r*=2.55),(a[0].slice(-3)=="deg"||a[0].slice(-1)=="")&&(i/=360),l[1].toLowerCase().slice(0,4)=="hsba"&&(s=lt(a[3])),a[3]&&a[3].slice(-1)=="%"&&(s/=100);return $.hsb2rgb(i,n,r,s)}if(l[6]){a=l[6][V](pt),i=lt(a[0]),a[0].slice(-1)=="%"&&(i*=2.55),n=lt(a[1]),a[1].slice(-1)=="%"&&(n*=2.55),r=lt(a[2]),a[2].slice(-1)=="%"&&(r*=2.55),(a[0].slice(-3)=="deg"||a[0].slice(-1)=="")&&(i/=360),l[1].toLowerCase().slice(0,4)=="hsla"&&(s=lt(a[3])),a[3]&&a[3].slice(-1)=="%"&&(s/=100);return $.hsl2rgb(i,n,r,s)}l={r:i,g:n,b:r,toString:u},l.hex="#"+(16777216|r|n<<8|i<<16).toString(16).slice(1),$.is(s,"finite")&&(l.opacity=s);return l}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:u}},$),$.hsb=Y(function(t,e,i){return $.hsb2rgb(t,e,i).hex}),$.hsl=Y(function(t,e,i){return $.hsl2rgb(t,e,i).hex}),$.rgb=Y(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),$.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b}));return i.hex},$.getColor.reset=function(){delete this.start},$.parsePathString=function(t){if(!t)return null;var e=Ot(t);if(e.arr)return Wt(e.arr);var s={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},o=[];$.is(t,q)&&$.is(t[0],q)&&(o=Wt(t)),o.length||O(t).replace(vt,function(t,e,i){var n=[],r=e.toLowerCase();i.replace(bt,function(t,e){e&&n.push(+e)}),r=="m"&&n.length>2&&(o.push([e][U](n.splice(0,2))),r="l",e=e=="m"?"l":"L");if(r=="r")o.push([e][U](n));else while(n.length>=s[r]){o.push([e][U](n.splice(0,s[r])));if(!s[r])break}}),o.toString=$._path2string,e.arr=Wt(o);return o},$.parseTransformString=Y(function(t){if(!t)return null;var e={r:3,s:4,t:2,m:6},s=[];$.is(t,q)&&$.is(t[0],q)&&(s=Wt(t)),s.length||O(t).replace(yt,function(t,e,i){var n=[],r=A.call(e);i.replace(bt,function(t,e){e&&n.push(+e)}),s.push([e][U](n))}),s.toString=$._path2string;return s});var Ot=function(e){var i=Ot.ps=Ot.ps||{};i[e]?i[e].sleep=100:i[e]={sleep:100},setTimeout(function(){for(var t in i)i[N](t)&&t!=e&&(i[t].sleep--,!i[t].sleep&&delete i[t])});return i[e]};$.findDotsAtSegment=function(t,e,i,n,r,s,o,a,l){var h=1-l,u=B(h,3),c=B(h,2),d=l*l,f=d*l,p=u*t+c*3*l*i+h*3*l*l*r+f*o,g=u*e+c*3*l*n+h*3*l*l*s+f*a,m=t+2*l*(i-t)+d*(r-2*i+t),v=e+2*l*(n-e)+d*(s-2*n+e),y=i+2*l*(r-i)+d*(o-2*r+i),b=n+2*l*(s-n)+d*(a-2*s+n),w=h*t+l*i,x=h*e+l*n,_=h*r+l*o,C=h*s+l*a,k=90-G.atan2(m-y,v-b)*180/K;(m>y||v<b)&&(k+=180);return{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:w,y:x},end:{x:_,y:C},alpha:k}},$.bezierBBox=function(t,e,i,n,r,s,o,a){$.is(t,"array")||(t=[t,e,i,n,r,s,o,a]);var l=Xt.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},$.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},$.isBBoxIntersect=function(t,e){var i=$.isPointInsideBBox;return i(e,t.x,t.y)||i(e,t.x2,t.y)||i(e,t.x,t.y2)||i(e,t.x2,t.y2)||i(t,e.x,e.y)||i(t,e.x2,e.y)||i(t,e.x,e.y2)||i(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},$.pathIntersection=function(t,e){return r(t,e)},$.pathIntersectionNumber=function(t,e){return r(t,e,1)},$.isPointInsidePath=function(t,e,i){var n=$.pathBBox(t);return $.isPointInsideBBox(n,e,i)&&r(t,[["M",e,i],["H",n.x2+10]],1)%2==1},$._removedFactory=function(t){return function(){eve("raphael.log",null,"Raphal: you are calling to method "+t+" of removed object",t)}};var Bt=$.pathBBox=function(t){var e=Ot(t);if(e.bbox)return e.bbox;if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Kt(t);var i=0,n=0,r=[],s=[],o;for(var a=0,l=t.length;a<l;a++){o=t[a];if(o[0]=="M")i=o[1],n=o[2],r.push(i),s.push(n);else{var h=Xt(i,n,o[1],o[2],o[3],o[4],o[5],o[6]);r=r[U](h.min.x,h.max.x),s=s[U](h.min.y,h.max.y),i=o[5],n=o[6]}}var u=R[_](0,r),c=R[_](0,s),d=H[_](0,r),f=H[_](0,s),p={x:u,y:c,x2:d,y2:f,width:d-u,height:f-c};e.bbox=g(p);return p},Wt=function(t){var e=g(t);e.toString=$._path2string;return e},jt=$._pathToRelative=function(t){var e=Ot(t);if(e.rel)return Wt(e.rel);if(!$.is(t,q)||!$.is(t&&t[0],q))t=$.parsePathString(t);var i=[],n=0,r=0,s=0,o=0,a=0;t[0][0]=="M"&&(n=t[0][1],r=t[0][2],s=n,o=r,a++,i.push(["M",n,r]));for(var l=a,h=t.length;l<h;l++){var u=i[l]=[],c=t[l];if(c[0]!=A.call(c[0])){u[0]=A.call(c[0]);switch(u[0]){case"a":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]-n).toFixed(3),u[7]=+(c[7]-r).toFixed(3);break;case"v":u[1]=+(c[1]-r).toFixed(3);break;case"m":s=c[1],o=c[2];default:for(var d=1,f=c.length;d<f;d++)u[d]=+(c[d]-(d%2?n:r)).toFixed(3)}}else{u=i[l]=[],c[0]=="m"&&(s=c[1]+n,o=c[2]+r);for(var p=0,g=c.length;p<g;p++)i[l][p]=c[p]}var m=i[l].length;switch(i[l][0]){case"z":n=s,r=o;break;case"h":n+=+i[l][m-1];break;case"v":r+=+i[l][m-1];break;default:n+=+i[l][m-2],r+=+i[l][m-1]}}i.toString=$._path2string,e.rel=Wt(i);return i},qt=$._pathToAbsolute=function(t){var e=Ot(t);if(e.abs)return Wt(e.abs);if(!$.is(t,q)||!$.is(t&&t[0],q))t=$.parsePathString(t);if(!t||!t.length)return[["M",0,0]];var i=[],n=0,r=0,s=0,o=0,a=0;t[0][0]=="M"&&(n=+t[0][1],r=+t[0][2],s=n,o=r,a++,i[0]=["M",n,r]);var l=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z";for(var h,u,c=a,d=t.length;c<d;c++){i.push(h=[]),u=t[c];if(u[0]!=ut.call(u[0])){h[0]=ut.call(u[0]);switch(h[0]){case"A":h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=+(u[6]+n),h[7]=+(u[7]+r);break;case"V":h[1]=+u[1]+r;break;case"H":h[1]=+u[1]+n;break;case"R":var f=[n,r][U](u.slice(1));for(var p=2,g=f.length;p<g;p++)f[p]=+f[p]+n,f[++p]=+f[p]+r;i.pop(),i=i[U](y(f,l));break;case"M":s=+u[1]+n,o=+u[2]+r;default:for(p=1,g=u.length;p<g;p++)h[p]=+u[p]+(p%2?n:r)}}else if(u[0]=="R")f=[n,r][U](u.slice(1)),i.pop(),i=i[U](y(f,l)),h=["R"][U](u.slice(-2));else for(var m=0,v=u.length;m<v;m++)h[m]=u[m];switch(h[0]){case"Z":n=s,r=o;break;case"H":n=h[1];break;case"V":r=h[1];break;case"M":s=h[h.length-2],o=h[h.length-1];default:n=h[h.length-2],r=h[h.length-1]}}i.toString=$._path2string,e.abs=Wt(i);return i},Yt=function(t,e,i,n){return[t,e,i,n,i,n]},Ut=function(t,e,i,n,r,s){var o=1/3,a=2/3;return[o*t+a*i,o*e+a*n,o*r+a*i,o*s+a*n,r,s]},Vt=function(t,e,i,n,r,s,o,a,l,h){var u=K*120/180,c=K/180*(+r||0),d=[],f,p=Y(function(t,e,i){var n=t*G.cos(i)-e*G.sin(i),r=t*G.sin(i)+e*G.cos(i);return{x:n,y:r}});if(!h){f=p(t,e,-c),t=f.x,e=f.y,f=p(a,l,-c),a=f.x,l=f.y;var g=G.cos(K/180*r),m=G.sin(K/180*r),v=(t-a)/2,y=(e-l)/2,b=v*v/(i*i)+y*y/(n*n);b>1&&(b=G.sqrt(b),i=b*i,n=b*n);var w=i*i,x=n*n,_=(s==o?-1:1)*G.sqrt(X((w*x-w*y*y-x*v*v)/(w*y*y+x*v*v))),C=_*i*y/n+(t+a)/2,k=_*-n*v/i+(e+l)/2,S=G.asin(((e-k)/n).toFixed(9)),T=G.asin(((l-k)/n).toFixed(9));S=t<C?K-S:S,T=a<C?K-T:T,S<0&&(S=K*2+S),T<0&&(T=K*2+T),o&&S>T&&(S=S-K*2),!o&&T>S&&(T=T-K*2)}else S=h[0],T=h[1],C=h[2],k=h[3];var D=T-S;if(X(D)>u){var M=T,P=a,E=l;T=S+u*(o&&T>S?1:-1),a=C+i*G.cos(T),l=k+n*G.sin(T),d=Vt(a,l,i,n,r,0,o,P,E,[T,M,C,k])}D=T-S;var I=G.cos(S),A=G.sin(S),H=G.cos(T),R=G.sin(T),L=G.tan(D/4),F=4/3*i*L,$=4/3*n*L,z=[t,e],N=[t+F*A,e-$*I],O=[a+F*R,l-$*H],B=[a,l];N[0]=2*z[0]-N[0],N[1]=2*z[1]-N[1];if(h)return[N,O,B][U](d);d=[N,O,B][U](d).join()[V](",");var W=[];for(var j=0,q=d.length;j<q;j++)W[j]=j%2?p(d[j-1],d[j],c).y:p(d[j],d[j+1],c).x;return W},Gt=function(t,e,i,n,r,s,o,a,l){var h=1-l;return{x:B(h,3)*t+B(h,2)*3*l*i+h*3*l*l*r+B(l,3)*o,y:B(h,3)*e+B(h,2)*3*l*n+h*3*l*l*s+B(l,3)*a}},Xt=Y(function(t,e,i,n,r,s,o,a){var l=r-2*i+t-(o-2*r+i),h=2*(i-t)-2*(r-i),u=t-i,c=(-h+G.sqrt(h*h-4*l*u))/2/l,d=(-h-G.sqrt(h*h-4*l*u))/2/l,f=[e,a],p=[t,o],g;X(c)>"1e12"&&(c=.5),X(d)>"1e12"&&(d=.5),c>0&&c<1&&(g=Gt(t,e,i,n,r,s,o,a,c),p.push(g.x),f.push(g.y)),d>0&&d<1&&(g=Gt(t,e,i,n,r,s,o,a,d),p.push(g.x),f.push(g.y)),l=s-2*n+e-(a-2*s+n),h=2*(n-e)-2*(s-n),u=e-n,c=(-h+G.sqrt(h*h-4*l*u))/2/l,d=(-h-G.sqrt(h*h-4*l*u))/2/l,X(c)>"1e12"&&(c=.5),X(d)>"1e12"&&(d=.5),c>0&&c<1&&(g=Gt(t,e,i,n,r,s,o,a,c),p.push(g.x),f.push(g.y)),d>0&&d<1&&(g=Gt(t,e,i,n,r,s,o,a,d),p.push(g.x),f.push(g.y));return{min:{x:R[_](0,p),y:R[_](0,f)},max:{x:H[_](0,p),y:H[_](0,f)}}}),Kt=$._path2curve=Y(function(t,e){var i=!e&&Ot(t);if(!e&&i.curve)return Wt(i.curve);var s=qt(t),o=e&&qt(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(t,e){var i,n;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null);switch(t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][U](Vt[_](0,[e.x,e.y][U](t.slice(1))));break;case"S":i=e.x+(e.x-(e.bx||e.x)),n=e.y+(e.y-(e.by||e.y)),t=["C",i,n][U](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][U](Ut(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][U](Ut(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][U](Yt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][U](Yt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][U](Yt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][U](Yt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();var i=t[e];while(i.length)t.splice(e++,0,["C"][U](i.splice(0,6)));t.splice(e,1),c=H(s.length,o&&o.length||0)}},h=function(t,e,i,n,r){t&&e&&t[r][0]=="M"&&e[r][0]!="M"&&(e.splice(r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],c=H(s.length,o&&o.length||0))};for(var u=0,c=H(s.length,o&&o.length||0);u<c;u++){s[u]=a(s[u],n),l(s,u),o&&(o[u]=a(o[u],r)),o&&l(o,u),h(s,o,n,r,u),h(o,s,r,n,u);var d=s[u],f=o&&o[u],p=d.length,g=o&&f.length;n.x=d[p-2],n.y=d[p-1],n.bx=lt(d[p-4])||n.x,n.by=lt(d[p-3])||n.y,r.bx=o&&(lt(f[g-4])||r.x),r.by=o&&(lt(f[g-3])||r.y),r.x=o&&f[g-2],r.y=o&&f[g-1]}o||(i.curve=Wt(s));return o?[s,o]:s},null,Wt),Qt=$._parseDots=Y(function(t){var e=[];for(var i=0,n=t.length;i<n;i++){var r={},s=t[i].match(/^([^:]*):?([\d\.]*)/);r.color=$.getRGB(s[1]);if(r.color.error)return null;r.color=r.color.hex,s[2]&&(r.offset=s[2]+"%"),e.push(r)}for(i=1,n=e.length-1;i<n;i++)if(!e[i].offset){var o=lt(e[i-1].offset||0),a=0;for(var l=i+1;l<n;l++)if(e[l].offset){a=e[l].offset;break}a||(a=100,l=n),a=lt(a);var h=(a-o)/(l-i+1);for(;i<l;i++)o+=h,e[i].offset=o+"%"}return e}),Zt=$._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},Jt=$._tofront=function(t,e){e.top!==t&&(Zt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},te=$._toback=function(t,e){e.bottom!==t&&(Zt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},ee=$._insertafter=function(t,e,i){Zt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},ie=$._insertbefore=function(t,e,i){Zt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},ne=$.toMatrix=function(t,e){var i=Bt(t),n={_:{transform:M},getBBox:function(){return i}};se(n,e);return n.matrix},re=$.transformPath=function(t,e){return Pt(t,ne(t,e))},se=$._extractTransform=function(t,e){if(e==null)return t._.transform;e=O(e).replace(/\.{3}|\u2026/g,t._.transform||M);var i=$.parseTransformString(e),n=0,r=0,s=0,o=1,a=1,l=t._,h=new F;l.transform=i||[];if(i)for(var u=0,c=i.length;u<c;u++){var d=i[u],f=d.length,p=O(d[0]).toLowerCase(),g=d[0]!=p,m=g?h.invert():0,v,y,b,w,x;p=="t"&&f==3?g?(v=m.x(0,0),y=m.y(0,0),b=m.x(d[1],d[2]),w=m.y(d[1],d[2]),h.translate(b-v,w-y)):h.translate(d[1],d[2]):p=="r"?f==2?(x=x||t.getBBox(1),h.rotate(d[1],x.x+x.width/2,x.y+x.height/2),n+=d[1]):f==4&&(g?(b=m.x(d[2],d[3]),w=m.y(d[2],d[3]),h.rotate(d[1],b,w)):h.rotate(d[1],d[2],d[3]),n+=d[1]):p=="s"?f==2||f==3?(x=x||t.getBBox(1),h.scale(d[1],d[f-1],x.x+x.width/2,x.y+x.height/2),o*=d[1],a*=d[f-1]):f==5&&(g?(b=m.x(d[3],d[4]),w=m.y(d[3],d[4]),h.scale(d[1],d[2],b,w)):h.scale(d[1],d[2],d[3],d[4]),o*=d[1],a*=d[2]):p=="m"&&f==7&&h.add(d[1],d[2],d[3],d[4],d[5],d[6]),l.dirtyT=1,t.matrix=h}t.matrix=h,l.sx=o,l.sy=a,l.deg=n,l.dx=r=h.e,l.dy=s=h.f,o==1&&a==1&&!n&&l.bbox?(l.bbox.x+=+r,l.bbox.y+=+s):l.dirtyT=1},oe=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return t.length==4?[e,0,t[2],t[3]]:[e,0];case"s":return t.length==5?[e,1,1,t[3],t[4]]:t.length==3?[e,1,1]:[e,1]}},ae=$._equaliseTransform=function(t,e){e=O(e).replace(/\.{3}|\u2026/g,t),t=$.parseTransformString(t)||[],e=$.parseTransformString(e)||[];var i=H(t.length,e.length),n=[],r=[],s=0,o,a,l,h;for(;s<i;s++){l=t[s]||oe(e[s]),h=e[s]||oe(l);if(l[0]!=h[0]||l[0].toLowerCase()=="r"&&(l[2]!=h[2]||l[3]!=h[3])||l[0].toLowerCase()=="s"&&(l[3]!=h[3]||l[4]!=h[4]))return;n[s]=[],r[s]=[];for(o=0,a=H(l.length,h.length);o<a;o++)o in l&&(n[s][o]=l[o]),o in h&&(r[s][o]=h[o])}return{from:n,to:r}};$._getContainer=function(t,e,i,n){var r;r=n==null&&!$.is(t,"object")?p.doc.getElementById(t):t;if(r!=null){if(r.tagName)return e==null?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:e,height:i};return{container:1,x:t,y:e,width:i,height:n}}},$.pathToRelative=jt,$._engine={},$.path2curve=Kt,$.matrix=function(t,e,i,n,r,s){return new F(t,e,i,n,r,s)},function(t){function r(t){var e=G.sqrt(s(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}function s(t){return t[0]*t[0]+t[1]*t[1]}t.add=function(t,e,i,n,r,s){var o=[[],[],[]],a=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],l=[[t,i,r],[e,n,s],[0,0,1]],h,u,c,d;t&&t instanceof F&&(l=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]);for(h=0;h<3;h++)for(u=0;u<3;u++){d=0;for(c=0;c<3;c++)d+=a[h][c]*l[c][u];o[h][u]=d}this.a=o[0][0],this.b=o[1][0],this.c=o[0][1],this.d=o[1][1],this.e=o[0][2],this.f=o[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new F(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new F(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){e==null&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,e,i){t=$.rad(t),e=e||0,i=i||0;var n=+G.cos(t).toFixed(9),r=+G.sin(t).toFixed(9);this.add(n,r,-r,n,e,i),this.add(1,0,0,1,-e,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[O.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return $.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];t.scalex=G.sqrt(s(e[0])),r(e[0]),t.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*t.shear,e[1][1]-e[0][1]*t.shear],t.scaley=G.sqrt(s(e[1])),r(e[1]),t.shear/=t.scaley;var i=-e[0][1],n=e[1][1];n<0?(t.rotate=$.deg(G.acos(n)),i<0&&(t.rotate=360-t.rotate)):t.rotate=$.deg(G.asin(i)),t.isSimple=!+t.shear.toFixed(9)&&(t.scalex.toFixed(9)==t.scaley.toFixed(9)||!t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate;return t},t.toTransformString=function(t){var e=t||this[V]();if(e.isSimple){e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4);return(e.dx||e.dy?"t"+[e.dx,e.dy]:M)+(e.scalex!=1||e.scaley!=1?"s"+[e.scalex,e.scaley,0,0]:M)+(e.rotate?"r"+[e.rotate,0,0]:M)}return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(F.prototype);var le=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);navigator.vendor=="Apple Computer, Inc."&&(le&&le[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&le&&le[1]<8?w.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:w.safari=kt;var he=function(){this.returnValue=!1},ue=function(){return this.originalEvent.preventDefault()},ce=function(){this.cancelBubble=!0},de=function(){return this.originalEvent.stopPropagation()},fe=function(){if(p.doc.addEventListener)return function(l,h,u,c){var t=D&&I[h]?I[h]:h,e=function(t){var e=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,i=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft,n=t.clientX+i,r=t.clientY+e;if(D&&I[N](h))for(var s=0,o=t.targetTouches&&t.targetTouches.length;s<o;s++)if(t.targetTouches[s].target==l){var a=t;t=t.targetTouches[s],t.originalEvent=a,t.preventDefault=ue,t.stopPropagation=de;break}return u.call(c,t,n,r)};l.addEventListener(t,e,!1);return function(){l.removeEventListener(t,e,!1);return!0}};if(p.doc.attachEvent)return function(t,e,s,o){var i=function(t){t=t||p.win.event;var e=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,i=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft,n=t.clientX+i,r=t.clientY+e;t.preventDefault=t.preventDefault||he,t.stopPropagation=t.stopPropagation||ce;return s.call(o,t,n,r)};t.attachEvent("on"+e,i);var n=function(){t.detachEvent("on"+e,i);return!0};return n}}(),pe=[],ge=function(t){var e=t.clientX,i=t.clientY,n=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,r=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft,s,o=pe.length;while(o--){s=pe[o];if(D){var a=t.touches.length,l;while(a--){l=t.touches[a];if(l.identifier==s.el._drag.id){e=l.clientX,i=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}}else t.preventDefault();var h=s.el.node,u,c=h.nextSibling,d=h.parentNode,f=h.style.display;p.win.opera&&d.removeChild(h),h.style.display="none",u=s.el.paper.getElementByPoint(e,i),h.style.display=f,p.win.opera&&(c?d.insertBefore(h,c):d.appendChild(h)),u&&eve("raphael.drag.over."+s.el.id,s.el,u),e+=r,i+=n,eve("raphael.drag.move."+s.el.id,s.move_scope||s.el,e-s.el._drag.x,i-s.el._drag.y,e,i,t)}},me=function(t){$.unmousemove(ge).unmouseup(me);var e=pe.length,i;while(e--)i=pe[e],i.el._drag={},eve("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,t);pe=[]},ve=$.el={};for(var ye=E.length;ye--;)(function(n){$[n]=ve[n]=function(t,e){$.is(t,"function")&&(this.events=this.events||[],this.events.push({name:n,f:t,unbind:fe(this.shape||this.node||p.doc,n,t,e||this)}));return this},$["un"+n]=ve["un"+n]=function(t){var e=this.events||[],i=e.length;while(i--)if(e[i].name==n&&e[i].f==t){e[i].unbind(),e.splice(i,1),!e.length&&delete this.events;return this}return this}})(E[ye]);ve.data=function(t,e){var i=xt[this.id]=xt[this.id]||{};if(arguments.length==1){if($.is(t,"object")){for(var n in t)t[N](n)&&this.data(n,t[n]);return this}eve("raphael.data.get."+this.id,this,i[t],t);return i[t]}i[t]=e,eve("raphael.data.set."+this.id,this,e,t);return this},ve.removeData=function(t){t==null?xt[this.id]={}:xt[this.id]&&delete xt[this.id][t];return this},ve.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},ve.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var be=[];ve.drag=function(n,r,s,o,a,l){function t(t){(t.originalEvent||t).preventDefault();var e=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,i=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft;this._drag.x=t.clientX+i,this._drag.y=t.clientY+e,this._drag.id=t.identifier,!pe.length&&$.mousemove(ge).mouseup(me),pe.push({el:this,move_scope:o,start_scope:a,end_scope:l}),r&&eve.on("raphael.drag.start."+this.id,r),n&&eve.on("raphael.drag.move."+this.id,n),s&&eve.on("raphael.drag.end."+this.id,s),eve("raphael.drag.start."+this.id,a||o||this,t.clientX+i,t.clientY+e,t)}this._drag={},be.push({el:this,start:t}),this.mousedown(t);return this},ve.onDragOver=function(t){t?eve.on("raphael.drag.over."+this.id,t):eve.unbind("raphael.drag.over."+this.id)},ve.undrag=function(){var t=be.length;while(t--)be[t].el==this&&(this.unmousedown(be[t].start),be.splice(t,1),eve.unbind("raphael.drag.*."+this.id));!be.length&&$.unmousemove(ge).unmouseup(me)},w.circle=function(t,e,i){var n=$._engine.circle(this,t||0,e||0,i||0);this.__set__&&this.__set__.push(n);return n},w.rect=function(t,e,i,n,r){var s=$._engine.rect(this,t||0,e||0,i||0,n||0,r||0);this.__set__&&this.__set__.push(s);return s},w.ellipse=function(t,e,i,n){var r=$._engine.ellipse(this,t||0,e||0,i||0,n||0);this.__set__&&this.__set__.push(r);return r},w.path=function(t){t&&!$.is(t,j)&&!$.is(t[0],q)&&(t+=M);var e=$._engine.path($.format[_]($,arguments),this);this.__set__&&this.__set__.push(e);return e},w.image=function(t,e,i,n,r){var s=$._engine.image(this,t||"about:blank",e||0,i||0,n||0,r||0);this.__set__&&this.__set__.push(s);return s},w.text=function(t,e,i){var n=$._engine.text(this,t||0,e||0,O(i));this.__set__&&this.__set__.push(n);return n},w.set=function(t){!$.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new Ae(t);this.__set__&&this.__set__.push(e);return e},w.setStart=function(t){this.__set__=t||this.set()},w.setFinish=function(t){var e=this.__set__;delete this.__set__;return e},w.setSize=function(t,e){return $._engine.setSize.call(this,t,e)},w.setViewBox=function(t,e,i,n,r){return $._engine.setViewBox.call(this,t,e,i,n,r)},w.top=w.bottom=null,w.raphael=$;var we=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,r=i.documentElement,s=r.clientTop||n.clientTop||0,o=r.clientLeft||n.clientLeft||0,a=e.top+(p.win.pageYOffset||r.scrollTop||n.scrollTop)-s,l=e.left+(p.win.pageXOffset||r.scrollLeft||n.scrollLeft)-o;return{y:a,x:l}};w.getElementByPoint=function(t,e){var i=this,n=i.canvas,r=p.doc.elementFromPoint(t,e);if(p.win.opera&&r.tagName=="svg"){var s=we(n),o=n.createSVGRect();o.x=t-s.x,o.y=e-s.y,o.width=o.height=1;var a=n.getIntersectionList(o,null);a.length&&(r=a[a.length-1])}if(!r)return null;while(r.parentNode&&r!=n.parentNode&&!r.raphael)r=r.parentNode;r==i.canvas.parentNode&&(r=n),r=r&&r.raphael?i.getById(r.raphaelid):null;return r},w.getById=function(t){var e=this.bottom;while(e){if(e.id==t)return e;e=e.next}return null},w.forEach=function(t,e){var i=this.bottom;while(i){if(t.call(e,i)===!1)return this;i=i.next}return this},w.getElementsByPoint=function(e,i){var n=this.set();this.forEach(function(t){t.isPointInside(e,i)&&n.push(t)});return n},ve.isPointInside=function(t,e){var i=this.realPath=this.realPath||Mt[this.type](this);return $.isPointInsidePath(i,t,e)},ve.getBBox=function(t){if(this.removed)return{};var e=this._;if(t){if(e.dirty||!e.bboxwt)this.realPath=Mt[this.type](this),e.bboxwt=Bt(this.realPath),e.bboxwt.toString=i,e.dirty=0;return e.bboxwt}if(e.dirty||e.dirtyT||!e.bbox){if(e.dirty||!this.realPath)e.bboxwt=0,this.realPath=Mt[this.type](this);e.bbox=Bt(Pt(this.realPath,this.matrix)),e.bbox.toString=i,e.dirty=e.dirtyT=0}return e.bbox},ve.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(t);return t},ve.glow=function(t){if(this.type=="text")return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),s=this.realPath||Mt[this.type](this);s=this.matrix?Pt(s,this.matrix):s;for(var o=1;o<i+1;o++)r.push(n.path(s).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*o).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var xe={},_e=function(t,e,i,n,r,s,o,a,l){return l==null?T(t,e,i,n,r,s,o,a):$.findDotsAtSegment(t,e,i,n,r,s,o,a,h(t,e,i,n,r,s,o,a,l))},Ce=function(f,p){return function(t,e,i){t=Kt(t);var n,r,s,o,a="",l={},h,u=0;for(var c=0,d=t.length;c<d;c++){s=t[c];if(s[0]=="M")n=+s[1],r=+s[2];else{o=_e(n,r,s[1],s[2],s[3],s[4],s[5],s[6]);if(u+o>e){if(p&&!l.start){h=_e(n,r,s[1],s[2],s[3],s[4],s[5],s[6],e-u),a+=["C"+h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y];if(i)return a;l.start=a,a=["M"+h.x,h.y+"C"+h.n.x,h.n.y,h.end.x,h.end.y,s[5],s[6]].join(),u+=o,n=+s[5],r=+s[6];continue}if(!f&&!p){h=_e(n,r,s[1],s[2],s[3],s[4],s[5],s[6],e-u);return{x:h.x,y:h.y,alpha:h.alpha}}}u+=o,n=+s[5],r=+s[6]}a+=s.shift()+s}l.end=a,h=f?u:p?l:$.findDotsAtSegment(n,r,s[0],s[1],s[2],s[3],s[4],s[5],1),h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha});return h}},ke=Ce(1),Se=Ce(),Te=Ce(0,1);$.getTotalLength=ke,$.getPointAtLength=Se,$.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return Te(t,e).end;var n=Te(t,i,1);return e?Te(n,e).end:n},ve.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return ke(this.attrs.path)}},ve.getPointAtLength=function(t){if(this.type=="path")return Se(this.attrs.path,t)},ve.getSubpath=function(t,e){if(this.type=="path")return $.getSubpath(this.attrs.path,t,e)};var De=$.easing_formulas={linear:function(t){return t},"<":function(t){return B(t,1.7)},">":function(t){return B(t,.48)},"<>":function(t){var e=.48-t/1.04,i=G.sqrt(.1734+e*e),n=i-e,r=B(X(n),1/3)*(n<0?-1:1),s=-i-e,o=B(X(s),1/3)*(s<0?-1:1),a=r+o+.5;return(1-a)*3*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t=t-1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){if(t==!!t)return t;return B(2,-10*t)*G.sin((t-.075)*2*K/.3)+1},bounce:function(t){var e=7.5625,i=2.75,n;t<1/i?n=e*t*t:t<2/i?(t-=1.5/i,n=e*t*t+.75):t<2.5/i?(t-=2.25/i,n=e*t*t+.9375):(t-=2.625/i,n=e*t*t+.984375);return n}};De.easeIn=De["ease-in"]=De["<"],De.easeOut=De["ease-out"]=De[">"],De.easeInOut=De["ease-in-out"]=De["<>"],De["back-in"]=De.backIn,De["back-out"]=De.backOut;var Me=[],Pe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},Ee=function(){var t=+new Date,e=0;for(;e<Me.length;e++){var i=Me[e];if(i.el.removed||i.paused)continue;var n=t-i.start,r=i.ms,s=i.easing,o=i.from,a=i.diff,l=i.to,h=i.t,u=i.el,c={},d,f={},p;i.initstatus?(n=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*r,i.status=i.initstatus,delete i.initstatus,i.stop&&Me.splice(e--,1)):i.status=(i.prev+(i.percent-i.prev)*(n/r))/i.anim.top;if(n<0)continue;if(n<r){var g=s(n/r);for(var m in o)if(o[N](m)){switch(dt[m]){case W:d=+o[m]+g*r*a[m];break;case"colour":d="rgb("+[Ie(ot(o[m].r+g*r*a[m].r)),Ie(ot(o[m].g+g*r*a[m].g)),Ie(ot(o[m].b+g*r*a[m].b))].join(",")+")";break;case"path":d=[];for(var v=0,y=o[m].length;v<y;v++){d[v]=[o[m][v][0]];for(var b=1,w=o[m][v].length;b<w;b++)d[v][b]=+o[m][v][b]+g*r*a[m][v][b];d[v]=d[v].join(P)}d=d.join(P);break;case"transform":if(a[m].real){d=[];for(v=0,y=o[m].length;v<y;v++){d[v]=[o[m][v][0]];for(b=1,w=o[m][v].length;b<w;b++)d[v][b]=o[m][v][b]+g*r*a[m][v][b]}}else{var x=function(t){return+o[m][t]+g*r*a[m][t]};d=[["m",x(0),x(1),x(2),x(3),x(4),x(5)]]}break;case"csv":if(m=="clip-rect"){d=[],v=4;while(v--)d[v]=+o[m][v]+g*r*a[m][v]}break;default:var _=[][U](o[m]);d=[],v=u.paper.customAttributes[m].length;while(v--)d[v]=+_[v]+g*r*a[m][v]}c[m]=d}u.attr(c),function(t,e,i){setTimeout(function(){eve("raphael.anim.frame."+t,e,i)})}(u.id,u,i.anim)}else{(function(t,e,i){setTimeout(function(){eve("raphael.anim.frame."+e.id,e,i),eve("raphael.anim.finish."+e.id,e,i),$.is(t,"function")&&t.call(e)})})(i.callback,u,i.anim),u.attr(l),Me.splice(e--,1);if(i.repeat>1&&!i.next){for(p in l)l[N](p)&&(f[p]=i.totalOrigin[p]);i.el.attr(f),C(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&C(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}$.svg&&u&&u.paper&&u.paper.safari(),Me.length&&Pe(Ee)},Ie=function(t){return t>255?255:t<0?0:t};ve.animateWith=function(t,e,i,n,r,s){var o=this;if(o.removed){s&&s.call(o);return o}var a=i instanceof d?i:$.animation(i,n,r,s),l,h;C(a,o,a.percents[0],null,o.attr());for(var u=0,c=Me.length;u<c;u++)if(Me[u].anim==e&&Me[u].el==t){Me[c-1].start=Me[u].start;break}return o},ve.onAnimation=function(t){t?eve.on("raphael.anim.frame."+this.id,t):eve.unbind("raphael.anim.frame."+this.id);return this},d.prototype.delay=function(t){var e=new d(this.anim,this.ms);e.times=this.times,e.del=+t||0;return e},d.prototype.repeat=function(t){var e=new d(this.anim,this.ms);e.del=this.del,e.times=G.floor(H(t,0))||1;return e},$.animation=function(t,e,i,n){if(t instanceof d)return t;if($.is(i,"function")||!i)n=n||i||null,i=null;t=Object(t),e=+e||0;var r={},s,o;for(o in t)t[N](o)&&lt(o)!=o&&lt(o)+"%"!=o&&(s=!0,r[o]=t[o]);if(!s)return new d(t,e);i&&(r.easing=i),n&&(r.callback=n);return new d({100:r},e)},ve.animate=function(t,e,i,n){var r=this;if(r.removed){n&&n.call(r);return r}var s=t instanceof d?t:$.animation(t,e,i,n);C(s,r,s.percents[0],null,r.attr());return r},ve.setTime=function(t,e){t&&e!=null&&this.status(t,R(e,t.ms)/t.ms);return this},ve.status=function(t,e){var i=[],n=0,r,s;if(e!=null){C(t,this,-1,R(e,1));return this}r=Me.length;for(;n<r;n++){s=Me[n];if(s.el.id==this.id&&(!t||s.anim==t)){if(t)return s.status;i.push({anim:s.anim,status:s.status})}}if(t)return 0;return i},ve.pause=function(t){for(var e=0;e<Me.length;e++)Me[e].el.id==this.id&&(!t||Me[e].anim==t)&&eve("raphael.anim.pause."+this.id,this,Me[e].anim)!==!1&&(Me[e].paused=!0);return this},ve.resume=function(t){for(var e=0;e<Me.length;e++)if(Me[e].el.id==this.id&&(!t||Me[e].anim==t)){var i=Me[e];eve("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},ve.stop=function(t){for(var e=0;e<Me.length;e++)Me[e].el.id==this.id&&(!t||Me[e].anim==t)&&eve("raphael.anim.stop."+this.id,this,Me[e].anim)!==!1&&Me.splice(e--,1);return this},eve.on("raphael.remove",t),eve.on("raphael.clear",t),ve.toString=function(){return"Raphals object"};var Ae=function(t){this.items=[],this.length=0,this.type="set";if(t)for(var e=0,i=t.length;e<i;e++)t[e]&&(t[e].constructor==ve.constructor||t[e].constructor==Ae)&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},He=Ae.prototype;He.push=function(){var t,e;for(var i=0,n=arguments.length;i<n;i++)t=arguments[i],t&&(t.constructor==ve.constructor||t.constructor==Ae)&&(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},He.pop=function(){this.length&&delete this[this.length--];return this.items.pop()},He.forEach=function(t,e){for(var i=0,n=this.items.length;i<n;i++)if(t.call(e,this.items[i],i)===!1)return this;return this};for(var Re in ve)ve[N](Re)&&(He[Re]=function(i){return function(){var e=arguments;return this.forEach(function(t){t[i][_](t,e)})}}(Re));He.attr=function(t,e){if(t&&$.is(t,q)&&$.is(t[0],"object"))for(var i=0,n=t.length;i<n;i++)this.items[i].attr(t[i]);else for(var r=0,s=this.items.length;r<s;r++)this.items[r].attr(t,e);return this},He.clear=function(){while(this.length)this.pop()},He.splice=function(t,e,i){t=t<0?H(this.length+t,0):t,e=H(0,R(this.length-t,e));var n=[],r=[],s=[],o;for(o=2;o<arguments.length;o++)s.push(arguments[o]);for(o=0;o<e;o++)r.push(this[t+o]);for(;o<this.length-t;o++)n.push(this[t+o]);var a=s.length;for(o=0;o<a+n.length;o++)this.items[t+o]=this[t+o]=o<a?s[o]:n[o-a];o=this.items.length=this.length-=e-a;while(this[o])delete this[o++];return new Ae(r)},He.exclude=function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]==t){this.splice(e,1);return!0}},He.animate=function(t,e,i,n){($.is(i,"function")||!i)&&(n=i||null);var r=this.items.length,s=r,o,a=this,l;if(!r)return this;n&&(l=function(){!--r&&n.call(a)}),i=$.is(i,j)?i:l;var h=$.animation(t,e,i,l);o=this.items[--s].animate(h);while(s--)this.items[s]&&!this.items[s].removed&&this.items[s].animateWith(o,h,h);return this},He.insertAfter=function(t){var e=this.items.length;while(e--)this.items[e].insertAfter(t);return this},He.getBBox=function(){var t=[],e=[],i=[],n=[];for(var r=this.items.length;r--;)if(!this.items[r].removed){var s=this.items[r].getBBox();t.push(s.x),e.push(s.y),i.push(s.x+s.width),n.push(s.y+s.height)}t=R[_](0,t),e=R[_](0,e),i=H[_](0,i),n=H[_](0,n);return{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},He.clone=function(t){t=new Ae;for(var e=0,i=this.items.length;e<i;e++)t.push(this.items[e].clone());return t},He.toString=function(){return"Raphals set"},$.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[N](n)&&(e.face[n]=t.face[n]);this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e];if(!t.svg){e.face["units-per-em"]=ht(t.face["units-per-em"],10);for(var r in t.glyphs)if(t.glyphs[N](r)){var s=t.glyphs[r];e.glyphs[r]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"};if(s.k)for(var o in s.k)s[N](o)&&(e.glyphs[r].k[o]=s.k[o])}}return t},w.getFont=function(t,e,i,n){n=n||"normal",i=i||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400;if(!!$.fonts){var r=$.fonts[t];if(!r){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,M)+"(\\s|$)","i");for(var o in $.fonts)if($.fonts[N](o)&&s.test(o)){r=$.fonts[o];break}}var a;if(r)for(var l=0,h=r.length;l<h;l++){a=r[l];if(a.face["font-weight"]==e&&(a.face["font-style"]==i||!a.face["font-style"])&&a.face["font-stretch"]==n)break}return a}},w.print=function(t,e,i,n,r,s,o){s=s||"middle",o=H(R(o||0,1),-1);var a=O(i)[V](M),l=0,h=0,u=M,c;$.is(n,i)&&(n=this.getFont(n));if(n){c=(r||16)/n.face["units-per-em"];var d=n.face.bbox[V](z),f=+d[0],p=d[3]-d[1],g=0,m=+d[1]+(s=="baseline"?p+ +n.face.descent:p/2);for(var v=0,y=a.length;v<y;v++){if(a[v]=="\n")l=0,w=0,h=0,g+=p;else{var b=h&&n.glyphs[a[v-1]]||{},w=n.glyphs[a[v]];l+=h?(b.w||n.w)+(b.k&&b.k[a[v]]||0)+n.w*o:0,h=1}w&&w.d&&(u+=$.transformPath(w.d,["t",l*c,g*c,"s",c,c,f,m,"t",(t-f)/c,(e-m)/c]))}}return this.path(u).attr({fill:"#000",stroke:"none"})},w.add=function(t){if($.is(t,"array")){var e=this.set(),i=0,n=t.length,r;for(;i<n;i++)r=t[i]||{},a[N](r.type)&&e.push(this[r.type]().attr(r))}return e},$.format=function(t,e){var i=$.is(e,q)?[0][U](e):arguments;t&&$.is(t,j)&&i.length-1&&(t=t.replace(c,function(t,e){return i[++e]==null?M:i[e]}));return t||M},$.fullfill=function(){var e=/\{([^\}]+)\}/g,n=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,r=function(t,e,i){var s=i;e.replace(n,function(t,e,i,n,r){e=e||n,s&&(e in s&&(s=s[e]),typeof s=="function"&&r&&(s=s()))}),s=(s==null||s==i?t:s)+"";return s};return function(t,i){return String(t).replace(e,function(t,e){return r(t,e,i)})}}(),$.ninja=function(){m.was?p.win.Raphael=m.is:delete Raphael;return $},$.st=He,function(t,e,i){function n(){/in/.test(t.readyState)?setTimeout(n,9):$.eve("raphael.DOMload")}t.readyState==null&&t.addEventListener&&(t.addEventListener(e,i=function(){t.removeEventListener(e,i,!1),t.readyState="complete"},!1),t.readyState="loading"),n()}(document,"DOMContentLoaded"),m.was?p.win.Raphael=$:Raphael=$,eve.on("raphael.DOMload",function(){o=!0})}(),window.Raphael.svg&&function(S){var T="hasOwnProperty",D=String,m=parseFloat,w=parseInt,v=Math,x=v.max,_=v.abs,y=v.pow,C=/[, ]+/,d=S.eve,M="",u=" ",k="http://www.w3.org/1999/xlink",P={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},E={};S.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var I=function(t,e){if(e){typeof t=="string"&&(t=I(t));for(var i in e)e[T](i)&&(i.substring(0,6)=="xlink:"?t.setAttributeNS(k,i.substring(6),D(e[i])):t.setAttribute(i,D(e[i])))}else t=S._g.doc.createElementNS("http://www.w3.org/2000/svg",t),t.style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)");return t},A=function(t,e){var r="linear",i=t.id+e,s=.5,o=.5,n=t.node,a=t.paper,l=n.style,h=S._g.doc.getElementById(i);if(!h){e=D(e).replace(S._radial_gradient,function(t,e,i){r="radial";if(e&&i){s=m(e),o=m(i);var n=(o>.5)*2-1;y(s-.5,2)+y(o-.5,2)>.25&&(o=v.sqrt(.25-y(s-.5,2))*n+.5)&&o!=.5&&(o=o.toFixed(5)-1e-5*n)}return M}),e=e.split(/\s*\-\s*/);if(r=="linear"){var u=e.shift();u=-m(u);if(isNaN(u))return null;var c=[0,0,v.cos(S.rad(u)),v.sin(S.rad(u))],d=1/(x(_(c[2]),_(c[3]))||1);c[2]*=d,c[3]*=d,c[2]<0&&(c[0]=-c[2],c[2]=0),c[3]<0&&(c[1]=-c[3],c[3]=0)}var f=S._parseDots(e);if(!f)return null;i=i.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&i!=t.gradient.id&&(a.defs.removeChild(t.gradient),delete t.gradient);if(!t.gradient){h=I(r+"Gradient",{id:i}),t.gradient=h,I(h,r=="radial"?{fx:s,fy:o}:{x1:c[0],y1:c[1],x2:c[2],y2:c[3],gradientTransform:t.matrix.invert()}),a.defs.appendChild(h);for(var p=0,g=f.length;p<g;p++)h.appendChild(I("stop",{offset:f[p].offset?f[p].offset:p?"100%":"0%","stop-color":f[p].color||"#fff"}))}}I(n,{fill:"url(#"+i+")",opacity:1,"fill-opacity":1}),l.fill=M,l.opacity=1,l.fillOpacity=1;return 1},H=function(t){var e=t.getBBox(1);I(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},R=function(t,e,i){if(t.type=="path"){var n=D(e).toLowerCase().split("-"),r=t.paper,s=i?"end":"start",o=t.node,a=t.attrs,l=a["stroke-width"],h=n.length,u="classic",c,d,f,p,g,m=3,v=3,y=5;while(h--)switch(n[h]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":u=n[h];break;case"wide":v=5;break;case"narrow":v=2;break;case"long":m=5;break;case"short":m=2}u=="open"?(m+=2,v+=2,y+=2,f=1,p=i?4:1,g={fill:"none",stroke:a.stroke}):(p=f=m/2,g={fill:a.stroke,stroke:"none"}),t._.arrows?i?(t._.arrows.endPath&&E[t._.arrows.endPath]--,t._.arrows.endMarker&&E[t._.arrows.endMarker]--):(t._.arrows.startPath&&E[t._.arrows.startPath]--,t._.arrows.startMarker&&E[t._.arrows.startMarker]--):t._.arrows={};if(u!="none"){var b="raphael-marker-"+u,w="raphael-marker-"+s+u+m+v;S._g.doc.getElementById(b)?E[b]++:(r.defs.appendChild(I(I("path"),{"stroke-linecap":"round",d:P[u],id:b})),E[b]=1);var x=S._g.doc.getElementById(w),_;x?(E[w]++,_=x.getElementsByTagName("use")[0]):(x=I(I("marker"),{id:w,markerHeight:v,markerWidth:m,orient:"auto",refX:p,refY:v/2}),_=I(I("use"),{"xlink:href":"#"+b,transform:(i?"rotate(180 "+m/2+" "+v/2+") ":M)+"scale("+m/y+","+v/y+")","stroke-width":(1/((m/y+v/y)/2)).toFixed(4)}),x.appendChild(_),r.defs.appendChild(x),E[w]=1),I(_,g);var C=f*(u!="diamond"&&u!="oval");i?(c=t._.arrows.startdx*l||0,d=S.getTotalLength(a.path)-C*l):(c=C*l,d=S.getTotalLength(a.path)-(t._.arrows.enddx*l||0)),g={},g["marker-"+s]="url(#"+w+")";if(d||c)g.d=Raphael.getSubpath(a.path,c,d);I(o,g),t._.arrows[s+"Path"]=b,t._.arrows[s+"Marker"]=w,t._.arrows[s+"dx"]=C,t._.arrows[s+"Type"]=u,t._.arrows[s+"String"]=e}else i?(c=t._.arrows.startdx*l||0,d=S.getTotalLength(a.path)-c):(c=0,d=S.getTotalLength(a.path)-(t._.arrows.enddx*l||0)),t._.arrows[s+"Path"]&&I(o,{d:Raphael.getSubpath(a.path,c,d)}),delete t._.arrows[s+"Path"],delete t._.arrows[s+"Marker"],delete t._.arrows[s+"dx"],delete t._.arrows[s+"Type"],delete t._.arrows[s+"String"];for(g in E)if(E[T](g)&&!E[g]){var k=S._g.doc.getElementById(g);k&&k.parentNode.removeChild(k)}}},a={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},L=function(t,e,i){e=a[D(e).toLowerCase()];if(e){var n=t.attrs["stroke-width"]||"1",r={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],o=e.length;while(o--)s[o]=e[o]*n+(o%2?1:-1)*r;I(t.node,{"stroke-dasharray":s.join(",")})}},f=function(n,t){var e=n.node,i=n.attrs,r=e.style.visibility;e.style.visibility="hidden";for(var s in t)if(t[T](s)){if(!S._availableAttrs[T](s))continue;var o=t[s];i[s]=o;switch(s){case"blur":n.blur(o);break;case"href":case"title":case"target":var a=e.parentNode;if(a.tagName.toLowerCase()!="a"){var l=I("a");a.insertBefore(l,e),l.appendChild(e),a=l}s=="target"?a.setAttributeNS(k,"show",o=="blank"?"new":o):a.setAttributeNS(k,s,o);break;case"cursor":e.style.cursor=o;break;case"transform":n.transform(o);break;case"arrow-start":R(n,o);break;case"arrow-end":R(n,o,1);break;case"clip-rect":var h=D(o).split(C);if(h.length==4){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var u=I("clipPath"),c=I("rect");u.id=S.createUUID(),I(c,{x:h[0],y:h[1],width:h[2],height:h[3]}),u.appendChild(c),n.paper.defs.appendChild(u),I(e,{"clip-path":"url(#"+u.id+")"}),n.clip=c}if(!o){var d=e.getAttribute("clip-path");if(d){var f=S._g.doc.getElementById(d.replace(/(^url\(#|\)$)/g,M));f&&f.parentNode.removeChild(f),I(e,{"clip-path":M}),delete n.clip}}break;case"path":n.type=="path"&&(I(e,{d:o?i.path=S._pathToAbsolute(o):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&R(n,n._.arrows.startString),"endString"in n._.arrows&&R(n,n._.arrows.endString,1)));break;case"width":e.setAttribute(s,o),n._.dirty=1;if(i.fx)s="x",o=i.x;else break;case"x":i.fx&&(o=-i.x-(i.width||0));case"rx":if(s=="rx"&&n.type=="rect")break;case"cx":e.setAttribute(s,o),n.pattern&&H(n),n._.dirty=1;break;case"height":e.setAttribute(s,o),n._.dirty=1;if(i.fy)s="y",o=i.y;else break;case"y":i.fy&&(o=-i.y-(i.height||0));case"ry":if(s=="ry"&&n.type=="rect")break;case"cy":e.setAttribute(s,o),n.pattern&&H(n),n._.dirty=1;break;case"r":n.type=="rect"?I(e,{rx:o,ry:o}):e.setAttribute(s,o),n._.dirty=1;break;case"src":n.type=="image"&&e.setAttributeNS(k,"href",o);break;case"stroke-width":if(n._.sx!=1||n._.sy!=1)o/=x(_(n._.sx),_(n._.sy))||1;n.paper._vbSize&&(o*=n.paper._vbSize),e.setAttribute(s,o),i["stroke-dasharray"]&&L(n,i["stroke-dasharray"],t),n._.arrows&&("startString"in n._.arrows&&R(n,n._.arrows.startString),"endString"in n._.arrows&&R(n,n._.arrows.endString,1));break;case"stroke-dasharray":L(n,o,t);break;case"fill":var p=D(o).match(S._ISURL);if(p){u=I("pattern");var g=I("image");u.id=S.createUUID(),I(u,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),I(g,{x:0,y:0,"xlink:href":p[1]}),u.appendChild(g),function(i){S._preload(p[1],function(){var t=this.offsetWidth,e=this.offsetHeight;I(i,{width:t,height:e}),I(g,{width:t,height:e}),n.paper.safari()})}(u),n.paper.defs.appendChild(u),I(e,{fill:"url(#"+u.id+")"}),n.pattern=u,n.pattern&&H(n);break}var m=S.getRGB(o);if(!m.error)delete t.gradient,delete i.gradient,!S.is(i.opacity,"undefined")&&S.is(t.opacity,"undefined")&&I(e,{opacity:i.opacity}),!S.is(i["fill-opacity"],"undefined")&&S.is(t["fill-opacity"],"undefined")&&I(e,{"fill-opacity":i["fill-opacity"]});else if((n.type=="circle"||n.type=="ellipse"||D(o).charAt()!="r")&&A(n,o)){if("opacity"in i||"fill-opacity"in i){var v=S._g.doc.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,M));if(v){var y=v.getElementsByTagName("stop");I(y[y.length-1],{"stop-opacity":("opacity"in i?i.opacity:1)*("fill-opacity"in i?i["fill-opacity"]:1)})}}i.gradient=o,i.fill="none";break}m[T]("opacity")&&I(e,{"fill-opacity":m.opacity>1?m.opacity/100:m.opacity});case"stroke":m=S.getRGB(o),e.setAttribute(s,m.hex),s=="stroke"&&m[T]("opacity")&&I(e,{"stroke-opacity":m.opacity>1?m.opacity/100:m.opacity}),s=="stroke"&&n._.arrows&&("startString"in n._.arrows&&R(n,n._.arrows.startString),"endString"in n._.arrows&&R(n,n._.arrows.endString,1));break;case"gradient":(n.type=="circle"||n.type=="ellipse"||D(o).charAt()!="r")&&A(n,o);break;case"opacity":i.gradient&&!i[T]("stroke-opacity")&&I(e,{"stroke-opacity":o>1?o/100:o});case"fill-opacity":if(i.gradient){v=S._g.doc.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,M)),v&&(y=v.getElementsByTagName("stop"),I(y[y.length-1],{"stop-opacity":o}));break};default:s=="font-size"&&(o=w(o,10)+"px");var b=s.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});e.style[b]=o,n._.dirty=1,e.setAttribute(s,o)}}F(n,t),e.style.visibility=r},p=1.2,F=function(t,e){if(t.type=="text"&&!!(e[T]("text")||e[T]("font")||e[T]("font-size")||e[T]("x")||e[T]("y"))){var i=t.attrs,n=t.node,r=n.firstChild?w(S._g.doc.defaultView.getComputedStyle(n.firstChild,M).getPropertyValue("font-size"),10):10;if(e[T]("text")){i.text=e.text;while(n.firstChild)n.removeChild(n.firstChild);var s=D(e.text).split("\n"),o=[],a;for(var l=0,h=s.length;l<h;l++)a=I("tspan"),l&&I(a,{dy:r*p,x:i.x}),a.appendChild(S._g.doc.createTextNode(s[l])),n.appendChild(a),o[l]=a}else{o=n.getElementsByTagName("tspan");for(l=0,h=o.length;l<h;l++)l?I(o[l],{dy:r*p,x:i.x}):I(o[0],{dy:0})}I(n,{x:i.x,y:i.y}),t._.dirty=1;var u=t._getBBox(),c=i.y-(u.y+u.height/2);c&&S.is(c,"finite")&&I(o[0],{dy:c})}},l=function(t,e){var i=0,n=0;this[0]=this.node=t,t.raphael=!0,this.id=S._oid++,t.raphaelid=this.id,this.matrix=S.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},t=S.el;l.prototype=t,t.constructor=l,S._engine.path=function(t,e){var i=I("path");e.canvas&&e.canvas.appendChild(i);var n=new l(i,e);n.type="path",f(n,{fill:"none",stroke:"#000",path:t});return n},t.rotate=function(t,e,i){if(this.removed)return this;t=D(t).split(C),t.length-1&&(e=m(t[1]),i=m(t[2])),t=m(t[0]),i==null&&(e=i);if(e==null||i==null){var n=this.getBBox(1);e=n.x+n.width/2,i=n.y+n.height/2}this.transform(this._.transform.concat([["r",t,e,i]]));return this},t.scale=function(t,e,i,n){if(this.removed)return this;t=D(t).split(C),t.length-1&&(e=m(t[1]),i=m(t[2]),n=m(t[3])),t=m(t[0]),e==null&&(e=t),n==null&&(i=n);if(i==null||n==null)var r=this.getBBox(1);i=i==null?r.x+r.width/2:i,n=n==null?r.y+r.height/2:n,this.transform(this._.transform.concat([["s",t,e,i,n]]));return this},t.translate=function(t,e){if(this.removed)return this;t=D(t).split(C),t.length-1&&(e=m(t[1])),t=m(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]]));return this},t.transform=function(t){var e=this._;if(t==null)return e.transform;S._extractTransform(this,t),this.clip&&I(this.clip,{transform:this.matrix.invert()}),this.pattern&&H(this),this.node&&I(this.node,{transform:this.matrix});if(e.sx!=1||e.sy!=1){var i=this.attrs[T]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},t.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this},t.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this},t.remove=function(){if(!this.removed&&!!this.node.parentNode){var t=this.paper;t.__set__&&t.__set__.exclude(this),d.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),S._tear(this,t),this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var e in this)this[e]=typeof this[e]=="function"?S._removedFactory(e):null;this.removed=!0}},t._getBBox=function(){if(this.node.style.display=="none"){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}t&&this.hide();return e},t.attr=function(t,e){if(this.removed)return this;if(t==null){var i={};for(var n in this.attrs)this.attrs[T](n)&&(i[n]=this.attrs[n]);i.gradient&&i.fill=="none"&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform;return i}if(e==null&&S.is(t,"string")){if(t=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(t=="transform")return this._.transform;var r=t.split(C),s={};for(var o=0,a=r.length;o<a;o++)t=r[o],t in this.attrs?s[t]=this.attrs[t]:S.is(this.paper.customAttributes[t],"function")?s[t]=this.paper.customAttributes[t].def:s[t]=S._availableAttrs[t];return a-1?s:s[r[0]]}if(e==null&&S.is(t,"array")){s={};for(o=0,a=t.length;o<a;o++)s[t[o]]=this.attr(t[o]);return s}if(e!=null){var l={};l[t]=e}else t!=null&&S.is(t,"object")&&(l=t);for(var h in l)d("raphael.attr."+h+"."+this.id,this,l[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[T](h)&&l[T](h)&&S.is(this.paper.customAttributes[h],"function")){var u=this.paper.customAttributes[h].apply(this,[].concat(l[h]));this.attrs[h]=l[h];for(var c in u)u[T](c)&&(l[c]=u[c])}f(this,l);return this},t.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;t.top!=this&&S._tofront(this,t);return this},t.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;t.tagName.toLowerCase()=="a"?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),S._toback(this,this.paper);var e=this.paper;return this},t.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),S._insertafter(this,t,this.paper);return this},t.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;e.parentNode.insertBefore(this.node,e),S._insertbefore(this,t,this.paper);return this},t.blur=function(t){var e=this;if(+t!==0){var i=I("filter"),n=I("feGaussianBlur");e.attrs.blur=t,i.id=S.createUUID(),I(n,{stdDeviation:+t||1.5}),i.appendChild(n),e.paper.defs.appendChild(i),e._blur=i,I(e.node,{filter:"url(#"+i.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter")},S._engine.circle=function(t,e,i,n){var r=I("circle");t.canvas&&t.canvas.appendChild(r);var s=new l(r,t);s.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},s.type="circle",I(r,s.attrs);return s},S._engine.rect=function(t,e,i,n,r,s){var o=I("rect");t.canvas&&t.canvas.appendChild(o);var a=new l(o,t);a.attrs={x:e,y:i,width:n,height:r,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},a.type="rect",I(o,a.attrs);return a},S._engine.ellipse=function(t,e,i,n,r){var s=I("ellipse");t.canvas&&t.canvas.appendChild(s);var o=new l(s,t);o.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},o.type="ellipse",I(s,o.attrs);return o},S._engine.image=function(t,e,i,n,r,s){var o=I("image");I(o,{x:i,y:n,width:r,height:s,preserveAspectRatio:"none"}),o.setAttributeNS(k,"href",e),t.canvas&&t.canvas.appendChild(o);var a=new l(o,t);a.attrs={x:i,y:n,width:r,height:s,src:e},a.type="image";return a},S._engine.text=function(t,e,i,n){var r=I("text");t.canvas&&t.canvas.appendChild(r);var s=new l(r,t);s.attrs={x:e,y:i,"text-anchor":"middle",text:n,font:S._availableAttrs.font,stroke:"none",fill:"#000"},s.type="text",f(s,s.attrs);return s},S._engine.setSize=function(t,e){this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this},S._engine.create=function(){var t=S._getContainer.apply(0,arguments),e=t&&t.container,i=t.x,n=t.y,r=t.width,s=t.height;if(!e)throw new Error("SVG container not found.");var o=I("svg"),a="overflow:hidden;",l;i=i||0,n=n||0,r=r||512,s=s||342,I(o,{height:s,version:1.1,width:r,xmlns:"http://www.w3.org/2000/svg"}),e==1?(o.style.cssText=a+"position:absolute;left:"+i+"px;top:"+n+"px",S._g.doc.body.appendChild(o),l=1):(o.style.cssText=a+"position:relative",e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)),e=new S._Paper,e.width=r,e.height=s,e.canvas=o,e.clear(),e._left=e._top=0,l&&(e.renderfix=function(){}),e.renderfix();return e},S._engine.setViewBox=function(t,e,i,n,r){d("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var s=x(i/this.width,n/this.height),o=this.top,a=r?"meet":"xMinYMin",l,h;t==null?(this._vbSize&&(s=1),delete this._vbSize,l="0 0 "+this.width+u+this.height):(this._vbSize=s,l=t+u+e+u+i+u+n),I(this.canvas,{viewBox:l,preserveAspectRatio:a});while(s&&o)h="stroke-width"in o.attrs?o.attrs["stroke-width"]:1,o.attr({"stroke-width":h}),o._.dirty=1,o._.dirtyT=1,o=o.prev;this._viewBox=[t,e,i,n,!!r];return this},S.prototype.renderfix=function(){var e=this.canvas,t=e.style,i;try{i=e.getScreenCTM()||e.createSVGMatrix()}catch(t){i=e.createSVGMatrix()}var n=-i.e%1,r=-i.f%1;if(n||r)n&&(this._left=(this._left+n)%1,t.left=this._left+"px"),r&&(this._top=(this._top+r)%1,t.top=this._top+"px")},S.prototype.clear=function(){S.eve("raphael.clear",this);var t=this.canvas;while(t.firstChild)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=I("desc")).appendChild(S._g.doc.createTextNode("Created with Raphal "+S.version)),t.appendChild(this.desc),t.appendChild(this.defs=I("defs"))},S.prototype.remove=function(){d("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?S._removedFactory(t):null};var e=S.st;for(var i in t)t[T](i)&&!e[T](i)&&(e[i]=function(i){return function(){var e=arguments;return this.forEach(function(t){t[i].apply(t,e)})}}(i))}(window.Raphael),window.Raphael.vml&&function(L){var F="hasOwnProperty",$=String,z=parseFloat,p=Math,N=p.round,O=p.max,B=p.min,y=p.abs,W="fill",j=/[, ]+/,d=L.eve,n=" progid:DXImageTransform.Microsoft",q=" ",Y="",c={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},f=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,u="position:absolute;left:0;top:0;width:1px;height:1px",U=21600,V={path:1,rect:1,image:1},G={circle:1,ellipse:1},X=function(t){var e=/[ahqstv]/gi,i=L._pathToAbsolute;$(t).match(e)&&(i=L._path2curve),e=/[clmz]/g;if(i==L._pathToAbsolute&&!$(t).match(e)){var n=$(t).replace(f,function(t,e,i){var n=[],r=e.toLowerCase()=="m",s=c[e];i.replace(g,function(t){r&&n.length==2&&(s+=n+c[e=="m"?"l":"L"],n=[]),n.push(N(t*U))});return s+n});return n}var r=i(t),s,o;n=[];for(var a=0,l=r.length;a<l;a++){s=r[a],o=r[a][0].toLowerCase(),o=="z"&&(o="x");for(var h=1,u=s.length;h<u;h++)o+=N(s[h]*U)+(h!=u-1?",":Y);n.push(o)}return n.join(q)},b=function(t,e,i){var n=L.matrix();n.rotate(-t,.5,.5);return{dx:n.x(e,i),dy:n.y(e,i)}},K=function(t,e,i,n,r,s){var o=t._,a=t.matrix,l=o.fillpos,h=t.node,u=h.style,c=1,d="",f,p=U/e,g=U/i;u.visibility="hidden";if(!!e&&!!i){h.coordsize=y(p)+q+y(g),u.rotation=s*(e*i<0?-1:1);if(s){var m=b(s,n,r);n=m.dx,r=m.dy}e<0&&(d+="x"),i<0&&(d+=" y")&&(c=-1),u.flip=d,h.coordorigin=n*-p+q+r*-g;if(l||o.fillsize){var v=h.getElementsByTagName(W);v=v&&v[0],h.removeChild(v),l&&(m=b(s,a.x(l[0],l[1]),a.y(l[0],l[1])),v.position=m.dx*c+q+m.dy*c),o.fillsize&&(v.size=o.fillsize[0]*y(e)+q+o.fillsize[1]*y(i)),h.appendChild(v)}u.visibility="visible"}};L.toString=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};var Q=function(t,e,i){var n=$(e).toLowerCase().split("-"),r=i?"end":"start",s=n.length,o="classic",a="medium",l="medium";while(s--)switch(n[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=n[s];break;case"wide":case"narrow":l=n[s];break;case"long":case"short":a=n[s]}var h=t.node.getElementsByTagName("stroke")[0];h[r+"arrow"]=o,h[r+"arrowlength"]=a,h[r+"arrowwidth"]=l},m=function(t,e){t.attrs=t.attrs||{};var i=t.node,n=t.attrs,r=i.style,s,o=V[t.type]&&(e.x!=n.x||e.y!=n.y||e.width!=n.width||e.height!=n.height||e.cx!=n.cx||e.cy!=n.cy||e.rx!=n.rx||e.ry!=n.ry||e.r!=n.r),a=G[t.type]&&(n.cx!=e.cx||n.cy!=e.cy||n.r!=e.r||n.rx!=e.rx||n.ry!=e.ry),l=t;for(var h in e)e[F](h)&&(n[h]=e[h]);o&&(n.path=L._getPath[t.type](t),t._.dirty=1),e.href&&(i.href=e.href),e.title&&(i.title=e.title),e.target&&(i.target=e.target),e.cursor&&(r.cursor=e.cursor),"blur"in e&&t.blur(e.blur);if(e.path&&t.type=="path"||o)i.path=X(~$(n.path).toLowerCase().indexOf("r")?L._pathToAbsolute(n.path):n.path),t.type=="image"&&(t._.fillpos=[n.x,n.y],t._.fillsize=[n.width,n.height],K(t,1,1,0,0,0));"transform"in e&&t.transform(e.transform);if(a){var u=+n.cx,c=+n.cy,d=+n.rx||+n.r||0,f=+n.ry||+n.r||0;i.path=L.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",N((u-d)*U),N((c-f)*U),N((u+d)*U),N((c+f)*U),N(u*U))}if("clip-rect"in e){var p=$(e["clip-rect"]).split(j);if(p.length==4){p[2]=+p[2]+ +p[0],p[3]=+p[3]+ +p[1];var g=i.clipRect||L._g.doc.createElement("div"),m=g.style;m.clip=L.format("rect({1}px {2}px {3}px {0}px)",p),i.clipRect||(m.position="absolute",m.top=0,m.left=0,m.width=t.paper.width+"px",m.height=t.paper.height+"px",i.parentNode.insertBefore(g,i),g.appendChild(i),i.clipRect=g)}e["clip-rect"]||i.clipRect&&(i.clipRect.style.clip="auto")}if(t.textpath){var v=t.textpath.style;e.font&&(v.font=e.font),e["font-family"]&&(v.fontFamily='"'+e["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,Y)+'"'),e["font-size"]&&(v.fontSize=e["font-size"]),e["font-weight"]&&(v.fontWeight=e["font-weight"]),e["font-style"]&&(v.fontStyle=e["font-style"])}"arrow-start"in e&&Q(l,e["arrow-start"]),"arrow-end"in e&&Q(l,e["arrow-end"],1);if(e.opacity!=null||e["stroke-width"]!=null||e.fill!=null||e.src!=null||e.stroke!=null||e["stroke-width"]!=null||e["stroke-opacity"]!=null||e["fill-opacity"]!=null||e["stroke-dasharray"]!=null||e["stroke-miterlimit"]!=null||e["stroke-linejoin"]!=null||e["stroke-linecap"]!=null){var y=i.getElementsByTagName(W),b=!1;y=y&&y[0],!y&&(b=y=J(W)),t.type=="image"&&e.src&&(y.src=e.src),e.fill&&(y.on=!0);if(y.on==null||e.fill=="none"||e.fill===null)y.on=!1;if(y.on&&e.fill){var w=$(e.fill).match(L._ISURL);if(w){y.parentNode==i&&i.removeChild(y),y.rotate=!0,y.src=w[1],y.type="tile";var x=t.getBBox(1);y.position=x.x+q+x.y,t._.fillpos=[x.x,x.y],L._preload(w[1],function(){t._.fillsize=[this.offsetWidth,this.offsetHeight]})}else y.color=L.getRGB(e.fill).hex,y.src=Y,y.type="solid",L.getRGB(e.fill).error&&(l.type in{circle:1,ellipse:1}||$(e.fill).charAt()!="r")&&Z(l,e.fill,y)&&(n.fill="none",n.gradient=e.fill,y.rotate=!1)}if("fill-opacity"in e||"opacity"in e){var _=((+n["fill-opacity"]+1||2)-1)*((+n.opacity+1||2)-1)*((+L.getRGB(e.fill).o+1||2)-1);_=B(O(_,0),1),y.opacity=_,y.src&&(y.color="none")}i.appendChild(y);var C=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0],k=!1;!C&&(k=C=J("stroke"));if(e.stroke&&e.stroke!="none"||e["stroke-width"]||e["stroke-opacity"]!=null||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])C.on=!0;(e.stroke=="none"||e.stroke===null||C.on==null||e.stroke==0||e["stroke-width"]==0)&&(C.on=!1);var S=L.getRGB(e.stroke);C.on&&e.stroke&&(C.color=S.hex),_=((+n["stroke-opacity"]+1||2)-1)*((+n.opacity+1||2)-1)*((+S.o+1||2)-1);var T=(z(e["stroke-width"])||1)*.75;_=B(O(_,0),1),e["stroke-width"]==null&&(T=n["stroke-width"]),e["stroke-width"]&&(C.weight=T),T&&T<1&&(_*=T)&&(C.weight=1),C.opacity=_,e["stroke-linejoin"]&&(C.joinstyle=e["stroke-linejoin"]||"miter"),C.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(C.endcap=e["stroke-linecap"]=="butt"?"flat":e["stroke-linecap"]=="square"?"square":"round");if(e["stroke-dasharray"]){var D={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};C.dashstyle=D[F](e["stroke-dasharray"])?D[e["stroke-dasharray"]]:Y}k&&i.appendChild(C)}if(l.type=="text"){l.paper.canvas.style.display=Y;var M=l.paper.span,P=100,E=n.font&&n.font.match(/\d+(?:\.\d*)?(?=px)/);r=M.style,n.font&&(r.font=n.font),n["font-family"]&&(r.fontFamily=n["font-family"]),n["font-weight"]&&(r.fontWeight=n["font-weight"]),n["font-style"]&&(r.fontStyle=n["font-style"]),E=z(n["font-size"]||E&&E[0])||10,r.fontSize=E*P+"px",l.textpath.string&&(M.innerHTML=$(l.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var I=M.getBoundingClientRect();l.W=n.w=(I.right-I.left)/P,l.H=n.h=(I.bottom-I.top)/P,l.X=n.x,l.Y=n.y+l.H/2,("x"in e||"y"in e)&&(l.path.v=L.format("m{0},{1}l{2},{1}",N(n.x*U),N(n.y*U),N(n.x*U)+1));var A=["x","y","text","font","font-family","font-weight","font-style","font-size"];for(var H=0,R=A.length;H<R;H++)if(A[H]in e){l._.dirty=1;break}switch(n["text-anchor"]){case"start":l.textpath.style["v-text-align"]="left",l.bbx=l.W/2;break;case"end":l.textpath.style["v-text-align"]="right",l.bbx=-l.W/2;break;default:l.textpath.style["v-text-align"]="center",l.bbx=0}l.textpath.style["v-text-kern"]=!0}},Z=function(t,e,i){t.attrs=t.attrs||{};var n=t.attrs,r=Math.pow,s,o,a="linear",l=".5 .5";t.attrs.gradient=e,e=$(e).replace(L._radial_gradient,function(t,e,i){a="radial",e&&i&&(e=z(e),i=z(i),r(e-.5,2)+r(i-.5,2)>.25&&(i=p.sqrt(.25-r(e-.5,2))*((i>.5)*2-1)+.5),l=e+q+i);return Y}),e=e.split(/\s*\-\s*/);if(a=="linear"){var h=e.shift();h=-z(h);if(isNaN(h))return null}var u=L._parseDots(e);if(!u)return null;t=t.shape||t.node;if(u.length){t.removeChild(i),i.on=!0,i.method="none",i.color=u[0].color,i.color2=u[u.length-1].color;var c=[];for(var d=0,f=u.length;d<f;d++)u[d].offset&&c.push(u[d].offset+q+u[d].color);i.colors=c.length?c.join():"0% "+i.color,a=="radial"?(i.type="gradientTitle",i.focus="100%",i.focussize="0 0",i.focusposition=l,i.angle=0):(i.type="gradient",i.angle=(270-h)%360),t.appendChild(i)}return 1},v=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=L._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=L.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},t=L.el;v.prototype=t,t.constructor=v,t.transform=function(t){if(t==null)return this._.transform;var e=this.paper._viewBoxShift,i=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:Y,n;e&&(n=t=$(t).replace(/\.{3}|\u2026/g,this._.transform||Y)),L._extractTransform(this,i+t);var r=this.matrix.clone(),s=this.skew,o=this.node,a,l=~$(this.attrs.fill).indexOf("-"),h=!$(this.attrs.fill).indexOf("url(");r.translate(-.5,-.5);if(h||l||this.type=="image"){s.matrix="1 0 0 1",s.offset="0 0",a=r.split();if(l&&a.noRotation||!a.isSimple){o.style.filter=r.toFilter();var u=this.getBBox(),c=this.getBBox(1),d=u.x-c.x,f=u.y-c.y;o.coordorigin=d*-U+q+f*-U,K(this,1,1,d,f,0)}else o.style.filter=Y,K(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate)}else o.style.filter=Y,s.matrix=$(r),s.offset=r.offset();n&&(this._.transform=n);return this},t.rotate=function(t,e,i){if(this.removed)return this;if(t!=null){t=$(t).split(j),t.length-1&&(e=z(t[1]),i=z(t[2])),t=z(t[0]),i==null&&(e=i);if(e==null||i==null){var n=this.getBBox(1);e=n.x+n.width/2,i=n.y+n.height/2}this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,i]]));return this}},t.translate=function(t,e){if(this.removed)return this;t=$(t).split(j),t.length-1&&(e=z(t[1])),t=z(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]));return this},t.scale=function(t,e,i,n){if(this.removed)return this;t=$(t).split(j),t.length-1&&(e=z(t[1]),i=z(t[2]),n=z(t[3]),isNaN(i)&&(i=null),isNaN(n)&&(n=null)),t=z(t[0]),e==null&&(e=t),n==null&&(i=n);if(i==null||n==null)var r=this.getBBox(1);i=i==null?r.x+r.width/2:i,n=n==null?r.y+r.height/2:n,this.transform(this._.transform.concat([["s",t,e,i,n]])),this._.dirtyT=1;return this},t.hide=function(){!this.removed&&(this.node.style.display="none");return this},t.show=function(){!this.removed&&(this.node.style.display=Y);return this},t._getBBox=function(){if(this.removed)return{};return{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},t.remove=function(){if(!this.removed&&!!this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),L.eve.unbind("raphael.*.*."+this.id),L._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]=typeof this[t]=="function"?L._removedFactory(t):null;this.removed=!0}},t.attr=function(t,e){if(this.removed)return this;if(t==null){var i={};for(var n in this.attrs)this.attrs[F](n)&&(i[n]=this.attrs[n]);i.gradient&&i.fill=="none"&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform;return i}if(e==null&&L.is(t,"string")){if(t==W&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;var r=t.split(j),s={};for(var o=0,a=r.length;o<a;o++)t=r[o],t in this.attrs?s[t]=this.attrs[t]:L.is(this.paper.customAttributes[t],"function")?s[t]=this.paper.customAttributes[t].def:s[t]=L._availableAttrs[t];return a-1?s:s[r[0]]}if(this.attrs&&e==null&&L.is(t,"array")){s={};for(o=0,a=t.length;o<a;o++)s[t[o]]=this.attr(t[o]);return s}var l;e!=null&&(l={},l[t]=e),e==null&&L.is(t,"object")&&(l=t);for(var h in l)d("raphael.attr."+h+"."+this.id,this,l[h]);if(l){for(h in this.paper.customAttributes)if(this.paper.customAttributes[F](h)&&l[F](h)&&L.is(this.paper.customAttributes[h],"function")){var u=this.paper.customAttributes[h].apply(this,[].concat(l[h]));this.attrs[h]=l[h];for(var c in u)u[F](c)&&(l[c]=u[c])}l.text&&this.type=="text"&&(this.textpath.string=l.text),m(this,l)}return this},t.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&L._tofront(this,this.paper);return this},t.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),L._toback(this,this.paper));return this},t.insertAfter=function(t){if(this.removed)return this;t.constructor==L.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),L._insertafter(this,t,this.paper);return this},t.insertBefore=function(t){if(this.removed)return this;t.constructor==L.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),L._insertbefore(this,t,this.paper);return this},t.blur=function(t){var e=this.node.runtimeStyle,i=e.filter;i=i.replace(r,Y),+t!==0?(this.attrs.blur=t,e.filter=i+q+n+".Blur(pixelradius="+(+t||1.5)+")",e.margin=L.format("-{0}px 0 0 -{0}px",N(+t||1.5))):(e.filter=i,e.margin=0,delete this.attrs.blur)},L._engine.path=function(t,e){var i=J("shape");i.style.cssText=u,i.coordsize=U+q+U,i.coordorigin=e.coordorigin;var n=new v(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path=Y,m(n,r),e.canvas.appendChild(i);var s=J("skew");s.on=!0,i.appendChild(s),n.skew=s,n.transform(Y);return n},L._engine.rect=function(t,e,i,n,r,s){var o=L._rectPath(e,i,n,r,s),a=t.path(o),l=a.attrs;a.X=l.x=e,a.Y=l.y=i,a.W=l.width=n,a.H=l.height=r,l.r=s,l.path=o,a.type="rect";return a},L._engine.ellipse=function(t,e,i,n,r){var s=t.path(),o=s.attrs;s.X=e-n,s.Y=i-r,s.W=n*2,s.H=r*2,s.type="ellipse",m(s,{cx:e,cy:i,rx:n,ry:r});return s},L._engine.circle=function(t,e,i,n){var r=t.path(),s=r.attrs;r.X=e-n,r.Y=i-n,r.W=r.H=n*2,r.type="circle",m(r,{cx:e,cy:i,r:n});return r},L._engine.image=function(t,e,i,n,r,s){var o=L._rectPath(i,n,r,s),a=t.path(o).attr({stroke:"none"}),l=a.attrs,h=a.node,u=h.getElementsByTagName(W)[0];l.src=e,a.X=l.x=i,a.Y=l.y=n,a.W=l.width=r,a.H=l.height=s,l.path=o,a.type="image",u.parentNode==h&&h.removeChild(u),u.rotate=!0,u.src=e,u.type="tile",a._.fillpos=[i,n],a._.fillsize=[r,s],h.appendChild(u),K(a,1,1,0,0,0);return a},L._engine.text=function(t,e,i,n){var r=J("shape"),s=J("path"),o=J("textpath");e=e||0,i=i||0,n=n||"",s.v=L.format("m{0},{1}l{2},{1}",N(e*U),N(i*U),N(e*U)+1),s.textpathok=!0,o.string=$(n),o.on=!0,r.style.cssText=u,r.coordsize=U+q+U,r.coordorigin="0 0";var a=new v(r,t),l={fill:"#000",stroke:"none",font:L._availableAttrs.font,text:n};a.shape=r,a.path=s,a.textpath=o,a.type="text",a.attrs.text=$(n),a.attrs.x=e,a.attrs.y=i,a.attrs.w=1,a.attrs.h=1,m(a,l),r.appendChild(o),r.appendChild(s),t.canvas.appendChild(r);var h=J("skew");h.on=!0,r.appendChild(h),a.skew=h,a.transform(Y);return a},L._engine.setSize=function(t,e){var i=this.canvas.style;this.width=t,this.height=e,t==+t&&(t+="px"),e==+e&&(e+="px"),i.width=t,i.height=e,i.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&L._engine.setViewBox.apply(this,this._viewBox);return this},L._engine.setViewBox=function(t,e,i,n,r){L.eve("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var s=this.width,o=this.height,a=1/O(i/s,n/o),l,h;r&&(l=o/n,h=s/i,i*l<s&&(t-=(s-i*l)/2/l),n*h<o&&(e-=(o-n*h)/2/h)),this._viewBox=[t,e,i,n,!!r],this._viewBoxShift={dx:-t,dy:-e,scale:a},this.forEach(function(t){t.transform("...")});return this};var J;L._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),J=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){J=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},L._engine.initWin(L._g.win),L._engine.create=function(){var t=L._getContainer.apply(0,arguments),e=t.container,i=t.height,n,r=t.width,s=t.x,o=t.y;if(!e)throw new Error("VML container not found.");var a=new L._Paper,l=a.canvas=L._g.doc.createElement("div"),h=l.style;s=s||0,o=o||0,r=r||512,i=i||342,a.width=r,a.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),a.coordsize=U*1e3+q+U*1e3,a.coordorigin="0 0",a.span=L._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),h.cssText=L.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),e==1?(L._g.doc.body.appendChild(l),h.left=s+"px",h.top=o+"px",h.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),a.renderfix=function(){};return a},L.prototype.clear=function(){L.eve("raphael.clear",this),this.canvas.innerHTML=Y,this.span=L._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},L.prototype.remove=function(){L.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?L._removedFactory(t):null;return!0};var e=L.st;for(var i in t)t[F](i)&&!e[F](i)&&(e[i]=function(i){return function(){var e=arguments;return this.forEach(function(t){t[i].apply(t,e)})}}(i))}(window.Raphael);(function(){var m,C,t,e,a=[].slice,u=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty,s=function(t,e){for(var i in e){if(r.call(e,i))t[i]=e[i]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t},l=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++){if(e in this&&this[e]===t)return e}return-1};C=window.Morris={};m=jQuery;C.EventEmitter=function(){function t(){}t.prototype.on=function(t,e){if(this.handlers==null){this.handlers={}}if(this.handlers[t]==null){this.handlers[t]=[]}this.handlers[t].push(e);return this};t.prototype.fire=function(){var t,e,i,n,r,s,o;i=arguments[0],t=2<=arguments.length?a.call(arguments,1):[];if(this.handlers!=null&&this.handlers[i]!=null){s=this.handlers[i];o=[];for(n=0,r=s.length;n<r;n++){e=s[n];o.push(e.apply(null,t))}return o}};return t}();C.commas=function(t){var e,i,n,r;if(t!=null){n=t<0?"-":"";e=Math.abs(t);i=Math.floor(e).toFixed(0);n+=i.replace(/(?=(?:\d{3})+$)(?!^)/g,",");r=e.toString();if(r.length>i.length){n+=r.slice(i.length)}return n}else{return"-"}};C.pad2=function(t){return(t<10?"0":"")+t};C.Grid=function(t){s(e,t);function e(t){this.resizeHandler=u(this.resizeHandler,this);var o=this;if(typeof t.element==="string"){this.el=m(document.getElementById(t.element))}else{this.el=m(t.element)}if(this.el==null||this.el.length===0){throw new Error("Graph container element not found")}if(this.el.css("position")==="static"){this.el.css("position","relative")}this.options=m.extend({},this.gridDefaults,this.defaults||{},t);if(typeof this.options.units==="string"){this.options.postUnits=t.units}this.raphael=new Raphael(this.el[0]);this.elementWidth=null;this.elementHeight=null;this.dirty=false;this.selectFrom=null;if(this.init){this.init()}this.setData(this.options.data);this.el.bind("mousemove",function(t){var e,i,n,r,s;i=o.el.offset();s=t.pageX-i.left;if(o.selectFrom){e=o.data[o.hitTest(Math.min(s,o.selectFrom))]._x;n=o.data[o.hitTest(Math.max(s,o.selectFrom))]._x;r=n-e;return o.selectionRect.attr({x:e,width:r})}else{return o.fire("hovermove",s,t.pageY-i.top)}});this.el.bind("mouseleave",function(t){if(o.selectFrom){o.selectionRect.hide();o.selectFrom=null}return o.fire("hoverout")});this.el.bind("touchstart touchmove touchend",function(t){var e,i;i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e=o.el.offset();return o.fire("hovermove",i.pageX-e.left,i.pageY-e.top)});this.el.bind("click",function(t){var e;e=o.el.offset();return o.fire("gridclick",t.pageX-e.left,t.pageY-e.top)});if(this.options.rangeSelect){this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:false}).toBack().hide();this.el.bind("mousedown",function(t){var e;e=o.el.offset();return o.startRange(t.pageX-e.left)});this.el.bind("mouseup",function(t){var e;e=o.el.offset();o.endRange(t.pageX-e.left);return o.fire("hovermove",t.pageX-e.left,t.pageY-e.top)})}if(this.options.resize){m(window).bind("resize",function(t){if(o.timeoutId!=null){window.clearTimeout(o.timeoutId)}return o.timeoutId=window.setTimeout(o.resizeHandler,100)})}this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)");if(this.postInit){this.postInit()}}e.prototype.gridDefaults={dateFormat:null,axes:true,grid:true,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:false,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:true,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:false};e.prototype.setData=function(n,t){var r,s,o,e,i,a,l,h,u,c,d,f,p,g,m;if(t==null){t=true}this.options.data=n;if(n==null||n.length===0){this.data=[];this.raphael.clear();if(this.hover!=null){this.hover.hide()}return}f=this.cumulative?0:null;p=this.cumulative?0:null;if(this.options.goals.length>0){i=Math.min.apply(Math,this.options.goals);e=Math.max.apply(Math,this.options.goals);p=p!=null?Math.min(p,i):i;f=f!=null?Math.max(f,e):e}this.data=function(){var t,e,i;i=[];for(o=t=0,e=n.length;t<e;o=++t){l=n[o];a={src:l};a.label=l[this.options.xkey];if(this.options.parseTime){a.x=C.parseDate(a.label);if(this.options.dateFormat){a.label=this.options.dateFormat(a.x)}else if(typeof a.label==="number"){a.label=new Date(a.label).toString()}}else{a.x=o;if(this.options.xLabelFormat){a.label=this.options.xLabelFormat(a)}}u=0;a.y=function(){var t,e,i,n;i=this.options.ykeys;n=[];for(s=t=0,e=i.length;t<e;s=++t){d=i[s];g=l[d];if(typeof g==="string"){g=parseFloat(g)}if(g!=null&&typeof g!=="number"){g=null}if(g!=null){if(this.cumulative){u+=g}else{if(f!=null){f=Math.max(g,f);p=Math.min(g,p)}else{f=p=g}}}if(this.cumulative&&u!=null){f=Math.max(u,f);p=Math.min(u,p)}n.push(g)}return n}.call(this);i.push(a)}return i}.call(this);if(this.options.parseTime){this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})}this.xmin=this.data[0].x;this.xmax=this.data[this.data.length-1].x;this.events=[];if(this.options.events.length>0){if(this.options.parseTime){this.events=function(){var t,e,i,n;i=this.options.events;n=[];for(t=0,e=i.length;t<e;t++){r=i[t];n.push(C.parseDate(r))}return n}.call(this)}else{this.events=this.options.events}this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events));this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))}if(this.xmin===this.xmax){this.xmin-=1;this.xmax+=1}this.ymin=this.yboundary("min",p);this.ymax=this.yboundary("max",f);if(this.ymin===this.ymax){if(p){this.ymin-=1}this.ymax+=1}if((m=this.options.axes)===true||m==="both"||m==="y"||this.options.grid===true){if(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin){this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines);this.ymin=Math.min(this.ymin,this.grid[0]);this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])}else{h=(this.ymax-this.ymin)/(this.options.numLines-1);this.grid=function(){var t,e,i,n;n=[];for(c=t=e=this.ymin,i=this.ymax;h>0?t<=i:t>=i;c=t+=h){n.push(c)}return n}.call(this)}}this.dirty=true;if(t){return this.redraw()}};e.prototype.yboundary=function(t,e){var i,n;i=this.options["y"+t];if(typeof i==="string"){if(i.slice(0,4)==="auto"){if(i.length>5){n=parseInt(i.slice(5),10);if(e==null){return n}return Math[t](e,n)}else{if(e!=null){return e}else{return 0}}}else{return parseInt(i,10)}}else{return i}};e.prototype.autoGridLines=function(t,e,i){var n,r,s,o,a,l,h,u,c;a=e-t;c=Math.floor(Math.log(a)/Math.log(10));h=Math.pow(10,c);r=Math.floor(t/h)*h;n=Math.ceil(e/h)*h;l=(n-r)/(i-1);if(h===1&&l>1&&Math.ceil(l)!==l){l=Math.ceil(l);n=r+l*(i-1)}if(r<0&&n>0){r=Math.floor(t/l)*l;n=Math.ceil(e/l)*l}if(l<1){o=Math.floor(Math.log(l)/Math.log(10));s=function(){var t,e;e=[];for(u=t=r;l>0?t<=n:t>=n;u=t+=l){e.push(parseFloat(u.toFixed(1-o)))}return e}()}else{s=function(){var t,e;e=[];for(u=t=r;l>0?t<=n:t>=n;u=t+=l){e.push(u)}return e}()}return s};e.prototype._calc=function(){var t,r,e,n,i,s,o,a;i=this.el.width();e=this.el.height();if(this.elementWidth!==i||this.elementHeight!==e||this.dirty){this.elementWidth=i;this.elementHeight=e;this.dirty=false;this.left=this.options.padding;this.right=this.elementWidth-this.options.padding;this.top=this.options.padding;this.bottom=this.elementHeight-this.options.padding;if((o=this.options.axes)===true||o==="both"||o==="y"){s=function(){var t,e,i,n;i=this.grid;n=[];for(t=0,e=i.length;t<e;t++){r=i[t];n.push(this.measureText(this.yAxisFormat(r)).width)}return n}.call(this);this.left+=Math.max.apply(Math,s)}if((a=this.options.axes)===true||a==="both"||a==="x"){t=function(){var t,e,i;i=[];for(n=t=0,e=this.data.length;0<=e?t<e:t>e;n=0<=e?++t:--t){i.push(this.measureText(this.data[n].text,-this.options.xLabelAngle).height)}return i}.call(this);this.bottom-=Math.max.apply(Math,t)}this.width=Math.max(1,this.right-this.left);this.height=Math.max(1,this.bottom-this.top);this.dx=this.width/(this.xmax-this.xmin);this.dy=this.height/(this.ymax-this.ymin);if(this.calc){return this.calc()}}};e.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy};e.prototype.transX=function(t){if(this.data.length===1){return(this.left+this.right)/2}else{return this.left+(t-this.xmin)*this.dx}};e.prototype.redraw=function(){this.raphael.clear();this._calc();this.drawGrid();this.drawGoals();this.drawEvents();if(this.draw){return this.draw()}};e.prototype.measureText=function(t,e){var i,n;if(e==null){e=0}n=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e);i=n.getBBox();n.remove();return i};e.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)};e.prototype.yLabelFormat=function(t){if(typeof this.options.yLabelFormat==="function"){return this.options.yLabelFormat(t)}else{return""+this.options.preUnits+C.commas(t)+this.options.postUnits}};e.prototype.drawGrid=function(){var t,e,i,n,r,s,o,a;if(this.options.grid===false&&((r=this.options.axes)!==true&&r!=="both"&&r!=="y")){return}s=this.grid;a=[];for(i=0,n=s.length;i<n;i++){t=s[i];e=this.transY(t);if((o=this.options.axes)===true||o==="both"||o==="y"){this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t))}if(this.options.grid){a.push(this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width)))}else{a.push(void 0)}}return a};e.prototype.drawGoals=function(){var t,e,i,n,r,s,o;s=this.options.goals;o=[];for(i=n=0,r=s.length;n<r;i=++n){e=s[i];t=this.options.goalLineColors[i%this.options.goalLineColors.length];o.push(this.drawGoal(e,t))}return o};e.prototype.drawEvents=function(){var t,e,i,n,r,s,o;s=this.events;o=[];for(i=n=0,r=s.length;n<r;i=++n){e=s[i];t=this.options.eventLineColors[i%this.options.eventLineColors.length];o.push(this.drawEvent(e,t))}return o};e.prototype.drawGoal=function(t,e){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)};e.prototype.drawEvent=function(t,e){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth)};e.prototype.drawYAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")};e.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)};e.prototype.startRange=function(t){this.hover.hide();this.selectFrom=t;return this.selectionRect.attr({x:t,width:0}).show()};e.prototype.endRange=function(t){var e,i;if(this.selectFrom){i=Math.min(this.selectFrom,t);e=Math.max(this.selectFrom,t);this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(e)].x});return this.selectFrom=null}};e.prototype.resizeHandler=function(){this.timeoutId=null;this.raphael.setSize(this.el.width(),this.el.height());return this.redraw()};return e}(C.EventEmitter);C.parseDate=function(t){var e,i,n,r,s,o,a,l,h,u,c;if(typeof t==="number"){return t}i=t.match(/^(\d+) Q(\d)$/);r=t.match(/^(\d+)-(\d+)$/);s=t.match(/^(\d+)-(\d+)-(\d+)$/);a=t.match(/^(\d+) W(\d+)$/);l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/);h=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/);if(i){return new Date(parseInt(i[1],10),parseInt(i[2],10)*3-1,1).getTime()}else if(r){return new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime()}else if(s){return new Date(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10)).getTime()}else if(a){u=new Date(parseInt(a[1],10),0,1);if(u.getDay()!==4){u.setMonth(0,1+(4-u.getDay()+7)%7)}return u.getTime()+parseInt(a[2],10)*6048e5}else if(l){if(!l[6]){return new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime()}else{o=0;if(l[6]!=="Z"){o=parseInt(l[8],10)*60+parseInt(l[9],10);if(l[7]==="+"){o=0-o}}return Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+o)}}else if(h){c=parseFloat(h[6]);e=Math.floor(c);n=Math.round((c-e)*1e3);if(!h[8]){return new Date(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),e,n).getTime()}else{o=0;if(h[8]!=="Z"){o=parseInt(h[10],10)*60+parseInt(h[11],10);if(h[9]==="+"){o=0-o}}return Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)+o,e,n)}}else{return new Date(parseInt(t,10),0,1).getTime()}};C.Hover=function(){t.defaults={class:"morris-hover morris-default-style"};function t(t){if(t==null){t={}}this.options=m.extend({},C.Hover.defaults,t);this.el=m("<div class='"+this.options["class"]+"'></div>");this.el.hide();this.options.parent.append(this.el)}t.prototype.update=function(t,e,i){if(!t){return this.hide()}else{this.html(t);this.show();return this.moveTo(e,i)}};t.prototype.html=function(t){return this.el.html(t)};t.prototype.moveTo=function(t,e){var i,n,r,s,o,a;o=this.options.parent.innerWidth();s=this.options.parent.innerHeight();n=this.el.outerWidth();i=this.el.outerHeight();r=Math.min(Math.max(0,t-n/2),o-n);if(e!=null){a=e-i-10;if(a<0){a=e+10;if(a+i>s){a=s/2-i/2}}}else{a=s/2-i/2}return this.el.css({left:r+"px",top:parseInt(a)+"px"})};t.prototype.show=function(){return this.el.show()};t.prototype.hide=function(){return this.el.hide()};return t}();C.Line=function(t){s(e,t);function e(t){this.hilight=u(this.hilight,this);this.onHoverOut=u(this.onHoverOut,this);this.onHoverMove=u(this.onHoverMove,this);this.onGridClick=u(this.onGridClick,this);if(!(this instanceof C.Line)){return new C.Line(t)}e.__super__.constructor.call(this,t)}e.prototype.init=function(){if(this.options.hideHover!=="always"){this.hover=new C.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}};e.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:true,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:false};e.prototype.calc=function(){this.calcPoints();return this.generatePaths()};e.prototype.calcPoints=function(){var r,s,t,e,i,n;i=this.data;n=[];for(t=0,e=i.length;t<e;t++){r=i[t];r._x=this.transX(r.x);r._y=function(){var t,e,i,n;i=r.y;n=[];for(t=0,e=i.length;t<e;t++){s=i[t];if(s!=null){n.push(this.transY(s))}else{n.push(s)}}return n}.call(this);n.push(r._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var t,e,i,n;i=r._y;n=[];for(t=0,e=i.length;t<e;t++){s=i[t];if(s!=null){n.push(s)}}return n}())))}return n};e.prototype.hitTest=function(t){var e,i,n,r,s;if(this.data.length===0){return null}s=this.data.slice(1);for(e=n=0,r=s.length;n<r;e=++n){i=s[e];if(t<(i._x+this.data[e]._x)/2){break}}return e};e.prototype.onGridClick=function(t,e){var i;i=this.hitTest(t);return this.fire("click",i,this.data[i].src,t,e)};e.prototype.onHoverMove=function(t,e){var i;i=this.hitTest(t);return this.displayHoverForRow(i)};e.prototype.onHoverOut=function(){if(this.options.hideHover!==false){return this.displayHoverForRow(null)}};e.prototype.displayHoverForRow=function(t){var e;if(t!=null){(e=this.hover).update.apply(e,this.hoverContentForRow(t));return this.hilight(t)}else{this.hover.hide();return this.hilight()}};e.prototype.hoverContentForRow=function(t){var e,i,n,r,s,o,a;n=this.data[t];e="<div class='morris-hover-row-label'>"+n.label+"</div>";a=n.y;for(i=s=0,o=a.length;s<o;i=++s){r=a[i];e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(r)+"\n</div>"}if(typeof this.options.hoverCallback==="function"){e=this.options.hoverCallback(t,this.options,e,n.src)}return[e,n._x,n._ymax]};e.prototype.generatePaths=function(){var r,s,o,a;return this.paths=function(){var t,e,i,n;n=[];for(s=t=0,e=this.options.ykeys.length;0<=e?t<e:t>e;s=0<=e?++t:--t){a=typeof this.options.smooth==="boolean"?this.options.smooth:(i=this.options.ykeys[s],l.call(this.options.smooth,i)>=0);r=function(){var t,e,i,n;i=this.data;n=[];for(t=0,e=i.length;t<e;t++){o=i[t];if(o._y[s]!==void 0){n.push({x:o._x,y:o._y[s]})}}return n}.call(this);if(r.length>1){n.push(C.Line.createPath(r,a,this.bottom))}else{n.push(null)}}return n}.call(this)};e.prototype.draw=function(){var t;if((t=this.options.axes)===true||t==="both"||t==="x"){this.drawXAxis()}this.drawSeries();if(this.options.hideHover===false){return this.displayHoverForRow(this.data.length-1)}};e.prototype.drawXAxis=function(){var t,e,i,a,l,r,h,n,s,o,u=this;h=this.bottom+this.options.padding/2;l=null;a=null;t=function(t,e){var i,n,r,s,o;i=u.drawXAxisLabel(u.transX(e),h,t);o=i.getBBox();i.transform("r"+-u.options.xLabelAngle);n=i.getBBox();i.transform("t0,"+n.height/2+"...");if(u.options.xLabelAngle!==0){s=-.5*o.width*Math.cos(u.options.xLabelAngle*Math.PI/180);i.transform("t"+s+",0...")}n=i.getBBox();if((l==null||l>=n.x+n.width||a!=null&&a>=n.x)&&n.x>=0&&n.x+n.width<u.el.width()){if(u.options.xLabelAngle!==0){r=1.25*u.options.gridTextSize/Math.sin(u.options.xLabelAngle*Math.PI/180);a=n.x-r}return l=n.x-u.options.xLabelMargin}else{return i.remove()}};if(this.options.parseTime){if(this.data.length===1&&this.options.xLabels==="auto"){i=[[this.data[0].label,this.data[0].x]]}else{i=C.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat)}}else{i=function(){var t,e,i,n;i=this.data;n=[];for(t=0,e=i.length;t<e;t++){r=i[t];n.push([r.label,r.x])}return n}.call(this)}i.reverse();o=[];for(n=0,s=i.length;n<s;n++){e=i[n];o.push(t(e[0],e[1]))}return o};e.prototype.drawSeries=function(){var t,e,i,n,r,s;this.seriesPoints=[];for(t=e=n=this.options.ykeys.length-1;n<=0?e<=0:e>=0;t=n<=0?++e:--e){this._drawLineFor(t)}s=[];for(t=i=r=this.options.ykeys.length-1;r<=0?i<=0:i>=0;t=r<=0?++i:--i){s.push(this._drawPointFor(t))}return s};e.prototype._drawPointFor=function(t){var e,i,n,r,s,o;this.seriesPoints[t]=[];s=this.data;o=[];for(n=0,r=s.length;n<r;n++){i=s[n];e=null;if(i._y[t]!=null){e=this.drawLinePoint(i._x,i._y[t],this.colorFor(i,t,"point"),t)}o.push(this.seriesPoints[t].push(e))}return o};e.prototype._drawLineFor=function(t){var e;e=this.paths[t];if(e!==null){return this.drawLinePath(e,this.colorFor(null,t,"line"),t)}};e.createPath=function(t,e,i){var n,r,s,o,a,l,h,u,c,d,f,p,g,m;h="";if(e){s=C.Line.gradients(t)}u={y:null};for(o=g=0,m=t.length;g<m;o=++g){n=t[o];if(n.y!=null){if(u.y!=null){if(e){r=s[o];l=s[o-1];a=(n.x-u.x)/4;c=u.x+a;f=Math.min(i,u.y+a*l);d=n.x-a;p=Math.min(i,n.y-a*r);h+="C"+c+","+f+","+d+","+p+","+n.x+","+n.y}else{h+="L"+n.x+","+n.y}}else{if(!e||s[o]!=null){h+="M"+n.x+","+n.y}}}u=n}return h};e.gradients=function(t){var e,i,n,r,s,o,a,l;i=function(t,e){return(t.y-e.y)/(t.x-e.x)};l=[];for(n=o=0,a=t.length;o<a;n=++o){e=t[n];if(e.y!=null){r=t[n+1]||{y:null};s=t[n-1]||{y:null};if(s.y!=null&&r.y!=null){l.push(i(s,r))}else if(s.y!=null){l.push(i(s,e))}else if(r.y!=null){l.push(i(e,r))}else{l.push(null)}}else{l.push(null)}}return l};e.prototype.hilight=function(t){var e,i,n,r,s;if(this.prevHilight!==null&&this.prevHilight!==t){for(e=i=0,r=this.seriesPoints.length-1;0<=r?i<=r:i>=r;e=0<=r?++i:--i){if(this.seriesPoints[e][this.prevHilight]){this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e))}}}if(t!==null&&this.prevHilight!==t){for(e=n=0,s=this.seriesPoints.length-1;0<=s?n<=s:n>=s;e=0<=s?++n:--n){if(this.seriesPoints[e][t]){this.seriesPoints[e][t].animate(this.pointGrowSeries(e))}}}return this.prevHilight=t};e.prototype.colorFor=function(t,e,i){if(typeof this.options.lineColors==="function"){return this.options.lineColors.call(this,t,e,i)}else if(i==="point"){return this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]}else{return this.options.lineColors[e%this.options.lineColors.length]}};e.prototype.drawXAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)};e.prototype.drawLinePath=function(t,e,i){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(i))};e.prototype.drawLinePoint=function(t,e,i,n){return this.raphael.circle(t,e,this.pointSizeForSeries(n)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(n)).attr("stroke",this.pointStrokeColorForSeries(n))};e.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]};e.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]};e.prototype.lineWidthForSeries=function(t){if(this.options.lineWidth instanceof Array){return this.options.lineWidth[t%this.options.lineWidth.length]}else{return this.options.lineWidth}};e.prototype.pointSizeForSeries=function(t){if(this.options.pointSize instanceof Array){return this.options.pointSize[t%this.options.pointSize.length]}else{return this.options.pointSize}};e.prototype.pointGrowSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)+3},25,"linear")};e.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")};return e}(C.Grid);C.labelSeries=function(t,e,i,n,r){var s,o,a,l,h,u,c,d,f,p,g;a=200*(e-t)/i;o=new Date(t);c=C.LABEL_SPECS[n];if(c===void 0){g=C.AUTO_LABEL_ORDER;for(f=0,p=g.length;f<p;f++){l=g[f];u=C.LABEL_SPECS[l];if(a>=u.span){c=u;break}}}if(c===void 0){c=C.LABEL_SPECS["second"]}if(r){c=m.extend({},c,{fmt:r})}s=c.start(o);h=[];while((d=s.getTime())<=e){if(d>=t){h.push([c.fmt(s),d])}c.incr(s)}return h};t=function(e){return{span:e*60*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return""+C.pad2(t.getHours())+":"+C.pad2(t.getMinutes())},incr:function(t){return t.setUTCMinutes(t.getUTCMinutes()+e)}}};e=function(e){return{span:e*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return""+C.pad2(t.getHours())+":"+C.pad2(t.getMinutes())+":"+C.pad2(t.getSeconds())},incr:function(t){return t.setUTCSeconds(t.getUTCSeconds()+e)}}};C.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return""+t.getFullYear()+"-"+C.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+C.pad2(t.getMonth()+1)+"-"+C.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+C.pad2(t.getMonth()+1)+"-"+C.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:t(60),"30min":t(30),"15min":t(15),"10min":t(10),"5min":t(5),minute:t(1),"30sec":e(30),"15sec":e(15),"10sec":e(10),"5sec":e(5),second:e(1)};C.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"];C.Area=function(t){var i;s(n,t);i={fillOpacity:"auto",behaveLikeLine:false};function n(t){var e;if(!(this instanceof C.Area)){return new C.Area(t)}e=m.extend({},i,t);this.cumulative=!e.behaveLikeLine;if(e.fillOpacity==="auto"){e.fillOpacity=e.behaveLikeLine?.8:1}n.__super__.constructor.call(this,e)}n.prototype.calcPoints=function(){var r,s,o,t,e,i,n;i=this.data;n=[];for(t=0,e=i.length;t<e;t++){r=i[t];r._x=this.transX(r.x);s=0;r._y=function(){var t,e,i,n;i=r.y;n=[];for(t=0,e=i.length;t<e;t++){o=i[t];if(this.options.behaveLikeLine){n.push(this.transY(o))}else{s+=o||0;n.push(this.transY(s))}}return n}.call(this);n.push(r._ymax=Math.max.apply(Math,r._y))}return n};n.prototype.drawSeries=function(){var t,e,i,n,r,s,o,a,l,h,u;this.seriesPoints=[];if(this.options.behaveLikeLine){e=function(){l=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:t>=e;0<=e?t++:t--){l.push(t)}return l}.apply(this)}else{e=function(){h=[];for(var t=a=this.options.ykeys.length-1;a<=0?t<=0:t>=0;a<=0?t++:t--){h.push(t)}return h}.apply(this)}u=[];for(r=0,s=e.length;r<s;r++){t=e[r];this._drawFillFor(t);this._drawLineFor(t);u.push(this._drawPointFor(t))}return u};n.prototype._drawFillFor=function(t){var e;e=this.paths[t];if(e!==null){e=e+("L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z");return this.drawFilledPath(e,this.fillForSeries(t))}};n.prototype.fillForSeries=function(t){var e;e=Raphael.rgb2hsl(this.colorFor(this.data[t],t,"line"));return Raphael.hsl(e.h,this.options.behaveLikeLine?e.s*.9:e.s*.75,Math.min(.98,this.options.behaveLikeLine?e.l*1.2:e.l*1.25))};n.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")};return n}(C.Line);C.Bar=function(t){s(e,t);function e(t){this.onHoverOut=u(this.onHoverOut,this);this.onHoverMove=u(this.onHoverMove,this);this.onGridClick=u(this.onGridClick,this);if(!(this instanceof C.Bar)){return new C.Bar(t)}e.__super__.constructor.call(this,m.extend({},t,{parseTime:false}))}e.prototype.init=function(){this.cumulative=this.options.stacked;if(this.options.hideHover!=="always"){this.hover=new C.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}};e.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50};e.prototype.calc=function(){var t;this.calcBars();if(this.options.hideHover===false){return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))}};e.prototype.calcBars=function(){var t,r,s,e,i,n,o;n=this.data;o=[];for(t=e=0,i=n.length;e<i;t=++e){r=n[t];r._x=this.left+this.width*(t+.5)/this.data.length;o.push(r._y=function(){var t,e,i,n;i=r.y;n=[];for(t=0,e=i.length;t<e;t++){s=i[t];if(s!=null){n.push(this.transY(s))}else{n.push(null)}}return n}.call(this))}return o};e.prototype.draw=function(){var t;if((t=this.options.axes)===true||t==="both"||t==="x"){this.drawXAxis()}return this.drawSeries()};e.prototype.drawXAxis=function(){var t,e,i,n,r,s,o,a,l,h,u,c,d;h=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2);o=null;s=null;d=[];for(t=u=0,c=this.data.length;0<=c?u<c:u>c;t=0<=c?++u:--u){a=this.data[this.data.length-1-t];e=this.drawXAxisLabel(a._x,h,a.label);l=e.getBBox();e.transform("r"+-this.options.xLabelAngle);i=e.getBBox();e.transform("t0,"+i.height/2+"...");if(this.options.xLabelAngle!==0){r=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180);e.transform("t"+r+",0...")}if((o==null||o>=i.x+i.width||s!=null&&s>=i.x)&&i.x>=0&&i.x+i.width<this.el.width()){if(this.options.xLabelAngle!==0){n=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180);s=i.x-n}d.push(o=i.x-this.options.xLabelMargin)}else{d.push(e.remove())}}return d};e.prototype.drawSeries=function(){var r,s,o,a,l,h,u,t,c,d,f,e,p,g,m;o=this.width/this.options.data.length;t=this.options.stacked?1:this.options.ykeys.length;r=(o*this.options.barSizeRatio-this.options.barGap*(t-1))/t;if(this.options.barSize){r=Math.min(r,this.options.barSize)}e=o-r*t-this.options.barGap*(t-1);u=e/2;m=this.ymin<=0&&this.ymax>=0?this.transY(0):null;return this.bars=function(){var t,e,i,n;i=this.data;n=[];for(a=t=0,e=i.length;t<e;a=++t){c=i[a];l=0;n.push(function(){var t,e,i,n;i=c._y;n=[];for(d=t=0,e=i.length;t<e;d=++t){g=i[d];if(g!==null){if(m){p=Math.min(g,m);s=Math.max(g,m)}else{p=g;s=this.bottom}h=this.left+a*o+u;if(!this.options.stacked){h+=d*(r+this.options.barGap)}f=s-p;if(this.options.verticalGridCondition&&this.options.verticalGridCondition(c.x)){this.drawBar(this.left+a*o,this.top,o,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius)}if(this.options.stacked){p-=l}this.drawBar(h,p,r,f,this.colorFor(c,d,"bar"),this.options.barOpacity,this.options.barRadius);n.push(l+=f)}else{n.push(null)}}return n}.call(this))}return n}.call(this)};e.prototype.colorFor=function(t,e,i){var n,r;if(typeof this.options.barColors==="function"){n={x:t.x,y:t.y[e],label:t.label};r={index:e,key:this.options.ykeys[e],label:this.options.labels[e]};return this.options.barColors.call(this,n,r,i)}else{return this.options.barColors[e%this.options.barColors.length]}};e.prototype.hitTest=function(t){if(this.data.length===0){return null}t=Math.max(Math.min(t,this.right),this.left);return Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length)))};e.prototype.onGridClick=function(t,e){var i;i=this.hitTest(t);return this.fire("click",i,this.data[i].src,t,e)};e.prototype.onHoverMove=function(t,e){var i,n;i=this.hitTest(t);return(n=this.hover).update.apply(n,this.hoverContentForRow(i))};e.prototype.onHoverOut=function(){if(this.options.hideHover!==false){return this.hover.hide()}};e.prototype.hoverContentForRow=function(t){var e,i,n,r,s,o,a,l;n=this.data[t];e="<div class='morris-hover-row-label'>"+n.label+"</div>";l=n.y;for(i=o=0,a=l.length;o<a;i=++o){s=l[i];e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(s)+"\n</div>"}if(typeof this.options.hoverCallback==="function"){e=this.options.hoverCallback(t,this.options,e,n.src)}r=this.left+(t+.5)*this.width/this.data.length;return[e,r]};e.prototype.drawXAxisLabel=function(t,e,i){var n;return n=this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)};e.prototype.drawBar=function(t,e,i,n,r,s,o){var a,l;a=Math.max.apply(Math,o);if(a===0||a>n){l=this.raphael.rect(t,e,i,n)}else{l=this.raphael.path(this.roundedRect(t,e,i,n,o))}return l.attr("fill",r).attr("fill-opacity",s).attr("stroke","none")};e.prototype.roundedRect=function(t,e,i,n,r){if(r==null){r=[0,0,0,0]}return["M",t,r[0]+e,"Q",t,e,t+r[0],e,"L",t+i-r[1],e,"Q",t+i,e,t+i,e+r[1],"L",t+i,e+n-r[2],"Q",t+i,e+n,t+i-r[2],e+n,"L",t+r[3],e+n,"Q",t,e+n,t,e+n-r[3],"Z"]};return e}(C.Grid);C.Donut=function(t){s(e,t);e.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:C.commas,resize:false};function e(t){this.resizeHandler=u(this.resizeHandler,this);this.select=u(this.select,this);this.click=u(this.click,this);var e=this;if(!(this instanceof C.Donut)){return new C.Donut(t)}this.options=m.extend({},this.defaults,t);if(typeof t.element==="string"){this.el=m(document.getElementById(t.element))}else{this.el=m(t.element)}if(this.el===null||this.el.length===0){throw new Error("Graph placeholder not found.")}if(t.data===void 0||t.data.length===0){return}this.raphael=new Raphael(this.el[0]);if(this.options.resize){m(window).bind("resize",function(t){if(e.timeoutId!=null){window.clearTimeout(e.timeoutId)}return e.timeoutId=window.setTimeout(e.resizeHandler,100)})}this.setData(t.data)}e.prototype.redraw=function(){var t,e,i,n,r,s,o,a,l,h,u,c,d,f,p,g,m,v,y,b,w,x,_;this.raphael.clear();e=this.el.width()/2;i=this.el.height()/2;d=(Math.min(e,i)-10)/3;u=0;b=this.values;for(f=0,m=b.length;f<m;f++){c=b[f];u+=c}a=5/(2*d);t=1.9999*Math.PI-a*this.data.length;s=0;r=0;this.segments=[];w=this.values;for(n=p=0,v=w.length;p<v;n=++p){c=w[n];l=s+a+t*(c/u);h=new C.DonutSegment(e,i,d*2,d,s,l,this.data[n].color||this.options.colors[r%this.options.colors.length],this.options.backgroundColor,r,this.raphael);h.render();this.segments.push(h);h.on("hover",this.select);h.on("click",this.click);s=l;r+=1}this.text1=this.drawEmptyDonutLabel(e,i-10,this.options.labelColor,15,800);this.text2=this.drawEmptyDonutLabel(e,i+10,this.options.labelColor,14);o=Math.max.apply(Math,this.values);r=0;x=this.values;_=[];for(g=0,y=x.length;g<y;g++){c=x[g];if(c===o){this.select(r);break}_.push(r+=1)}return _};e.prototype.setData=function(t){var r;this.data=t;this.values=function(){var t,e,i,n;i=this.data;n=[];for(t=0,e=i.length;t<e;t++){r=i[t];n.push(parseFloat(r.value))}return n}.call(this);return this.redraw()};e.prototype.click=function(t){return this.fire("click",t,this.data[t])};e.prototype.select=function(t){var e,i,n,r,s,o;o=this.segments;for(r=0,s=o.length;r<s;r++){i=o[r];i.deselect()}n=this.segments[t];n.select();e=this.data[t];return this.setLabels(e.label,this.options.formatter(e.value,e))};e.prototype.setLabels=function(t,e){var i,n,r,s,o,a,l,h;i=(Math.min(this.el.width()/2,this.el.height()/2)-10)*2/3;s=1.8*i;r=i/2;n=i/3;this.text1.attr({text:t,transform:""});o=this.text1.getBBox();a=Math.min(s/o.width,r/o.height);this.text1.attr({transform:"S"+a+","+a+","+(o.x+o.width/2)+","+(o.y+o.height)});this.text2.attr({text:e,transform:""});l=this.text2.getBBox();h=Math.min(s/l.width,n/l.height);return this.text2.attr({transform:"S"+h+","+h+","+(l.x+l.width/2)+","+l.y})};e.prototype.drawEmptyDonutLabel=function(t,e,i,n,r){var s;s=this.raphael.text(t,e,"").attr("font-size",n).attr("fill",i);if(r!=null){s.attr("font-weight",r)}return s};e.prototype.resizeHandler=function(){this.timeoutId=null;this.raphael.setSize(this.el.width(),this.el.height());return this.redraw()};return e}(C.EventEmitter);C.DonutSegment=function(t){s(e,t);function e(t,e,i,n,r,s,o,a,l,h){this.cx=t;this.cy=e;this.inner=i;this.outer=n;this.color=o;this.backgroundColor=a;this.index=l;this.raphael=h;this.deselect=u(this.deselect,this);this.select=u(this.select,this);this.sin_p0=Math.sin(r);this.cos_p0=Math.cos(r);this.sin_p1=Math.sin(s);this.cos_p1=Math.cos(s);this.is_long=s-r>Math.PI?1:0;this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5);this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer);this.hilight=this.calcArc(this.inner)}e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]};e.prototype.calcSegment=function(t,e){var i,n,r,s,o,a,l,h,u,c;u=this.calcArcPoints(t),i=u[0],r=u[1],n=u[2],s=u[3];c=this.calcArcPoints(e),o=c[0],l=c[1],a=c[2],h=c[3];return"M"+i+","+r+("A"+t+","+t+",0,"+this.is_long+",0,"+n+","+s)+("L"+a+","+h)+("A"+e+","+e+",0,"+this.is_long+",1,"+o+","+l)+"Z"};e.prototype.calcArc=function(t){var e,i,n,r,s;s=this.calcArcPoints(t),e=s[0],n=s[1],i=s[2],r=s[3];return"M"+e+","+n+("A"+t+","+t+",0,"+this.is_long+",0,"+i+","+r)};e.prototype.render=function(){var t=this;this.arc=this.drawDonutArc(this.hilight,this.color);return this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})};e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})};e.prototype.drawDonutSegment=function(t,e,i,n,r){return this.raphael.path(t).attr({fill:e,stroke:i,"stroke-width":3}).hover(n).click(r)};e.prototype.select=function(){if(!this.selected){this.seg.animate({path:this.selectedPath},150,"<>");this.arc.animate({opacity:1},150,"<>");return this.selected=true}};e.prototype.deselect=function(){if(this.selected){this.seg.animate({path:this.path},150,"<>");this.arc.animate({opacity:0},150,"<>");return this.selected=false}};return e}(C.EventEmitter)}).call(this);!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(t){if(null===t)return"null";var e,i,n,r,s=$.type(t);if("undefined"!==s){if("number"===s||"boolean"===s)return String(t);if("string"===s)return $.quoteString(t);if("function"==typeof t.toJSON)return $.toJSON(t.toJSON());if("date"===s){var o=t.getUTCMonth()+1,a=t.getUTCDate(),l=t.getUTCFullYear(),h=t.getUTCHours(),u=t.getUTCMinutes(),c=t.getUTCSeconds(),d=t.getUTCMilliseconds();return o<10&&(o="0"+o),a<10&&(a="0"+a),h<10&&(h="0"+h),u<10&&(u="0"+u),c<10&&(c="0"+c),d<100&&(d="0"+d),d<10&&(d="0"+d),'"'+l+"-"+o+"-"+a+"T"+h+":"+u+":"+c+"."+d+'Z"'}if(e=[],$.isArray(t)){for(i=0;i<t.length;i++)e.push($.toJSON(t[i])||"null");return"["+e.join(",")+"]"}if("object"==typeof t){for(i in t)if(hasOwn.call(t,i)){if(s=typeof i,"number"===s)n='"'+i+'"';else{if("string"!==s)continue;n=$.quoteString(i)}s=typeof t[i],"function"!==s&&"undefined"!==s&&(r=$.toJSON(t[i]),e.push(n+":"+r))}return"{"+e.join(",")+"}"}}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(t){return t.match(escape)?'"'+t.replace(escape,function(t){var e=meta[t];return"string"==typeof e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})+'"':'"'+t+'"'}});(function t(e){"use strict";if(typeof define==="function"&&define.amd){define(e)}else if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=e()}else{window["Sortable"]=e()}})(function t(){"use strict";if(typeof window==="undefined"||!window.document){return function t(){throw new Error("Sortable.js requires a window with a document")}}var C,k,S,T,D,M,c,m,v,y,P,E,I,h,n,A,H,b={},u,l,R,r=/\s+/g,L=/left|right|inline/,F="Sortable"+(new Date).getTime(),w=window,d=w.document,s=w.parseInt,$=w.setTimeout,e=w.jQuery||w.Zepto,i=w.Polymer,o=false,a="draggable"in d.createElement("div"),f=function(t){if(!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)){return false}t=d.createElement("x");t.style.cssText="pointer-events:auto";return t.style.pointerEvents==="auto"}(),z=false,x=Math.abs,p=Math.min,g=[],_=[],N=st(function(t,e,i){if(i&&e.scroll){var n=i[F],r,s,o=e.scrollSensitivity,a=e.scrollSpeed,l=t.clientX,h=t.clientY,u=window.innerWidth,c=window.innerHeight,d,f,p,g;if(v!==i){m=e.scroll;v=i;y=e.scrollFn;if(m===true){m=i;do{if(m.offsetWidth<m.scrollWidth||m.offsetHeight<m.scrollHeight){break}}while(m=m.parentNode)}}if(m){r=m;s=m.getBoundingClientRect();d=(x(s.right-l)<=o)-(x(s.left-l)<=o);f=(x(s.bottom-h)<=o)-(x(s.top-h)<=o)}if(!(d||f)){d=(u-l<=o)-(l<=o);f=(c-h<=o)-(h<=o);(d||f)&&(r=w)}if(b.vx!==d||b.vy!==f||b.el!==r){b.el=r;b.vx=d;b.vy=f;clearInterval(b.pid);if(r){b.pid=setInterval(function(){g=f?f*a:0;p=d?d*a:0;if("function"===typeof y){return y.call(n,p,g,t)}if(r===w){w.scrollTo(w.pageXOffset+p,w.pageYOffset+g)}else{r.scrollTop+=g;r.scrollLeft+=p}},24)}}}},30),O=function(t){function e(n,r){if(n===void 0||n===true){n=i.name}if(typeof n==="function"){return n}else{return function(t,e){var i=e.options.group.name;return r?n:n&&(n.join?n.indexOf(i)>-1:i==n)}}}var i={};var n=t.group;if(!n||typeof n!="object"){n={name:n}}i.name=n.name;i.checkPull=e(n.pull,true);i.checkPut=e(n.put);i.revertClone=n.revertClone;t.group=i};function B(t,e){if(!(t&&t.nodeType&&t.nodeType===1)){throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t)}this.el=t;this.options=e=ot({},e);t[F]=this;var i={group:Math.random(),sort:true,disabled:false,store:null,handle:null,scroll:true,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:true,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0,forceFallback:false,fallbackClass:"sortable-fallback",fallbackOnBody:false,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var n in i){!(n in e)&&(e[n]=i[n])}O(e);for(var r in this){if(r.charAt(0)==="_"&&typeof this[r]==="function"){this[r]=this[r].bind(this)}}this.nativeDraggable=e.forceFallback?false:a;U(t,"mousedown",this._onTapStart);U(t,"touchstart",this._onTapStart);U(t,"pointerdown",this._onTapStart);if(this.nativeDraggable){U(t,"dragover",this);U(t,"dragenter",this)}_.push(this._onDragOver);e.store&&this.sort(e.store.get(this))}B.prototype={constructor:B,_onTapStart:function(t){var e=this,i=this.el,n=this.options,r=n.preventOnFilter,s=t.type,o=t.touches&&t.touches[0],a=(o||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0])||a,h=n.filter,u;lt(i);if(C){return}if(/mousedown|pointerdown/.test(s)&&t.button!==0||n.disabled){return}if(l.isContentEditable){return}a=j(a,n.draggable,i);if(!a){return}if(c===a){return}u=nt(a,n.draggable);if(typeof h==="function"){if(h.call(this,t,a,this)){Q(e,l,"filter",a,i,i,u);r&&t.preventDefault();return}}else if(h){h=h.split(",").some(function(t){t=j(l,t.trim(),i);if(t){Q(e,t,"filter",a,i,i,u);return true}});if(h){r&&t.preventDefault();return}}if(n.handle&&!j(l,n.handle,i)){return}this._prepareDragStart(t,o,a,u)},_prepareDragStart:function(t,e,i,n){var r=this,s=r.el,o=r.options,a=s.ownerDocument,l;if(i&&!C&&i.parentNode===s){u=t;D=s;C=i;k=C.parentNode;M=C.nextSibling;c=i;A=o.group;h=n;this._lastX=(e||t).clientX;this._lastY=(e||t).clientY;C.style["will-change"]="all";l=function(){r._disableDelayedDrag();C.draggable=r.nativeDraggable;G(C,o.chosenClass,true);r._triggerDragStart(t,e);Q(r,D,"choose",C,D,D,h)};o.ignore.split(",").forEach(function(t){K(C,t.trim(),J)});U(a,"mouseup",r._onDrop);U(a,"touchend",r._onDrop);U(a,"touchcancel",r._onDrop);U(a,"pointercancel",r._onDrop);U(a,"selectstart",r);if(o.delay){U(a,"mouseup",r._disableDelayedDrag);U(a,"touchend",r._disableDelayedDrag);U(a,"touchcancel",r._disableDelayedDrag);U(a,"mousemove",r._disableDelayedDrag);U(a,"touchmove",r._disableDelayedDrag);U(a,"pointermove",r._disableDelayedDrag);r._dragStartTimer=$(l,o.delay)}else{l()}}},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer);V(t,"mouseup",this._disableDelayedDrag);V(t,"touchend",this._disableDelayedDrag);V(t,"touchcancel",this._disableDelayedDrag);V(t,"mousemove",this._disableDelayedDrag);V(t,"touchmove",this._disableDelayedDrag);V(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){e=e||(t.pointerType=="touch"?t:null);if(e){u={target:C,clientX:e.clientX,clientY:e.clientY};this._onDragStart(u,"touch")}else if(!this.nativeDraggable){this._onDragStart(u,true)}else{U(C,"dragend",this);U(D,"dragstart",this._onDragStart)}try{if(d.selection){ht(function(){d.selection.empty()})}else{window.getSelection().removeAllRanges()}}catch(t){}},_dragStarted:function(){if(D&&C){var t=this.options;G(C,t.ghostClass,true);G(C,t.dragClass,false);B.active=this;Q(this,D,"start",C,D,D,h)}else{this._nulling()}},_emulateDragOver:function(){if(l){if(this._lastX===l.clientX&&this._lastY===l.clientY){return}this._lastX=l.clientX;this._lastY=l.clientY;if(!f){X(S,"display","none")}var t=d.elementFromPoint(l.clientX,l.clientY),e=t,i=_.length;if(e){do{if(e[F]){while(i--){_[i]({clientX:l.clientX,clientY:l.clientY,target:t,rootEl:e})}break}t=e}while(e=e.parentNode)}if(!f){X(S,"display","")}}},_onTouchMove:function(t){if(u){var e=this.options,i=e.fallbackTolerance,n=e.fallbackOffset,r=t.touches?t.touches[0]:t,s=r.clientX-u.clientX+n.x,o=r.clientY-u.clientY+n.y,a=t.touches?"translate3d("+s+"px,"+o+"px,0)":"translate("+s+"px,"+o+"px)";if(!B.active){if(i&&p(x(r.clientX-this._lastX),x(r.clientY-this._lastY))<i){return}this._dragStarted()}this._appendGhost();R=true;l=r;X(S,"webkitTransform",a);X(S,"mozTransform",a);X(S,"msTransform",a);X(S,"transform",a);t.preventDefault()}},_appendGhost:function(){if(!S){var t=C.getBoundingClientRect(),e=X(C),i=this.options,n;S=C.cloneNode(true);G(S,i.ghostClass,false);G(S,i.fallbackClass,true);G(S,i.dragClass,true);X(S,"top",t.top-s(e.marginTop,10));X(S,"left",t.left-s(e.marginLeft,10));X(S,"width",t.width);X(S,"height",t.height);X(S,"opacity","0.8");X(S,"position","fixed");X(S,"zIndex","100000");X(S,"pointerEvents","none");i.fallbackOnBody&&d.body.appendChild(S)||D.appendChild(S);n=S.getBoundingClientRect();X(S,"width",t.width*2-n.width);X(S,"height",t.height*2-n.height)}},_onDragStart:function(t,e){var i=this;var n=t.dataTransfer;var r=i.options;i._offUpEvents();if(A.checkPull(i,i,C,t)){T=at(C);T.draggable=false;T.style["will-change"]="";X(T,"display","none");G(T,i.options.chosenClass,false);i._cloneId=ht(function(){D.insertBefore(T,C);Q(i,D,"clone",C)})}G(C,r.dragClass,true);if(e){if(e==="touch"){U(d,"touchmove",i._onTouchMove);U(d,"touchend",i._onDrop);U(d,"touchcancel",i._onDrop);U(d,"pointermove",i._onTouchMove);U(d,"pointerup",i._onDrop)}else{U(d,"mousemove",i._onTouchMove);U(d,"mouseup",i._onDrop)}i._loopId=setInterval(i._emulateDragOver,50)}else{if(n){n.effectAllowed="move";r.setData&&r.setData.call(i,n,C)}U(d,"drop",i);U(d,"mouseover",i);i._dragStartId=ht(i._dragStarted)}},_onDragOver:function(t){var e=this.el,i,n,r,s,o=this.options,a=o.group,l=B.active,h=A===a,u=false,c=o.sort;if(t.preventDefault!==void 0){t.preventDefault();!o.dragoverBubble&&t.stopPropagation()}if(C.animated){return}R=true;if(l&&!o.disabled&&(h?c||(s=!D.contains(C)):H===this||(l.lastPullMode=A.checkPull(this,l,C,t))&&a.checkPut(this,l,C,t))&&(t.rootEl===void 0||t.rootEl===this.el)){N(t,o,this.el);if(z){return}i=j(t.target,o.draggable,e);n=C.getBoundingClientRect();if(H!==this){H=this;u=true}if(s){W(l,true);k=D;if(T||M){D.insertBefore(C,T||M)}else if(!c){D.appendChild(C)}return}if(e.children.length===0||e.children[0]===S||e===t.target&&et(e,t)){if(e.children.length!==0&&e.children[0]!==S&&e===t.target){i=e.lastElementChild}if(i){if(i.animated){return}r=i.getBoundingClientRect()}W(l,h);if(Z(D,e,C,n,i,r,t)!==false){if(!C.contains(e)){e.appendChild(C);k=e}this._animate(n,C);i&&this._animate(r,i)}}else if(i&&!i.animated&&i!==C&&i.parentNode[F]!==void 0){if(P!==i){P=i;E=X(i);I=X(i.parentNode)}r=i.getBoundingClientRect();var d=r.right-r.left,f=r.bottom-r.top,p=L.test(E.cssFloat+E.display)||I.display=="flex"&&I["flex-direction"].indexOf("row")===0,g=i.offsetWidth>C.offsetWidth,m=i.offsetHeight>C.offsetHeight,v=(p?(t.clientX-r.left)/d:(t.clientY-r.top)/f)>.5,y=i.nextElementSibling,b=false;if(p){var w=C.offsetTop,x=i.offsetTop;if(w===x){b=i.previousElementSibling===C&&!g||v&&g}else if(i.previousElementSibling===C||C.previousElementSibling===i){b=(t.clientY-r.top)/f>.5}else{b=x>w}}else if(!u){b=y!==C&&!m||v&&m}var _=Z(D,e,C,n,i,r,t,b);if(_!==false){if(_===1||_===-1){b=_===1}z=true;$(tt,30);W(l,h);if(!C.contains(e)){if(b&&!y){e.appendChild(C)}else{i.parentNode.insertBefore(C,b?y:i)}}k=C.parentNode;this._animate(n,C);this._animate(r,i)}}}},_animate:function(t,e){var i=this.options.animation;if(i){var n=e.getBoundingClientRect();if(t.nodeType===1){t=t.getBoundingClientRect()}X(e,"transition","none");X(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)");e.offsetWidth;X(e,"transition","all "+i+"ms");X(e,"transform","translate3d(0,0,0)");clearTimeout(e.animated);e.animated=$(function(){X(e,"transition","");X(e,"transform","");e.animated=false},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;V(d,"touchmove",this._onTouchMove);V(d,"pointermove",this._onTouchMove);V(t,"mouseup",this._onDrop);V(t,"touchend",this._onDrop);V(t,"pointerup",this._onDrop);V(t,"touchcancel",this._onDrop);V(t,"pointercancel",this._onDrop);V(t,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;clearInterval(this._loopId);clearInterval(b.pid);clearTimeout(this._dragStartTimer);ut(this._cloneId);ut(this._dragStartId);V(d,"mouseover",this);V(d,"mousemove",this._onTouchMove);if(this.nativeDraggable){V(d,"drop",this);V(e,"dragstart",this._onDragStart)}this._offUpEvents();if(t){if(R){t.preventDefault();!i.dropBubble&&t.stopPropagation()}S&&S.parentNode&&S.parentNode.removeChild(S);if(D===k||B.active.lastPullMode!=="clone"){T&&T.parentNode&&T.parentNode.removeChild(T)}if(C){if(this.nativeDraggable){V(C,"dragend",this)}J(C);C.style["will-change"]="";G(C,this.options.ghostClass,false);G(C,this.options.chosenClass,false);Q(this,D,"unchoose",C,k,D,h);if(D!==k){n=nt(C,i.draggable);if(n>=0){Q(null,k,"add",C,k,D,h,n);Q(this,D,"remove",C,k,D,h,n);Q(null,k,"sort",C,k,D,h,n);Q(this,D,"sort",C,k,D,h,n)}}else{if(C.nextSibling!==M){n=nt(C,i.draggable);if(n>=0){Q(this,D,"update",C,k,D,h,n);Q(this,D,"sort",C,k,D,h,n)}}}if(B.active){if(n==null||n===-1){n=h}Q(this,D,"end",C,k,D,h,n);this.save()}}}this._nulling()},_nulling:function(){D=C=k=S=M=T=c=m=v=u=l=R=n=P=E=H=A=B.active=null;g.forEach(function(t){t.checked=true});g.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":if(C){this._onDragOver(t);Y(t)}break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault();break}},toArray:function(){var t=[],e,i=this.el.children,n=0,r=i.length,s=this.options;for(;n<r;n++){e=i[n];if(j(e,s.draggable,this.el)){t.push(e.getAttribute(s.dataIdAttr)||it(e))}}return t},sort:function(t){var n={},r=this.el;this.toArray().forEach(function(t,e){var i=r.children[e];if(j(i,this.options.draggable,r)){n[t]=i}},this);t.forEach(function(t){if(n[t]){r.removeChild(n[t]);r.appendChild(n[t])}})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return j(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;if(e===void 0){return i[t]}else{i[t]=e;if(t==="group"){O(i)}}},destroy:function(){var t=this.el;t[F]=null;V(t,"mousedown",this._onTapStart);V(t,"touchstart",this._onTapStart);V(t,"pointerdown",this._onTapStart);if(this.nativeDraggable){V(t,"dragover",this);V(t,"dragenter",this)}Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")});_.splice(_.indexOf(this._onDragOver),1);this._onDrop();this.el=t=null}};function W(t,e){if(t.lastPullMode!=="clone"){e=true}if(T&&T.state!==e){X(T,"display",e?"none":"");if(!e){if(T.state){if(t.options.group.revertClone){D.insertBefore(T,M);t._animate(C,T)}else{D.insertBefore(T,C)}}}T.state=e}}function j(t,e,i){if(t){i=i||d;do{if(e===">*"&&t.parentNode===i||rt(t,e)){return t}}while(t=q(t))}return null}function q(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function Y(t){if(t.dataTransfer){t.dataTransfer.dropEffect="move"}t.preventDefault()}function U(t,e,i){t.addEventListener(e,i,o)}function V(t,e,i){t.removeEventListener(e,i,o)}function G(t,e,i){if(t){if(t.classList){t.classList[i?"add":"remove"](e)}else{var n=(" "+t.className+" ").replace(r," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(r," ")}}}function X(t,e,i){var n=t&&t.style;if(n){if(i===void 0){if(d.defaultView&&d.defaultView.getComputedStyle){i=d.defaultView.getComputedStyle(t,"")}else if(t.currentStyle){i=t.currentStyle}return e===void 0?i:i[e]}else{if(!(e in n)){e="-webkit-"+e}n[e]=i+(typeof i==="string"?"":"px")}}}function K(t,e,i){if(t){var n=t.getElementsByTagName(e),r=0,s=n.length;if(i){for(;r<s;r++){i(n[r],r)}}return n}return[]}function Q(t,e,i,n,r,s,o,a){t=t||e[F];var l=d.createEvent("Event"),h=t.options,u="on"+i.charAt(0).toUpperCase()+i.substr(1);l.initEvent(i,true,true);l.to=r||e;l.from=s||e;l.item=n||e;l.clone=T;l.oldIndex=o;l.newIndex=a;e.dispatchEvent(l);if(h[u]){h[u].call(t,l)}}function Z(t,e,i,n,r,s,o,a){var l,h=t[F],u=h.options.onMove,c;l=d.createEvent("Event");l.initEvent("move",true,true);l.to=e;l.from=t;l.dragged=i;l.draggedRect=n;l.related=r||e;l.relatedRect=s||e.getBoundingClientRect();l.willInsertAfter=a;t.dispatchEvent(l);if(u){c=u.call(h,l,o)}return c}function J(t){t.draggable=false}function tt(){z=false}function et(t,e){var i=t.lastElementChild,n=i.getBoundingClientRect();return e.clientY-(n.top+n.height)>5||e.clientX-(n.left+n.width)>5}function it(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;while(i--){n+=e.charCodeAt(i)}return n.toString(36)}function nt(t,e){var i=0;if(!t||!t.parentNode){return-1}while(t&&(t=t.previousElementSibling)){if(t.nodeName.toUpperCase()!=="TEMPLATE"&&(e===">*"||rt(t,e))){i++}}return i}function rt(t,e){if(t){e=e.split(".");var i=e.shift().toUpperCase(),n=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return(i===""||t.nodeName.toUpperCase()==i)&&(!e.length||((" "+t.className+" ").match(n)||[]).length==e.length)}return false}function st(t,e){var i,n;return function(){if(i===void 0){i=arguments;n=this;$(function(){if(i.length===1){t.call(n,i[0])}else{t.apply(n,i)}i=void 0},e)}}}function ot(t,e){if(t&&e){for(var i in e){if(e.hasOwnProperty(i)){t[i]=e[i]}}}return t}function at(t){if(i&&i.dom){return i.dom(t).cloneNode(true)}else if(e){return e(t).clone(true)[0]}else{return t.cloneNode(true)}}function lt(t){var e=t.getElementsByTagName("input");var i=e.length;while(i--){var n=e[i];n.checked&&g.push(n)}}function ht(t){return $(t,0)}function ut(t){return clearTimeout(t)}U(d,"touchmove",function(t){if(B.active){t.preventDefault()}});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){o={capture:false,passive:false}}}))}catch(t){}B.utils={on:U,off:V,css:X,find:K,is:function(t,e){return!!j(t,e,t)},extend:ot,throttle:st,closest:j,toggleClass:G,clone:at,index:nt,nextTick:ht,cancelNextTick:ut};B.create=function(t,e){return new B(t,e)};B.version="1.6.1";return B});(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else{t(jQuery)}})(function(b){b.ui=b.ui||{};var t=b.ui.version="1.12.1";var i=0;var a=Array.prototype.slice;b.cleanData=function(r){return function(t){var e,i,n;for(n=0;(i=t[n])!=null;n++){try{e=b._data(i,"events");if(e&&e.remove){b(i).triggerHandler("remove")}}catch(t){}}r(t)}}(b.cleanData);b.widget=function(t,i,e){var n,r,s;var o={};var a=t.split(".")[0];t=t.split(".")[1];var l=a+"-"+t;if(!e){e=i;i=b.Widget}if(b.isArray(e)){e=b.extend.apply(null,[{}].concat(e))}b.expr[":"][l.toLowerCase()]=function(t){return!!b.data(t,l)};b[a]=b[a]||{};n=b[a][t];r=b[a][t]=function(t,e){if(!this._createWidget){return new r(t,e)}if(arguments.length){this._createWidget(t,e)}};b.extend(r,n,{version:e.version,_proto:b.extend({},e),_childConstructors:[]});s=new i;s.options=b.widget.extend({},s.options);b.each(e,function(e,s){if(!b.isFunction(s)){o[e]=s;return}o[e]=function(){function n(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var t=this._super;var e=this._superApply;var i;this._super=n;this._superApply=r;i=s.apply(this,arguments);this._super=t;this._superApply=e;return i}}()});r.prototype=b.widget.extend(s,{widgetEventPrefix:n?s.widgetEventPrefix||t:t},o,{constructor:r,namespace:a,widgetName:t,widgetFullName:l});if(n){b.each(n._childConstructors,function(t,e){var i=e.prototype;b.widget(i.namespace+"."+i.widgetName,r,e._proto)});delete n._childConstructors}else{i._childConstructors.push(r)}b.widget.bridge(t,r);return r};b.widget.extend=function(t){var e=a.call(arguments,1);var i=0;var n=e.length;var r;var s;for(;i<n;i++){for(r in e[i]){s=e[i][r];if(e[i].hasOwnProperty(r)&&s!==undefined){if(b.isPlainObject(s)){t[r]=b.isPlainObject(t[r])?b.widget.extend({},t[r],s):b.widget.extend({},s)}else{t[r]=s}}}}return t};b.widget.bridge=function(s,e){var o=e.prototype.widgetFullName||s;b.fn[s]=function(i){var t=typeof i==="string";var n=a.call(arguments,1);var r=this;if(t){if(!this.length&&i==="instance"){r=undefined}else{this.each(function(){var t;var e=b.data(this,o);if(i==="instance"){r=e;return false}if(!e){return b.error("cannot call methods on "+s+" prior to initialization; "+"attempted to call method '"+i+"'")}if(!b.isFunction(e[i])||i.charAt(0)==="_"){return b.error("no such method '"+i+"' for "+s+" widget instance")}t=e[i].apply(e,n);if(t!==e&&t!==undefined){r=t&&t.jquery?r.pushStack(t.get()):t;return false}})}}else{if(n.length){i=b.widget.extend.apply(null,[i].concat(n))}this.each(function(){var t=b.data(this,o);if(t){t.option(i||{});if(t._init){t._init()}}else{b.data(this,o,new e(i,this))}})}return r}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(t,e){e=b(e||this.defaultElement||this)[0];this.element=b(e);this.uuid=i++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=b();this.hoverable=b();this.focusable=b();this.classesElementLookup={};if(e!==this){b.data(e,this.widgetFullName,this);this._on(true,this.element,{remove:function(t){if(t.target===e){this.destroy()}}});this.document=b(e.style?e.ownerDocument:e.document||e);this.window=b(this.document[0].defaultView||this.document[0].parentWindow)}this.options=b.widget.extend({},this.options,this._getCreateOptions(),t);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled)}this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){var i=this;this._destroy();b.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:b.noop,widget:function(){return this.element},option:function(t,e){var i=t;var n;var r;var s;if(arguments.length===0){return b.widget.extend({},this.options)}if(typeof t==="string"){i={};n=t.split(".");t=n.shift();if(n.length){r=i[t]=b.widget.extend({},this.options[t]);for(s=0;s<n.length-1;s++){r[n[s]]=r[n[s]]||{};r=r[n[s]]}t=n.pop();if(arguments.length===1){return r[t]===undefined?null:r[t]}r[t]=e}else{if(arguments.length===1){return this.options[t]===undefined?null:this.options[t]}i[t]=e}}this._setOptions(i);return this},_setOptions:function(t){var e;for(e in t){this._setOption(e,t[e])}return this},_setOption:function(t,e){if(t==="classes"){this._setOptionClasses(e)}this.options[t]=e;if(t==="disabled"){this._setOptionDisabled(e)}return this},_setOptionClasses:function(t){var e,i,n;for(e in t){n=this.classesElementLookup[e];if(t[e]===this.options.classes[e]||!n||!n.length){continue}i=b(n.get());this._removeClass(n,e);i.addClass(this._classes({element:i,keys:e,classes:t,add:true}))}},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t);if(t){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(r){var s=[];var o=this;r=b.extend({element:this.element,classes:this.options.classes||{}},r);function t(t,e){var i,n;for(n=0;n<t.length;n++){i=o.classesElementLookup[t[n]]||b();if(r.add){i=b(b.unique(i.get().concat(r.element.get())))}else{i=b(i.not(r.element).get())}o.classesElementLookup[t[n]]=i;s.push(t[n]);if(e&&r.classes[t[n]]){s.push(r.classes[t[n]])}}}this._on(r.element,{remove:"_untrackClassesElement"});if(r.keys){t(r.keys.match(/\S+/g)||[],true)}if(r.extra){t(r.extra.match(/\S+/g)||[])}return s.join(" ")},_untrackClassesElement:function(i){var n=this;b.each(n.classesElementLookup,function(t,e){if(b.inArray(i.target,e)!==-1){n.classesElementLookup[t]=b(e.not(i.target).get())}})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,false)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,true)},_toggleClass:function(t,e,i,n){n=typeof n==="boolean"?n:i;var r=typeof t==="string"||t===null,s={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};s.element.toggleClass(this._classes(s),n);return this},_on:function(o,a,t){var l;var h=this;if(typeof o!=="boolean"){t=a;a=o;o=false}if(!t){t=a;a=this.element;l=this.widget()}else{a=l=b(a);this.bindings=this.bindings.add(a)}b.each(t,function(t,e){function i(){if(!o&&(h.options.disabled===true||b(this).hasClass("ui-state-disabled"))){return}return(typeof e==="string"?h[e]:e).apply(h,arguments)}if(typeof e!=="string"){i.guid=e.guid=e.guid||i.guid||b.guid++}var n=t.match(/^([\w:-]*)\s*(.*)$/);var r=n[1]+h.eventNamespace;var s=n[2];if(s){l.on(r,s,i)}else{a.on(r,i)}})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.off(e).off(e);this.bindings=b(this.bindings.not(t).get());this.focusable=b(this.focusable.not(t).get());this.hoverable=b(this.hoverable.not(t).get())},_delay:function(t,e){function i(){return(typeof t==="string"?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){this._addClass(b(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(b(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){this._addClass(b(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(b(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var n,r;var s=this.options[t];i=i||{};e=b.Event(e);e.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();e.target=this.element[0];r=e.originalEvent;if(r){for(n in r){if(!(n in e)){e[n]=r[n]}}}this.element.trigger(e,i);return!(b.isFunction(s)&&s.apply(this.element[0],[e].concat(i))===false||e.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(s,o){b.Widget.prototype["_"+s]=function(e,t,i){if(typeof t==="string"){t={effect:t}}var n;var r=!t?s:t===true||typeof t==="number"?o:t.effect||o;t=t||{};if(typeof t==="number"){t={duration:t}}n=!b.isEmptyObject(t);t.complete=i;if(t.delay){e.delay(t.delay)}if(n&&b.effects&&b.effects.effect[r]){e[s](t)}else if(r!==s&&e[r]){e[r](t.duration,t.easing,i)}else{e.queue(function(t){b(this)[s]();if(i){i.call(e[0])}t()})}}});var e=b.widget;var n=b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(e){return function(t){return!!b.data(t,e)}}):function(t,e,i){return!!b.data(t,i[3])}});var r=b.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var s=b.fn.scrollParent=function(t){var e=this.css("position"),i=e==="absolute",n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=b(this);if(i&&t.css("position")==="static"){return false}return n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return e==="fixed"||!r.length?b(this[0].ownerDocument||document):r};var o=b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var l=false;b(document).on("mouseup",function(){l=false});var h=b.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(true===b.data(t.target,e.widgetName+".preventClickEvent")){b.removeData(t.target,e.widgetName+".preventClickEvent");t.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(t){if(l){return}this._mouseMoved=false;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var e=this,i=t.which===1,n=typeof this.options.cancel==="string"&&t.target.nodeName?b(t.target).closest(this.options.cancel).length:false;if(!i||n||!this._mouseCapture(t)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==false;if(!this._mouseStarted){t.preventDefault();return true}}if(true===b.data(t.target,this.widgetName+".preventClickEvent")){b.removeData(t.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(t){return e._mouseMove(t)};this._mouseUpDelegate=function(t){return e._mouseUp(t)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);t.preventDefault();l=true;return true},_mouseMove:function(t){if(this._mouseMoved){if(b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button){return this._mouseUp(t)}else if(!t.which){if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey){this.ignoreMissingWhich=true}else if(!this.ignoreMissingWhich){return this._mouseUp(t)}}}if(t.which||t.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==false;this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(t.target===this._mouseDownEvent.target){b.data(t.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(t)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;l=false;t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});var u=b.ui.plugin={add:function(t,e,i){var n,r=b.ui[t].prototype;for(n in i){r.plugins[n]=r.plugins[n]||[];r.plugins[n].push([e,i[n]])}},call:function(t,e,i,n){var r,s=t.plugins[e];if(!s){return}if(!n&&(!t.element[0].parentNode||t.element[0].parentNode.nodeType===11)){return}for(r=0;r<s.length;r++){if(t.options[s[r][0]]){s[r][1].apply(t.element,i)}}}};var c=b.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}if(!i){i=e.body}if(!i.nodeName){i=e.body}return i};var d=b.ui.safeBlur=function(t){if(t&&t.nodeName.toLowerCase()!=="body"){b(t).trigger("blur")}};b.widget("ui.draggable",b.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this._addClass("ui-draggable")}this._setHandleClassName();this._mouseInit()},_setOption:function(t,e){this._super(t,e);if(t==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(t){var e=this.options;if(this.helper||e.disabled||b(t.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(t);if(!this.handle){return false}this._blurActiveElement(t);this._blockFrames(e.iframeFix===true?"iframe":e.iframeFix);return true},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=b(this);return b("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(t){var e=b.ui.safeActiveElement(this.document[0]),i=b(t.target);if(i.closest(e).length){return}b.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;this.helper=this._createHelper(t);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if(b.ui.ddmanager){b.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return b(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(t);this.originalPosition=this.position=this._generatePosition(t,false);this.originalPageX=t.pageX;this.originalPageY=t.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);this._setContainment();if(this._trigger("start",t)===false){this._clear();return false}this._cacheHelperProportions();if(b.ui.ddmanager&&!e.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,t)}this._mouseDrag(t,true);if(b.ui.ddmanager){b.ui.ddmanager.dragStart(this,t)}return true},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(t,true);this.positionAbs=this._convertPositionTo("absolute");if(!e){var i=this._uiHash();if(this._trigger("drag",t,i)===false){this._mouseUp(new b.Event("mouseup",t));return false}this.position=i.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(b.ui.ddmanager){b.ui.ddmanager.drag(this,t)}return false},_mouseStop:function(t){var e=this,i=false;if(b.ui.ddmanager&&!this.options.dropBehaviour){i=b.ui.ddmanager.drop(this,t)}if(this.dropped){i=this.dropped;this.dropped=false}if(this.options.revert==="invalid"&&!i||this.options.revert==="valid"&&i||this.options.revert===true||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(e._trigger("stop",t)!==false){e._clear()}})}else{if(this._trigger("stop",t)!==false){this._clear()}}return false},_mouseUp:function(t){this._unblockFrames();if(b.ui.ddmanager){b.ui.ddmanager.dragStop(this,t)}if(this.handleElement.is(t.target)){this.element.trigger("focus")}return b.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new b.Event("mouseup",{target:this.element[0]}))}else{this._clear()}return this},_getHandle:function(t){return this.options.handle?!!b(t.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,i=b.isFunction(e.helper),n=i?b(e.helper.apply(this.element[0],[t])):e.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!n.parents("body").length){n.appendTo(e.appendTo==="parent"?this.element[0].parentNode:e.appendTo)}if(i&&n[0]===this.element[0]){this._setPositionRelative()}if(n[0]!==this.element[0]&&!/(fixed|absolute)/.test(n.css("position"))){n.css("position","absolute")}return n},_setPositionRelative:function(){if(!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(t){if(typeof t==="string"){t=t.split(" ")}if(b.isArray(t)){t={left:+t[0],top:+t[1]||0}}if("left"in t){this.offset.click.left=t.left+this.margins.left}if("right"in t){this.offset.click.left=this.helperProportions.width-t.right+this.margins.left}if("top"in t){this.offset.click.top=t.top+this.margins.top}if("bottom"in t){this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top}},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==e&&b.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){t={top:0,left:0}}return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(!e?this.scrollParent.scrollTop():0),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(!e?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options,r=this.document[0];this.relativeContainer=null;if(!n.containment){this.containment=null;return}if(n.containment==="window"){this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(n.containment==="document"){this.containment=[0,0,b(r).width()-this.helperProportions.width-this.margins.left,(b(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(n.containment.constructor===Array){this.containment=n.containment;return}if(n.containment==="parent"){n.containment=this.helper[0].parentNode}e=b(n.containment);i=e[0];if(!i){return}t=/(scroll|auto)/.test(e.css("overflow"));this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=e},_convertPositionTo:function(t,e){if(!e){e=this.position}var i=t==="absolute"?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-(this.cssPosition==="fixed"?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-(this.cssPosition==="fixed"?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;if(!a||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(e){if(this.containment){if(this.relativeContainer){n=this.relativeContainer.offset();i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]}else{i=this.containment}if(t.pageX-this.offset.click.left<i[0]){l=i[0]+this.offset.click.left}if(t.pageY-this.offset.click.top<i[1]){h=i[1]+this.offset.click.top}if(t.pageX-this.offset.click.left>i[2]){l=i[2]+this.offset.click.left}if(t.pageY-this.offset.click.top>i[3]){h=i[3]+this.offset.click.top}}if(o.grid){r=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;h=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r;s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s}if(o.axis==="y"){l=this.originalPageX}if(o.axis==="x"){h=this.originalPageY}}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_trigger:function(t,e,i){i=i||this._uiHash();b.ui.plugin.call(this,t,[e,i,this],true);if(/^(drag|start|stop)/.test(t)){this.positionAbs=this._convertPositionTo("absolute");i.offset=this.positionAbs}return b.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var n=b.extend({},t,{item:i.element});i.sortables=[];b(i.options.connectToSortable).each(function(){var t=b(this).sortable("instance");if(t&&!t.options.disabled){i.sortables.push(t);t.refreshPositions();t._trigger("activate",e,n)}})},stop:function(e,t,i){var n=b.extend({},t,{item:i.element});i.cancelHelperRemoval=false;b.each(i.sortables,function(){var t=this;if(t.isOver){t.isOver=0;i.cancelHelperRemoval=true;t.cancelHelperRemoval=false;t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")};t._mouseStop(e);t.options.helper=t.options._helper}else{t.cancelHelperRemoval=true;t._trigger("deactivate",e,n)}})},drag:function(i,n,r){b.each(r.sortables,function(){var t=false,e=this;e.positionAbs=r.positionAbs;e.helperProportions=r.helperProportions;e.offset.click=r.offset.click;if(e._intersectsWith(e.containerCache)){t=true;b.each(r.sortables,function(){this.positionAbs=r.positionAbs;this.helperProportions=r.helperProportions;this.offset.click=r.offset.click;if(this!==e&&this._intersectsWith(this.containerCache)&&b.contains(e.element[0],this.element[0])){t=false}return t})}if(t){if(!e.isOver){e.isOver=1;r._parent=n.helper.parent();e.currentItem=n.helper.appendTo(e.element).data("ui-sortable-item",true);e.options._helper=e.options.helper;e.options.helper=function(){return n.helper[0]};i.target=e.currentItem[0];e._mouseCapture(i,true);e._mouseStart(i,true,true);e.offset.click.top=r.offset.click.top;e.offset.click.left=r.offset.click.left;e.offset.parent.left-=r.offset.parent.left-e.offset.parent.left;e.offset.parent.top-=r.offset.parent.top-e.offset.parent.top;r._trigger("toSortable",i);r.dropped=e.element;b.each(r.sortables,function(){this.refreshPositions()});r.currentItem=r.element;e.fromOutside=r}if(e.currentItem){e._mouseDrag(i);n.position=e.position}}else{if(e.isOver){e.isOver=0;e.cancelHelperRemoval=true;e.options._revert=e.options.revert;e.options.revert=false;e._trigger("out",i,e._uiHash(e));e._mouseStop(i,true);e.options.revert=e.options._revert;e.options.helper=e.options._helper;if(e.placeholder){e.placeholder.remove()}n.helper.appendTo(r._parent);r._refreshOffsets(i);n.position=r._generatePosition(i,true);r._trigger("fromSortable",i);r.dropped=false;b.each(r.sortables,function(){this.refreshPositions()})}}})}});b.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var n=b("body"),r=i.options;if(n.css("cursor")){r._cursor=n.css("cursor")}n.css("cursor",r.cursor)},stop:function(t,e,i){var n=i.options;if(n._cursor){b("body").css("cursor",n._cursor)}}});b.ui.plugin.add("draggable","opacity",{start:function(t,e,i){var n=b(e.helper),r=i.options;if(n.css("opacity")){r._opacity=n.css("opacity")}n.css("opacity",r.opacity)},stop:function(t,e,i){var n=i.options;if(n._opacity){b(e.helper).css("opacity",n._opacity)}}});b.ui.plugin.add("draggable","scroll",{start:function(t,e,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false)}if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"){i.overflowOffset=i.scrollParentNotHidden.offset()}},drag:function(t,e,i){var n=i.options,r=false,s=i.scrollParentNotHidden[0],o=i.document[0];if(s!==o&&s.tagName!=="HTML"){if(!n.axis||n.axis!=="x"){if(i.overflowOffset.top+s.offsetHeight-t.pageY<n.scrollSensitivity){s.scrollTop=r=s.scrollTop+n.scrollSpeed}else if(t.pageY-i.overflowOffset.top<n.scrollSensitivity){s.scrollTop=r=s.scrollTop-n.scrollSpeed}}if(!n.axis||n.axis!=="y"){if(i.overflowOffset.left+s.offsetWidth-t.pageX<n.scrollSensitivity){s.scrollLeft=r=s.scrollLeft+n.scrollSpeed}else if(t.pageX-i.overflowOffset.left<n.scrollSensitivity){s.scrollLeft=r=s.scrollLeft-n.scrollSpeed}}}else{if(!n.axis||n.axis!=="x"){if(t.pageY-b(o).scrollTop()<n.scrollSensitivity){r=b(o).scrollTop(b(o).scrollTop()-n.scrollSpeed)}else if(b(window).height()-(t.pageY-b(o).scrollTop())<n.scrollSensitivity){r=b(o).scrollTop(b(o).scrollTop()+n.scrollSpeed)}}if(!n.axis||n.axis!=="y"){if(t.pageX-b(o).scrollLeft()<n.scrollSensitivity){r=b(o).scrollLeft(b(o).scrollLeft()-n.scrollSpeed)}else if(b(window).width()-(t.pageX-b(o).scrollLeft())<n.scrollSensitivity){r=b(o).scrollLeft(b(o).scrollLeft()+n.scrollSpeed)}}}if(r!==false&&b.ui.ddmanager&&!n.dropBehaviour){b.ui.ddmanager.prepareOffsets(i,t)}}});b.ui.plugin.add("draggable","snap",{start:function(t,e,i){var n=i.options;i.snapElements=[];b(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=b(this),e=t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})}})},drag:function(t,e,i){var n,r,s,o,a,l,h,u,c,d,f=i.options,p=f.snapTolerance,g=e.offset.left,m=g+i.helperProportions.width,v=e.offset.top,y=v+i.helperProportions.height;for(c=i.snapElements.length-1;c>=0;c--){a=i.snapElements[c].left-i.margins.left;l=a+i.snapElements[c].width;h=i.snapElements[c].top-i.margins.top;u=h+i.snapElements[c].height;if(m<a-p||g>l+p||y<h-p||v>u+p||!b.contains(i.snapElements[c].item.ownerDocument,i.snapElements[c].item)){if(i.snapElements[c].snapping){i.options.snap.release&&i.options.snap.release.call(i.element,t,b.extend(i._uiHash(),{snapItem:i.snapElements[c].item}))}i.snapElements[c].snapping=false;continue}if(f.snapMode!=="inner"){n=Math.abs(h-y)<=p;r=Math.abs(u-v)<=p;s=Math.abs(a-m)<=p;o=Math.abs(l-g)<=p;if(n){e.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top}if(r){e.position.top=i._convertPositionTo("relative",{top:u,left:0}).top}if(s){e.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left}if(o){e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left}}d=n||r||s||o;if(f.snapMode!=="outer"){n=Math.abs(h-v)<=p;r=Math.abs(u-y)<=p;s=Math.abs(a-g)<=p;o=Math.abs(l-m)<=p;if(n){e.position.top=i._convertPositionTo("relative",{top:h,left:0}).top}if(r){e.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top}if(s){e.position.left=i._convertPositionTo("relative",{top:0,left:a}).left}if(o){e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left}}if(!i.snapElements[c].snapping&&(n||r||s||o||d)){i.options.snap.snap&&i.options.snap.snap.call(i.element,t,b.extend(i._uiHash(),{snapItem:i.snapElements[c].item}))}i.snapElements[c].snapping=n||r||s||o||d}}});b.ui.plugin.add("draggable","stack",{start:function(t,e,i){var n,r=i.options,s=b.makeArray(b(r.stack)).sort(function(t,e){return(parseInt(b(t).css("zIndex"),10)||0)-(parseInt(b(e).css("zIndex"),10)||0)});if(!s.length){return}n=parseInt(b(s[0]).css("zIndex"),10)||0;b(s).each(function(t){b(this).css("zIndex",n+t)});this.css("zIndex",n+s.length)}});b.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){var n=b(e.helper),r=i.options;if(n.css("zIndex")){r._zIndex=n.css("zIndex")}n.css("zIndex",r.zIndex)},stop:function(t,e,i){var n=i.options;if(n._zIndex){b(e.helper).css("zIndex",n._zIndex)}}});var f=b.ui.draggable;b.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=false;this.isout=true;this.accept=b.isFunction(i)?i:function(t){return t.is(i)};this.proportions=function(){if(arguments.length){t=arguments[0]}else{return t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};this._addToManager(e.scope);e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){b.ui.ddmanager.droppables[t]=b.ui.ddmanager.droppables[t]||[];b.ui.ddmanager.droppables[t].push(this)},_splice:function(t){var e=0;for(;e<t.length;e++){if(t[e]===this){t.splice(e,1)}}},_destroy:function(){var t=b.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){if(t==="accept"){this.accept=b.isFunction(e)?e:function(t){return t.is(e)}}else if(t==="scope"){var i=b.ui.ddmanager.droppables[this.options.scope];this._splice(i);this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=b.ui.ddmanager.current;this._addActiveClass();if(e){this._trigger("activate",t,this.ui(e))}},_deactivate:function(t){var e=b.ui.ddmanager.current;this._removeActiveClass();if(e){this._trigger("deactivate",t,this.ui(e))}},_over:function(t){var e=b.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],e.currentItem||e.element)){this._addHoverClass();this._trigger("over",t,this.ui(e))}},_out:function(t){var e=b.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],e.currentItem||e.element)){this._removeHoverClass();this._trigger("out",t,this.ui(e))}},_drop:function(e,t){var i=t||b.ui.ddmanager.current,n=false;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=b(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&p(i,b.extend(t,{offset:t.element.offset()}),t.options.tolerance,e)){n=true;return false}});if(n){return false}if(this.accept.call(this.element[0],i.currentItem||i.element)){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",e,this.ui(i));return this.element}return false},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var p=b.ui.intersect=function(){function d(t,e,i){return t>=e&&t<e+i}return function(t,e,i,n){if(!e.offset){return false}var r=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,o=r+t.helperProportions.width,a=s+t.helperProportions.height,l=e.offset.left,h=e.offset.top,u=l+e.proportions().width,c=h+e.proportions().height;switch(i){case"fit":return l<=r&&o<=u&&h<=s&&a<=c;case"intersect":return l<r+t.helperProportions.width/2&&o-t.helperProportions.width/2<u&&h<s+t.helperProportions.height/2&&a-t.helperProportions.height/2<c;case"pointer":return d(n.pageY,h,e.proportions().height)&&d(n.pageX,l,e.proportions().width);case"touch":return(s>=h&&s<=c||a>=h&&a<=c||s<h&&a>c)&&(r>=l&&r<=u||o>=l&&o<=u||r<l&&o>u);default:return false}}}();b.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,n,r=b.ui.ddmanager.droppables[t.options.scope]||[],s=e?e.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<r.length;i++){if(r[i].options.disabled||t&&!r[i].accept.call(r[i].element[0],t.currentItem||t.element)){continue}for(n=0;n<o.length;n++){if(o[n]===r[i].element[0]){r[i].proportions().height=0;continue t}}r[i].visible=r[i].element.css("display")!=="none";if(!r[i].visible){continue}if(s==="mousedown"){r[i]._activate.call(r[i],e)}r[i].offset=r[i].element.offset();r[i].proportions({width:r[i].element[0].offsetWidth,height:r[i].element[0].offsetHeight})}},drop:function(t,e){var i=false;b.each((b.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&p(t,this,this.options.tolerance,e)){i=this._drop.call(this,e)||i}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)){this.isout=true;this.isover=false;this._deactivate.call(this,e)}});return i},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){if(!t.options.refreshPositions){b.ui.ddmanager.prepareOffsets(t,e)}})},drag:function(s,o){if(s.options.refreshPositions){b.ui.ddmanager.prepareOffsets(s,o)}b.each(b.ui.ddmanager.droppables[s.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var t,e,i,n=p(s,this,this.options.tolerance,o),r=!n&&this.isover?"isout":n&&!this.isover?"isover":null;if(!r){return}if(this.options.greedy){e=this.options.scope;i=this.element.parents(":data(ui-droppable)").filter(function(){return b(this).droppable("instance").options.scope===e});if(i.length){t=b(i[0]).droppable("instance");t.greedyChild=r==="isover"}}if(t&&r==="isover"){t.isover=false;t.isout=true;t._out.call(t,o)}this[r]=true;this[r==="isout"?"isover":"isout"]=false;this[r==="isover"?"_over":"_out"].call(this,o);if(t&&r==="isout"){t.isout=false;t.isover=true;t._over.call(t,o)}})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable");if(!t.options.refreshPositions){b.ui.ddmanager.prepareOffsets(t,e)}}};if(b.uiBackCompat!==false){b.widget("ui.droppable",b.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass)}},_removeActiveClass:function(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}},_addHoverClass:function(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}},_removeHoverClass:function(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}}})}var g=b.ui.droppable;b.widget("ui.resizable",b.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if(b(t).css("overflow")==="hidden"){return false}var i=e&&e==="left"?"scrollLeft":"scrollTop",n=false;if(t[i]>0){return true}t[i]=1;n=t[i]>0;t[i]=0;return n},_create:function(){var t,e=this.options,i=this;this._addClass("ui-resizable");b.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(b("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(t);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(t);this._proportionallyResize()}this._setupHandles();if(e.autoHide){b(this.element).on("mouseenter",function(){if(e.disabled){return}i._removeClass("ui-resizable-autohide");i._handles.show()}).on("mouseleave",function(){if(e.disabled){return}if(!i.resizing){i._addClass("ui-resizable-autohide");i._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){b(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);t=this.element;this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t);t.remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_setOption:function(t,e){this._super(t,e);switch(t){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var t=this.options,e,i,n,r,s,o=this;this.handles=t.handles||(!b(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=b();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){e=b.trim(n[i]);r="ui-resizable-"+e;s=b("<div>");this._addClass(s,"ui-resizable-handle "+r);s.css({zIndex:t.zIndex});this.handles[e]=".ui-resizable-"+e;this.element.append(s)}}this._renderAxis=function(t){var e,i,n,r;t=t||this.element;for(e in this.handles){if(this.handles[e].constructor===String){this.handles[e]=this.element.children(this.handles[e]).first().show()}else if(this.handles[e].jquery||this.handles[e].nodeType){this.handles[e]=b(this.handles[e]);this._on(this.handles[e],{mousedown:o._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){i=b(this.handles[e],this.element);r=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth();n=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join("");t.css(n,r);this._proportionallyResize()}this._handles=this._handles.add(this.handles[e])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!o.resizing){if(this.className){s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}o.axis=s&&s[1]?s[1]:"se"}});if(t.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var e,i,n=false;for(e in this.handles){i=b(this.handles[e])[0];if(i===t.target||b.contains(i,t.target)){n=true}}return!this.options.disabled&&n},_mouseStart:function(t){var e,i,n,r=this.options,s=this.element;this.resizing=true;this._renderProxy();e=this._num(this.helper.css("left"));i=this._num(this.helper.css("top"));if(r.containment){e+=b(r.containment).scrollLeft()||0;i+=b(r.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:e,top:i};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()};this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()};this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()};this.originalPosition={left:e,top:i};this.originalMousePosition={left:t.pageX,top:t.pageY};this.aspectRatio=typeof r.aspectRatio==="number"?r.aspectRatio:this.originalSize.width/this.originalSize.height||1;n=b(".ui-resizable-"+this.axis).css("cursor");b("body").css("cursor",n==="auto"?this.axis+"-resize":n);this._addClass("ui-resizable-resizing");this._propagate("start",t);return true},_mouseDrag:function(t){var e,i,n=this.originalMousePosition,r=this.axis,s=t.pageX-n.left||0,o=t.pageY-n.top||0,a=this._change[r];this._updatePrevProperties();if(!a){return false}e=a.apply(this,[t,s,o]);this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey){e=this._updateRatio(e,t)}e=this._respectSize(e,t);this._updateCache(e);this._propagate("resize",t);i=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!b.isEmptyObject(i)){this._updatePrevProperties();this._trigger("resize",t,this.ui());this._applyChanges()}return false},_mouseStop:function(t){this.resizing=false;var e,i,n,r,s,o,a,l=this.options,h=this;if(this._helper){e=this._proportionallyResizeElements;i=e.length&&/textarea/i.test(e[0].nodeName);n=i&&this._hasScroll(e[0],"left")?0:h.sizeDiff.height;r=i?0:h.sizeDiff.width;s={width:h.helper.width()-r,height:h.helper.height()-n};o=parseFloat(h.element.css("left"))+(h.position.left-h.originalPosition.left)||null;a=parseFloat(h.element.css("top"))+(h.position.top-h.originalPosition.top)||null;if(!l.animate){this.element.css(b.extend(s,{top:a,left:o}))}h.helper.height(h.size.height);h.helper.width(h.size.width);if(this._helper&&!l.animate){this._proportionallyResize()}}b("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",t);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};if(this.position.top!==this.prevPosition.top){t.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){t.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){t.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){t.height=this.size.height+"px"}this.helper.css(t);return t},_updateVirtualBoundaries:function(t){var e,i,n,r,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||t){e=s.minHeight*this.aspectRatio;n=s.minWidth/this.aspectRatio;i=s.maxHeight*this.aspectRatio;r=s.maxWidth/this.aspectRatio;if(e>s.minWidth){s.minWidth=e}if(n>s.minHeight){s.minHeight=n}if(i<s.maxWidth){s.maxWidth=i}if(r<s.maxHeight){s.maxHeight=r}}this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset();if(this._isNumber(t.left)){this.position.left=t.left}if(this._isNumber(t.top)){this.position.top=t.top}if(this._isNumber(t.height)){this.size.height=t.height}if(this._isNumber(t.width)){this.size.width=t.width}},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;if(this._isNumber(t.height)){t.width=t.height*this.aspectRatio}else if(this._isNumber(t.width)){t.height=t.width/this.aspectRatio}if(n==="sw"){t.left=e.left+(i.width-t.width);t.top=null}if(n==="nw"){t.top=e.top+(i.height-t.height);t.left=e.left+(i.width-t.width)}return t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);if(s){t.width=e.minWidth}if(o){t.height=e.minHeight}if(n){t.width=e.maxWidth}if(r){t.height=e.maxHeight}if(s&&h){t.left=a-e.minWidth}if(n&&h){t.left=a-e.maxWidth}if(o&&u){t.top=l-e.minHeight}if(r&&u){t.top=l-e.maxHeight}if(!t.width&&!t.height&&!t.left&&t.top){t.top=null}else if(!t.width&&!t.height&&!t.top&&t.left){t.left=null}return t},_getPaddingPlusBorderDimensions:function(t){var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];for(;e<4;e++){i[e]=parseFloat(n[e])||0;i[e]+=parseFloat(r[e])||0}return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var t,e=0,i=this.helper||this.element;for(;e<this._proportionallyResizeElements.length;e++){t=this._proportionallyResizeElements[e];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(t)}t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||b("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){b.ui.plugin.call(this,t,[e,this.ui()]);t!=="resize"&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});b.ui.plugin.add("resizable","animate",{stop:function(e){var i=b(this).resizable("instance"),t=i.options,n=i._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),s=r&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,o=r?0:i.sizeDiff.width,a={width:i.size.width-o,height:i.size.height-s},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,h=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(b.extend(a,h&&l?{top:h,left:l}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};if(n&&n.length){b(n[0]).css({width:t.width,height:t.height})}i._updateCache(t);i._propagate("resize",e)}})}});b.ui.plugin.add("resizable","containment",{start:function(){var i,n,t,e,r,s,o,a=b(this).resizable("instance"),l=a.options,h=a.element,u=l.containment,c=u instanceof b?u.get(0):/parent/.test(u)?h.parent().get(0):u;if(!c){return}a.containerElement=b(c);if(/document/.test(u)||u===document){a.containerOffset={left:0,top:0};a.containerPosition={left:0,top:0};a.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight}}else{i=b(c);n=[];b(["Top","Right","Left","Bottom"]).each(function(t,e){n[t]=a._num(i.css("padding"+e))});a.containerOffset=i.offset();a.containerPosition=i.position();a.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]};t=a.containerOffset;e=a.containerSize.height;r=a.containerSize.width;s=a._hasScroll(c,"left")?c.scrollWidth:r;o=a._hasScroll(c)?c.scrollHeight:e;a.parentData={element:c,left:t.left,top:t.top,width:s,height:o}}},resize:function(t){var e,i,n,r,s=b(this).resizable("instance"),o=s.options,a=s.containerOffset,l=s.position,h=s._aspectRatio||t.shiftKey,u={top:0,left:0},c=s.containerElement,d=true;if(c[0]!==document&&/static/.test(c.css("position"))){u=a}if(l.left<(s._helper?a.left:0)){s.size.width=s.size.width+(s._helper?s.position.left-a.left:s.position.left-u.left);if(h){s.size.height=s.size.width/s.aspectRatio;d=false}s.position.left=o.helper?a.left:0}if(l.top<(s._helper?a.top:0)){s.size.height=s.size.height+(s._helper?s.position.top-a.top:s.position.top);if(h){s.size.width=s.size.height*s.aspectRatio;d=false}s.position.top=s._helper?a.top:0}n=s.containerElement.get(0)===s.element.parent().get(0);r=/relative|absolute/.test(s.containerElement.css("position"));if(n&&r){s.offset.left=s.parentData.left+s.position.left;s.offset.top=s.parentData.top+s.position.top}else{s.offset.left=s.element.offset().left;s.offset.top=s.element.offset().top}e=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-u.left:s.offset.left-a.left));i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-u.top:s.offset.top-a.top));if(e+s.size.width>=s.parentData.width){s.size.width=s.parentData.width-e;if(h){s.size.height=s.size.width/s.aspectRatio;d=false}}if(i+s.size.height>=s.parentData.height){s.size.height=s.parentData.height-i;if(h){s.size.width=s.size.height*s.aspectRatio;d=false}}if(!d){s.position.left=s.prevPosition.left;s.position.top=s.prevPosition.top;s.size.width=s.prevSize.width;s.size.height=s.prevSize.height}},stop:function(){var t=b(this).resizable("instance"),e=t.options,i=t.containerOffset,n=t.containerPosition,r=t.containerElement,s=b(t.helper),o=s.offset(),a=s.outerWidth()-t.sizeDiff.width,l=s.outerHeight()-t.sizeDiff.height;if(t._helper&&!e.animate&&/relative/.test(r.css("position"))){b(this).css({left:o.left-n.left-i.left,width:a,height:l})}if(t._helper&&!e.animate&&/static/.test(r.css("position"))){b(this).css({left:o.left-n.left-i.left,width:a,height:l})}}});b.ui.plugin.add("resizable","alsoResize",{start:function(){var t=b(this).resizable("instance"),e=t.options;b(e.alsoResize).each(function(){var t=b(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var e=b(this).resizable("instance"),n=e.options,r=e.originalSize,s=e.originalPosition,o={height:e.size.height-r.height||0,width:e.size.width-r.width||0,top:e.position.top-s.top||0,left:e.position.left-s.left||0};b(n.alsoResize).each(function(){var t=b(this),n=b(this).data("ui-resizable-alsoresize"),r={},e=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(e,function(t,e){var i=(n[e]||0)+(o[e]||0);if(i&&i>=0){r[e]=i||null}});t.css(r)})},stop:function(){b(this).removeData("ui-resizable-alsoresize")}});b.ui.plugin.add("resizable","ghost",{start:function(){var t=b(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0});t._addClass(t.ghost,"ui-resizable-ghost");if(b.uiBackCompat!==false&&typeof t.options.ghost==="string"){t.ghost.addClass(this.options.ghost)}t.ghost.appendTo(t.helper)},resize:function(){var t=b(this).resizable("instance");if(t.ghost){t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})}},stop:function(){var t=b(this).resizable("instance");if(t.ghost&&t.helper){t.helper.get(0).removeChild(t.ghost.get(0))}}});b.ui.plugin.add("resizable","grid",{resize:function(){var t,e=b(this).resizable("instance"),i=e.options,n=e.size,r=e.originalSize,s=e.originalPosition,o=e.axis,a=typeof i.grid==="number"?[i.grid,i.grid]:i.grid,l=a[0]||1,h=a[1]||1,u=Math.round((n.width-r.width)/l)*l,c=Math.round((n.height-r.height)/h)*h,d=r.width+u,f=r.height+c,p=i.maxWidth&&i.maxWidth<d,g=i.maxHeight&&i.maxHeight<f,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>f;i.grid=a;if(m){d+=l}if(v){f+=h}if(p){d-=l}if(g){f-=h}if(/^(se|s|e)$/.test(o)){e.size.width=d;e.size.height=f}else if(/^(ne)$/.test(o)){e.size.width=d;e.size.height=f;e.position.top=s.top-c}else if(/^(sw)$/.test(o)){e.size.width=d;e.size.height=f;e.position.left=s.left-u}else{if(f-h<=0||d-l<=0){t=e._getPaddingPlusBorderDimensions(this)}if(f-h>0){e.size.height=f;e.position.top=s.top-c}else{f=h-t.height;e.size.height=f;e.position.top=s.top+r.height-f}if(d-l>0){e.size.width=d;e.position.left=s.left-u}else{d=l-t.width;e.size.width=d;e.position.left=s.left+r.width-d}}}});var m=b.ui.resizable;var v=b.widget("ui.selectable",b.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var n=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){n.elementPos=b(n.element[0]).offset();n.selectees=b(n.options.filter,n.element[0]);n._addClass(n.selectees,"ui-selectee");n.selectees.each(function(){var t=b(this),e=t.offset(),i={left:e.left-n.elementPos.left,top:e.top-n.elementPos.top};b.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:false,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=b("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(i){var n=this,t=this.options;this.opos=[i.pageX,i.pageY];this.elementPos=b(this.element[0]).offset();if(this.options.disabled){return}this.selectees=b(t.filter,this.element[0]);this._trigger("start",i);b(t.appendTo).append(this.helper);this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0});if(t.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var t=b.data(this,"selectable-item");t.startselected=true;if(!i.metaKey&&!i.ctrlKey){n._removeClass(t.$element,"ui-selected");t.selected=false;n._addClass(t.$element,"ui-unselecting");t.unselecting=true;n._trigger("unselecting",i,{unselecting:t.element})}});b(i.target).parents().addBack().each(function(){var t,e=b.data(this,"selectable-item");if(e){t=!i.metaKey&&!i.ctrlKey||!e.$element.hasClass("ui-selected");n._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting");e.unselecting=!t;e.selecting=t;e.selected=t;if(t){n._trigger("selecting",i,{selecting:e.element})}else{n._trigger("unselecting",i,{unselecting:e.element})}return false}})},_mouseDrag:function(n){this.dragged=true;if(this.options.disabled){return}var t,r=this,s=this.options,o=this.opos[0],a=this.opos[1],l=n.pageX,h=n.pageY;if(o>l){t=l;l=o;o=t}if(a>h){t=h;h=a;a=t}this.helper.css({left:o,top:a,width:l-o,height:h-a});this.selectees.each(function(){var t=b.data(this,"selectable-item"),e=false,i={};if(!t||t.element===r.element[0]){return}i.left=t.left+r.elementPos.left;i.right=t.right+r.elementPos.left;i.top=t.top+r.elementPos.top;i.bottom=t.bottom+r.elementPos.top;if(s.tolerance==="touch"){e=!(i.left>l||i.right<o||i.top>h||i.bottom<a)}else if(s.tolerance==="fit"){e=i.left>o&&i.right<l&&i.top>a&&i.bottom<h}if(e){if(t.selected){r._removeClass(t.$element,"ui-selected");t.selected=false}if(t.unselecting){r._removeClass(t.$element,"ui-unselecting");t.unselecting=false}if(!t.selecting){r._addClass(t.$element,"ui-selecting");t.selecting=true;r._trigger("selecting",n,{selecting:t.element})}}else{if(t.selecting){if((n.metaKey||n.ctrlKey)&&t.startselected){r._removeClass(t.$element,"ui-selecting");t.selecting=false;r._addClass(t.$element,"ui-selected");t.selected=true}else{r._removeClass(t.$element,"ui-selecting");t.selecting=false;if(t.startselected){r._addClass(t.$element,"ui-unselecting");t.unselecting=true}r._trigger("unselecting",n,{unselecting:t.element})}}if(t.selected){if(!n.metaKey&&!n.ctrlKey&&!t.startselected){r._removeClass(t.$element,"ui-selected");t.selected=false;r._addClass(t.$element,"ui-unselecting");t.unselecting=true;r._trigger("unselecting",n,{unselecting:t.element})}}}});return false},_mouseStop:function(e){var i=this;this.dragged=false;b(".ui-unselecting",this.element[0]).each(function(){var t=b.data(this,"selectable-item");i._removeClass(t.$element,"ui-unselecting");t.unselecting=false;t.startselected=false;i._trigger("unselected",e,{unselected:t.element})});b(".ui-selecting",this.element[0]).each(function(){var t=b.data(this,"selectable-item");i._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected");t.selecting=false;t.selected=true;t.startselected=true;i._trigger("selected",e,{selected:t.element})});this._trigger("stop",e);this.helper.remove();return false}});var y=b.widget("ui.sortable",b.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(t,e){this._super(t,e);if(t==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");b.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--){this.items[t].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(t,e){var i=null,n=false,r=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(t);b(t.target).parents().each(function(){if(b.data(this,r.widgetName+"-item")===r){i=b(this);return false}});if(b.data(t.target,r.widgetName+"-item")===r){i=b(t.target)}if(!i){return false}if(this.options.handle&&!e){b(this.options.handle,i).find("*").addBack().each(function(){if(this===t.target){n=true}});if(!n){return false}}this.currentItem=i;this._removeCurrentsFromItems();return true},_mouseStart:function(t,e,i){var n,r,s=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(t);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(s.containment){this._setContainment()}if(s.cursor&&s.cursor!=="auto"){r=this.document.find("body");this.storedCursor=r.css("cursor");r.css("cursor",s.cursor);this.storedStylesheet=b("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)}if(s.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",s.opacity)}if(s.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",s.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",t,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!i){for(n=this.containers.length-1;n>=0;n--){this.containers[n]._trigger("activate",t,this._uiHash(this))}}if(b.ui.ddmanager){b.ui.ddmanager.current=this}if(b.ui.ddmanager&&!s.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,t)}this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(t);return true},_mouseDrag:function(t){var e,i,n,r,s=this.options,o=false;this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity){this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+s.scrollSpeed}else if(t.pageY-this.overflowOffset.top<s.scrollSensitivity){this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-s.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity){this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+s.scrollSpeed}else if(t.pageX-this.overflowOffset.left<s.scrollSensitivity){this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-s.scrollSpeed}}else{if(t.pageY-this.document.scrollTop()<s.scrollSensitivity){o=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed)}else if(this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity){o=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)}if(t.pageX-this.document.scrollLeft()<s.scrollSensitivity){o=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed)}else if(this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity){o=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed)}}if(o!==false&&b.ui.ddmanager&&!s.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,t)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(e=this.items.length-1;e>=0;e--){i=this.items[e];n=i.item[0];r=this._intersectsWithPointer(i);if(!r){continue}if(i.instance!==this.currentContainer){continue}if(n!==this.currentItem[0]&&this.placeholder[r===1?"next":"prev"]()[0]!==n&&!b.contains(this.placeholder[0],n)&&(this.options.type==="semi-dynamic"?!b.contains(this.element[0],n):true)){this.direction=r===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(i)){this._rearrange(t,i)}else{break}this._trigger("change",t,this._uiHash());break}}this._contactContainers(t);if(b.ui.ddmanager){b.ui.ddmanager.drag(this,t)}this._trigger("sort",t,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(t,e){if(!t){return}if(b.ui.ddmanager&&!this.options.dropBehaviour){b.ui.ddmanager.drop(this,t)}if(this.options.revert){var i=this,n=this.placeholder.offset(),r=this.options.axis,s={};if(!r||r==="x"){s.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!r||r==="y"){s.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;b(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else{this._clear(t,e)}return false},cancel:function(){if(this.dragging){this._mouseUp(new b.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}for(var t=this.containers.length-1;t>=0;t--){this.containers[t]._trigger("deactivate",null,this._uiHash(this));if(this.containers[t].containerCache.over){this.containers[t]._trigger("out",null,this._uiHash(this));this.containers[t].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){b(this.domPosition.prev).after(this.currentItem)}else{b(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];e=e||{};b(t).each(function(){var t=(b(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);if(t){i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}});if(!i.length&&e.key){i.push(e.key+"=")}return i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];t=t||{};e.each(function(){i.push(b(t.item||this).attr(t.attribute||"id")||"")});return i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=t.left,o=s+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,u=this.offset.click.left,c=this.options.axis==="x"||n+h>a&&n+h<l,d=this.options.axis==="y"||e+u>s&&e+u<o,f=c&&d;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]){return f}else{return s<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l}},_intersectsWithPointer:function(t){var e,i,n=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=n&&r;if(!s){return false}e=this._getDragVerticalDirection();i=this._getDragHorizontalDirection();return this.floating?i==="right"||e==="down"?2:1:e&&(e==="down"?2:1)},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();if(this.floating&&r){return r==="right"&&i||r==="left"&&!i}else{return n&&(n==="down"&&e||n==="up"&&!e)}},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return t!==0&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return t!==0&&(t>0?"right":"left")},refresh:function(t){this._refreshItems(t);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e,i,n,r,s=[],o=[],a=this._connectWith();if(a&&t){for(e=a.length-1;e>=0;e--){n=b(a[e],this.document[0]);for(i=n.length-1;i>=0;i--){r=b.data(n[i],this.widgetFullName);if(r&&r!==this&&!r.options.disabled){o.push([b.isFunction(r.options.items)?r.options.items.call(r.element):b(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r])}}}}o.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function l(){s.push(this)}for(e=o.length-1;e>=0;e--){o[e][0].each(l)}return b(s)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(t){for(var e=0;e<i.length;e++){if(i[e]===t.item[0]){return false}}return true})},_refreshItems:function(t){this.items=[];this.containers=[this];var e,i,n,r,s,o,a,l,h=this.items,u=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):b(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready){for(e=c.length-1;e>=0;e--){n=b(c[e],this.document[0]);for(i=n.length-1;i>=0;i--){r=b.data(n[i],this.widgetFullName);if(r&&r!==this&&!r.options.disabled){u.push([b.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):b(r.options.items,r.element),r]);this.containers.push(r)}}}}for(e=u.length-1;e>=0;e--){s=u[e][1];o=u[e][0];for(i=0,l=o.length;i<l;i++){a=b(o[i]);a.data(this.widgetName+"-item",s);h.push({item:a,instance:s,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var e,i,n,r;for(e=this.items.length-1;e>=0;e--){i=this.items[e];if(i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]){continue}n=this.options.toleranceElement?b(this.options.toleranceElement,i.item):i.item;if(!t){i.width=n.outerWidth();i.height=n.outerHeight()}r=n.offset();i.left=r.left;i.top=r.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(e=this.containers.length-1;e>=0;e--){r=this.containers[e].element.offset();this.containers[e].containerCache.left=r.left;this.containers[e].containerCache.top=r.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}}return this},_createPlaceholder:function(i){i=i||this;var n,r=i.options;if(!r.placeholder||r.placeholder.constructor===String){n=r.placeholder;r.placeholder={element:function(){var t=i.currentItem[0].nodeName.toLowerCase(),e=b("<"+t+">",i.document[0]);i._addClass(e,"ui-sortable-placeholder",n||i.currentItem[0].className)._removeClass(e,"ui-sortable-helper");if(t==="tbody"){i._createTrPlaceholder(i.currentItem.find("tr").eq(0),b("<tr>",i.document[0]).appendTo(e))}else if(t==="tr"){i._createTrPlaceholder(i.currentItem,e)}else if(t==="img"){e.attr("src",i.currentItem.attr("src"))}if(!n){e.css("visibility","hidden")}return e},update:function(t,e){if(n&&!r.forcePlaceholderSize){return}if(!e.height()){e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10))}if(!e.width()){e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10))}}}}i.placeholder=b(r.placeholder.element.call(i.element,i.currentItem));i.currentItem.after(i.placeholder);r.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){b("<td>&#160;</td>",i.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,i,n,r,s,o,a,l,h,u,c=null,d=null;for(e=this.containers.length-1;e>=0;e--){if(b.contains(this.currentItem[0],this.containers[e].element[0])){continue}if(this._intersectsWith(this.containers[e].containerCache)){if(c&&b.contains(this.containers[e].element[0],c.element[0])){continue}c=this.containers[e];d=e}else{if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",t,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(!c){return}if(this.containers.length===1){if(!this.containers[d].containerCache.over){this.containers[d]._trigger("over",t,this._uiHash(this));this.containers[d].containerCache.over=1}}else{n=1e4;r=null;h=c.floating||this._isFloating(this.currentItem);s=h?"left":"top";o=h?"width":"height";u=h?"pageX":"pageY";for(i=this.items.length-1;i>=0;i--){if(!b.contains(this.containers[d].element[0],this.items[i].item[0])){continue}if(this.items[i].item[0]===this.currentItem[0]){continue}a=this.items[i].item.offset()[s];l=false;if(t[u]-a>this.items[i][o]/2){l=true}if(Math.abs(t[u]-a)<n){n=Math.abs(t[u]-a);r=this.items[i];this.direction=l?"up":"down"}}if(!r&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[d]){if(!this.currentContainer.containerCache.over){this.containers[d]._trigger("over",t,this._uiHash());this.currentContainer.containerCache.over=1}return}r?this._rearrange(t,r,null,true):this._rearrange(t,null,this.containers[d].element,true);this._trigger("change",t,this._uiHash());this.containers[d]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[d];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[d]._trigger("over",t,this._uiHash(this));this.containers[d].containerCache.over=1}},_createHelper:function(t){var e=this.options,i=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[t,this.currentItem])):e.helper==="clone"?this.currentItem.clone():this.currentItem;if(!i.parents("body").length){b(e.appendTo!=="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0])}if(i[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!i[0].style.width||e.forceHelperSize){i.width(this.currentItem.width())}if(!i[0].style.height||e.forceHelperSize){i.height(this.currentItem.height())}return i},_adjustOffsetFromHelper:function(t){if(typeof t==="string"){t=t.split(" ")}if(b.isArray(t)){t={left:+t[0],top:+t[1]||0}}if("left"in t){this.offset.click.left=t.left+this.margins.left}if("right"in t){this.offset.click.left=this.helperProportions.width-t.right+this.margins.left}if("top"in t){this.offset.click.top=t.top+this.margins.top}if("bottom"in t){this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&b.ui.ie){t={top:0,left:0}}return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options;if(n.containment==="parent"){n.containment=this.helper[0].parentNode}if(n.containment==="document"||n.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(n.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(n.containment)){t=b(n.containment)[0];e=b(n.containment).offset();i=b(t).css("overflow")!=="hidden";this.containment=[e.left+(parseInt(b(t).css("borderLeftWidth"),10)||0)+(parseInt(b(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(b(t).css("borderTopWidth"),10)||0)+(parseInt(b(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(b(t).css("borderLeftWidth"),10)||0)-(parseInt(b(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(b(t).css("borderTopWidth"),10)||0)-(parseInt(b(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,e){if(!e){e=this.position}var i=t==="absolute"?1:-1,n=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,r=/(html|body)/i.test(n[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():r?0:n.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():r?0:n.scrollLeft())*i}},_generatePosition:function(t){var e,i,n=this.options,r=t.pageX,s=t.pageY,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,a=/(html|body)/i.test(o[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(t.pageX-this.offset.click.left<this.containment[0]){r=this.containment[0]+this.offset.click.left}if(t.pageY-this.offset.click.top<this.containment[1]){s=this.containment[1]+this.offset.click.top}if(t.pageX-this.offset.click.left>this.containment[2]){r=this.containment[2]+this.offset.click.left}if(t.pageY-this.offset.click.top>this.containment[3]){s=this.containment[3]+this.offset.click.top}}if(n.grid){e=this.originalPageY+Math.round((s-this.originalPageY)/n.grid[1])*n.grid[1];s=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-n.grid[1]:e+n.grid[1]:e;i=this.originalPageX+Math.round((r-this.originalPageX)/n.grid[0])*n.grid[0];r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i}}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:o.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:o.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){if(r===this.counter){this.refreshPositions(!n)}})},_clear:function(t,e){this.reverting=false;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]=""}}this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!e){n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!e){n.push(function(t){this._trigger("update",t,this._uiHash())})}if(this!==this.currentContainer){if(!e){n.push(function(t){this._trigger("remove",t,this._uiHash())});n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer));n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))}}function r(e,i,n){return function(t){n._trigger(e,t,i._uiHash(i))}}for(i=this.containers.length-1;i>=0;i--){if(!e){n.push(r("deactivate",this,this.containers[i]))}if(this.containers[i].containerCache.over){n.push(r("out",this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!e){this._trigger("beforeStop",t,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!e){for(i=0;i<n.length;i++){n[i].call(this,t)}this._trigger("stop",t,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function(){if(b.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||b([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})});(function(i){"use strict";let n=0;let t={registerform:function(){let e=i("#siteregisterform");i("#regpartnerbtn").on("click",function(t){t.preventDefault();if(n){n.abort()}n=i.ajax({type:"POST",url:"/site/register-add",data:e.serialize(),beforeSend:function(){i("#regpartnerbtn").prop("disabled",true)},success:function(t){i("#regpartnerbtn").prop("disabled",false);if(t.status==1){toastr.success("OK"," ");if(t.url!=""){window.location.href=t.url}else{window.location.href="/"}}else{toastr.error(t.message,"")}},error:function(){i("#regpartnerbtn").prop("disabled",false);toastr.error(" ","")}});return false})}};window.site=t})(jQuery||$);