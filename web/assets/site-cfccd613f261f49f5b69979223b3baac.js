!function(t){"use strict";function e(){var t=document.createElement("mm"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}function i(e){return this.each(function(){var i=t(this),n=i.data("mm"),s=t.extend({},r.DEFAULTS,i.data(),"object"==typeof e&&e);n||i.data("mm",n=new r(this,s)),"string"==typeof e&&n[e]()})}t.fn.emulateTransitionEnd=function(e){var i=!1,r=this;t(this).one("mmTransitionEnd",function(){i=!0});var s=function(){i||t(r).trigger(n.end)};return setTimeout(s,e),this};var n=e();n&&(t.event.special.mmTransitionEnd={bindType:n.end,delegateType:n.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}});var r=function(e,i){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,i),this.transitioning=null,this.init()};r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active"},r.prototype.init=function(){var e=this,i=this.options.activeClass;this.$element.find("li."+i).has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not("."+i).has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li."+i).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(n){var r=t(this),s=r.parent("li"),o=s.children("ul");return n.preventDefault(),s.hasClass(i)?e.hide(o):e.show(o),e.options.doubleTapToGo&&e.doubleTapToGo(r)&&"#"!==r.attr("href")&&""!==r.attr("href")?(n.stopPropagation(),void(document.location=r.attr("href"))):void 0})},r.prototype.doubleTapToGo=function(t){var e=this.$element;return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(e.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0},r.prototype.show=function(e){var i=this.options.activeClass,s=t(e),o=s.parent("li");if(!this.transitioning&&!s.hasClass("in")){o.addClass(i),this.options.toggle&&this.hide(o.siblings().children("ul.in")),s.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var a=function(){s.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return n?void s.one("mmTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(r.TRANSITION_DURATION).height(s[0].scrollHeight):a.call(this)}},r.prototype.hide=function(e){var i=this.options.activeClass,s=t(e);if(!this.transitioning&&s.hasClass("in")){s.parent("li").removeClass(i),s.height(s.height())[0].offsetHeight,s.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,s.removeClass("collapsing").addClass("collapse")};return n?void s.height(0).one("mmTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(r.TRANSITION_DURATION):o.call(this)}};var s=t.fn.metisMenu;t.fn.metisMenu=i,t.fn.metisMenu.Constructor=r,t.fn.metisMenu.noConflict=function(){return t.fn.metisMenu=s,this}}(jQuery);(function(e){e.fn.extend({slimScroll:function(i){var n=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);this.each(function(){function r(t){if(h){t=t||window.event;var i=0;t.wheelDelta&&(i=-t.wheelDelta/120);t.detail&&(i=t.detail/3);e(t.target||t.srcTarget||t.srcElement).closest("."+n.wrapperClass).is(y.parent())&&s(i,!0);t.preventDefault&&!v&&t.preventDefault();v||(t.returnValue=!1)}}function s(t,e,i){v=!1;var r=t,s=y.outerHeight()-w.outerHeight();e&&(r=parseInt(w.css("top"))+t*parseInt(n.wheelStep)/100*w.outerHeight(),r=Math.min(Math.max(r,0),s),r=0<t?Math.ceil(r):Math.floor(r),w.css({top:r+"px"}));g=parseInt(w.css("top"))/(y.outerHeight()-w.outerHeight());r=g*(y[0].scrollHeight-y.outerHeight());i&&(r=t,t=r/y[0].scrollHeight*y.outerHeight(),t=Math.min(Math.max(t,0),s),w.css({top:t+"px"}));y.scrollTop(r);y.trigger("slimscrolling",~~r);a();l()}function o(){p=Math.max(y.outerHeight()/y[0].scrollHeight*y.outerHeight(),30);w.css({height:p+"px"});var t=p==y.outerHeight()?"none":"block";w.css({display:t})}function a(){o();clearTimeout(d);g==~~g?(v=n.allowPageScroll,m!=g&&y.trigger("slimscroll",0==~~g?"top":"bottom")):v=!1;m=g;p>=y.outerHeight()?v=!0:(w.stop(!0,!0).fadeIn("fast"),n.railVisible&&x.stop(!0,!0).fadeIn("fast"))}function l(){n.alwaysVisible||(d=setTimeout(function(){n.disableFadeOut&&h||u||c||(w.fadeOut("slow"),x.fadeOut("slow"))},1e3))}var h,u,c,d,f,p,g,m,v=!1,y=e(this);if(y.parent().hasClass(n.wrapperClass)){var b=y.scrollTop(),w=y.closest("."+n.barClass),x=y.closest("."+n.railClass);o();if(e.isPlainObject(i)){if("height"in i&&"auto"==i.height){y.parent().css("height","auto");y.css("height","auto");var _=y.parent().parent().height();y.parent().css("height",_);y.css("height",_)}if("scrollTo"in i)b=parseInt(n.scrollTo);else if("scrollBy"in i)b+=parseInt(n.scrollBy);else if("destroy"in i){w.remove();x.remove();y.unwrap();return}s(b,!1,!0)}}else if(!(e.isPlainObject(i)&&"destroy"in i)){n.height="auto"==n.height?y.parent().height():n.height;b=e("<div></div>").addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height});y.css({overflow:"hidden",width:n.width,height:n.height});var x=e("<div></div>").addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),w=e("<div></div>").addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),_="right"==n.position?{right:n.distance}:{left:n.distance};x.css(_);w.css(_);y.wrap(b);y.parent().append(w);y.parent().append(x);n.railDraggable&&w.bind("mousedown",function(i){var n=e(document);c=!0;t=parseFloat(w.css("top"));pageY=i.pageY;n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY;w.css("top",currTop);s(0,w.position().top,!1)});n.bind("mouseup.slimscroll",function(t){c=!1;l();n.unbind(".slimscroll")});return!1}).bind("selectstart.slimscroll",function(t){t.stopPropagation();t.preventDefault();return!1});x.hover(function(){a()},function(){l()});w.hover(function(){u=!0},function(){u=!1});y.hover(function(){h=!0;a();l()},function(){h=!1;l()});y.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(f=t.originalEvent.touches[0].pageY)});y.bind("touchmove",function(t){v||t.originalEvent.preventDefault();t.originalEvent.touches.length&&(s((f-t.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),f=t.originalEvent.touches[0].pageY)});o();"bottom"===n.start?(w.css({top:y.outerHeight()-w.outerHeight()}),s(0,!0)):"top"!==n.start&&(s(e(n.start).position().top,null,!0),n.alwaysVisible||w.hide());window.addEventListener?(this.addEventListener("DOMMouseScroll",r,!1),this.addEventListener("mousewheel",r,!1)):document.attachEvent("onmousewheel",r)}});return this}});e.fn.extend({slimscroll:e.fn.slimScroll})})(jQuery);(function(t,e,i){var n=function(i,n){var r=e.createElementNS("http://www.w3.org/2000/svg",i);t.each(n,function(t,e){r.setAttribute(t,e)});return r},r="createElementNS"in e&&n("svg",{}).createSVGRect,s=1/(window.devicePixelRatio||1),o=t.fn.peity=function(e,i){r&&this.each(function(){var n=t(this),r=n.data("peity");if(r)e&&(r.type=e),t.extend(r.opts,i);else{var s=o.defaults[e],l={};t.each(n.data(),function(t,e){t in s&&(l[t]=e)});var h=t.extend({},s,l,i),r=new a(n,e,h);n.change(function(){r.draw()}).data("peity",r)}r.draw()});return this},a=function(t,e,i){this.$el=t;this.type=e;this.opts=i},l=a.prototype;l.draw=function(){o.graphers[this.type].call(this,this.opts)};l.fill=function(){var e=this.opts.fill,i=e;t.isFunction(i)||(i=function(t,i){return e[i%e.length]});return i};l.prepare=function(e,i){var r;this.svg?r=t(this.svg).empty():(this.svg=n("svg",{class:"peity"}),this.$el.hide().after(this.svg),r=t(this.svg).data("peity",this));this.svg.setAttribute("height",i);this.svg.setAttribute("width",e);return r};l.values=function(){return t.map(this.$el.text().split(this.opts.delimiter),function(t){return parseFloat(t)})};o.defaults={};o.graphers={};o.register=function(t,e,i){this.defaults[t]=e;this.graphers[t]=i};o.register("pie",{delimiter:null,diameter:16,fill:["#ff9900","#fff4dd","#ffc66e"]},function(t){if(!t.delimiter){var e=this.$el.text().match(/[^0-9\.]/);t.delimiter=e?e[0]:","}e=this.values();if("/"==t.delimiter)var r=e[0],e=[r,i.max(0,e[1]-r)];for(var s=0,r=e.length,o=0;s<r;s++)o+=e[s];for(var t=this.prepare(t.width||t.diameter,t.height||t.diameter),s=t.width(),a=t.height(),t=s/2,a=a/2,l=i.min(t,a),h=i.PI,u=this.fill(),c=-h/2,s=0;s<r;s++){var d=e[s],f=d/o,p;if(0!=f){if(1==f)p=n("circle",{cx:t,cy:a,r:l});else{p=2*f*h;var f=c+p,g=l*i.cos(c)+t,c=l*i.sin(c)+a,m=l*i.cos(f)+t,v=l*i.sin(f)+a;p=n("path",{d:["M",t,a,"L",g,c,"A",l,l,0,p>h?1:0,1,m,v,"Z"].join(" ")});c=f}p.setAttribute("fill",u.call(this,d,s,e));this.svg.appendChild(p)}}});o.register("line",{delimiter:",",fill:"#c6d9fd",height:16,max:null,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},function(t){var e=this.values();1==e.length&&e.push(e[0]);for(var r=i.max.apply(i,e.concat([t.max])),s=i.min.apply(i,e.concat([t.min])),o=this.prepare(t.width,t.height),a=o.width(),o=o.height()-t.strokeWidth,l=a/(e.length-1),r=r-s,h=0==r?o:o/r,u=o+s*h,r=[0,u],c=0;c<e.length;c++)r.push(c*l,o-h*(e[c]-s)+t.strokeWidth/2);r.push(a,u);e=n("polygon",{fill:t.fill,points:r.join(" ")});this.svg.appendChild(e);t.strokeWidth&&(t=n("polyline",{fill:"transparent",points:r.slice(2,r.length-2).join(" "),stroke:t.stroke,"stroke-width":t.strokeWidth,"stroke-linecap":"square"}),this.svg.appendChild(t))});o.register("bar",{delimiter:",",fill:["#4D89F9"],gap:1,height:16,max:null,min:0,width:32},function(t){for(var e=this.values(),r=i.max.apply(i,e.concat([t.max])),o=i.min.apply(i,e.concat([t.min])),a=this.prepare(t.width,t.height),l=a.width(),a=a.height(),h=r-o,u=0==h?0:a/h,t=t.gap,l=(l+t)/e.length,c=this.fill(),d=0;d<e.length;d++){var f=e[d],p=a-u*(f-o),g=u*f;if(0==g){if(g=s,0>=o&&0<r||0==h)p-=s}else 0>g&&(p+=g,g=-g);f=n("rect",{fill:c.call(this,f,d,e),x:d*l,y:p,width:l-t,height:g});this.svg.appendChild(f)}})})(jQuery,document,Math);$(document).ready(function(){if($(this).width()<769){$("body").addClass("body-small")}else{$("body").removeClass("body-small")}import("/insasset/js/plugins/metisMenu/jquery.metisMenu.js").then(function(t){$("#side-menu").metisMenu()});$(".collapse-link").on("click",function(){var t=$(this).closest("div.ibox");var e=$(this).find("i");var i=t.children(".ibox-content");i.slideToggle(200);e.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down");t.toggleClass("").toggleClass("border-bottom");setTimeout(function(){t.resize();t.find("[id^=map-]").resize()},50)});$(".close-link").on("click",function(){var t=$(this).closest("div.ibox");t.remove()});$(".fullscreen-link").on("click",function(){var t=$(this).closest("div.ibox");var e=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode");e.toggleClass("fa-expand").toggleClass("fa-compress");t.toggleClass("fullscreen");setTimeout(function(){$(window).trigger("resize")},100)});$(".close-canvas-menu").on("click",function(){$("body").toggleClass("mini-navbar");SmoothlyMenu()});$("body.canvas-menu .sidebar-collapse").slimScroll({height:"100%",railOpacity:.9});$(".right-sidebar-toggle").on("click",function(){$("#right-sidebar").toggleClass("sidebar-open")});$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10});$(".open-small-chat").on("click",function(){$(this).children().toggleClass("fa-comments").toggleClass("fa-remove");$(".small-chat-box").toggleClass("active")});$(".small-chat-box .content").slimScroll({height:"234px",railOpacity:.4});$(".check-link").on("click",function(){var t=$(this).find("i");var e=$(this).next("span");t.toggleClass("fa-check-square").toggleClass("fa-square-o");e.toggleClass("todo-completed");return false});$(".navbar-minimalize").on("click",function(t){t.preventDefault();$("body").toggleClass("mini-navbar");SmoothlyMenu()});$(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]",container:"body"});function t(){var t=$("body > #wrapper").height()-61;$(".sidebar-panel").css("min-height",t+"px");var e=$("nav.navbar-default").height();var i=$("#page-wrapper").height();if(e>i){$("#page-wrapper").css("min-height",e+"px")}if(e<i){$("#page-wrapper").css("min-height",$(window).height()+"px")}if($("body").hasClass("fixed-nav")){if(e>i){$("#page-wrapper").css("min-height",e+"px")}else{$("#page-wrapper").css("min-height",$(window).height()-60+"px")}}}t();$(window).bind("load",function(){if($("body").hasClass("fixed-sidebar")){$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})}});$(window).scroll(function(){if($(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")){$("#right-sidebar").addClass("sidebar-top")}else{$("#right-sidebar").removeClass("sidebar-top")}});$(window).bind("load resize scroll",function(){if(!$("body").hasClass("body-small")){t()}});$("[data-toggle=popover]").popover();$(".full-height-scroll").slimscroll({height:"100%"})});$(window).bind("resize",function(){if($(this).width()<769){$("body").addClass("body-small")}else{$("body").removeClass("body-small")}});$(document).ready(function(){if(localStorageSupport()){var t=localStorage.getItem("collapse_menu");var e=localStorage.getItem("fixedsidebar");var i=localStorage.getItem("fixednavbar");var n=localStorage.getItem("boxedlayout");var r=localStorage.getItem("fixedfooter");var s=$("body");if(e=="on"){s.addClass("fixed-sidebar");$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})}if(t=="on"){if(s.hasClass("fixed-sidebar")){if(!s.hasClass("body-small")){s.addClass("mini-navbar")}}else{if(!s.hasClass("body-small")){s.addClass("mini-navbar")}}}if(i=="on"){$(".navbar-static-top").removeClass("navbar-static-top").addClass("navbar-fixed-top");s.addClass("fixed-nav")}if(n=="on"){s.addClass("boxed-layout")}if(r=="on"){$(".footer").addClass("fixed")}}});function localStorageSupport(){return"localStorage"in window&&window["localStorage"]!==null}function animationHover(t,e){t=$(t);t.hover(function(){t.addClass("animated "+e)},function(){window.setTimeout(function(){t.removeClass("animated "+e)},2e3)})}function SmoothlyMenu(){if(!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")){$("#side-menu").hide();setTimeout(function(){$("#side-menu").fadeIn(400)},200)}else if($("body").hasClass("fixed-sidebar")){$("#side-menu").hide();setTimeout(function(){$("#side-menu").fadeIn(400)},100)}else{$("#side-menu").removeAttr("style")}}function WinMove(){var t="[class*=col]";var e=".ibox-title";var i="[class*=col]";$(t).sortable({handle:e,connectWith:i,tolerance:"pointer",forcePlaceholderSize:true,opacity:.8}).disableSelection()}(function(t){t.gritter={};t.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3};t.gritter.add=function(t){try{return e.add(t||{})}catch(e){var i="Gritter Error: "+e;typeof console!="undefined"&&console.error?console.error(i,t):alert(i)}};t.gritter.remove=function(t,i){e.removeSpecific(t,i||{})};t.gritter.removeAll=function(t){e.stop(t||{})};var e={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<a class="gritter-close" href="#" tabindex="1">Close Notification</a>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(i){if(typeof i=="string"){i={text:i}}if(i.text===null){throw'You must supply "text" parameter.'}if(!this._is_setup){this._runSetup()}var n=i.title,r=i.text,s=i.image||"",o=i.sticky||false,a=i.class_name||t.gritter.options.class_name,l=t.gritter.options.position,h=i.time||"";this._verifyWrapper();this._item_count++;var u=this._item_count,c=this._tpl_item;t(["before_open","after_open","before_close","after_close"]).each(function(n,r){e["_"+r+"_"+u]=t.isFunction(i[r])?i[r]:function(){}});this._custom_timer=0;if(h){this._custom_timer=h}var d=s!=""?'<img alt="image" src="'+s+'" class="gritter-image" />':"",f=s!=""?"gritter-with-image":"gritter-without-image";if(n){n=this._str_replace("[[title]]",n,this._tpl_title)}else{n=""}c=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[n,r,this._tpl_close,d,this._item_count,f,a],c);if(this["_before_open_"+u]()===false){return false}t("#gritter-notice-wrapper").addClass(l).append(c);var p=t("#gritter-item-"+this._item_count);p.fadeIn(this.fade_in_speed,function(){e["_after_open_"+u](t(this))});if(!o){this._setFadeTimer(p,u)}t(p).bind("mouseenter mouseleave",function(i){if(i.type=="mouseenter"){if(!o){e._restoreItemIfFading(t(this),u)}}else{if(!o){e._setFadeTimer(t(this),u)}}e._hoverState(t(this),i.type)});t(p).find(".gritter-close").click(function(){e.removeSpecific(u,{},null,true);return false});return u},_countRemoveWrapper:function(e,i,n){i.remove();this["_after_close_"+e](i,n);if(t(".gritter-item-wrapper").length==0){t("#gritter-notice-wrapper").remove()}},_fade:function(t,i,n,r){var n=n||{},s=typeof n.fade!="undefined"?n.fade:true,o=n.speed||this.fade_out_speed,a=r;this["_before_close_"+i](t,a);if(r){t.unbind("mouseenter mouseleave")}if(s){t.animate({opacity:0},o,function(){t.animate({height:0},300,function(){e._countRemoveWrapper(i,t,a)})})}else{this._countRemoveWrapper(i,t)}},_hoverState:function(t,e){if(e=="mouseenter"){t.addClass("hover");t.find(".gritter-close").show()}else{t.removeClass("hover");t.find(".gritter-close").hide()}},removeSpecific:function(e,i,n,r){if(!n){var n=t("#gritter-item-"+e)}this._fade(n,e,i||{},r)},_restoreItemIfFading:function(t,e){clearTimeout(this["_int_id_"+e]);t.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in t.gritter.options){this[opt]=t.gritter.options[opt]}this._is_setup=1},_setFadeTimer:function(t,i){var n=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+i]=setTimeout(function(){e._fade(t,i)},n)},stop:function(e){var i=t.isFunction(e.before_close)?e.before_close:function(){};var n=t.isFunction(e.after_close)?e.after_close:function(){};var r=t("#gritter-notice-wrapper");i(r);r.fadeOut(function(){t(this).remove();n()})},_str_replace:function(t,e,i,n){var r=0,s=0,o="",a="",l=0,h=0,u=[].concat(t),c=[].concat(e),d=i,f=c instanceof Array,p=d instanceof Array;d=[].concat(d);if(n){this.window[n]=0}for(r=0,l=d.length;r<l;r++){if(d[r]===""){continue}for(s=0,h=u.length;s<h;s++){o=d[r]+"";a=f?c[s]!==undefined?c[s]:"":c[0];d[r]=o.split(u[s]).join(a);if(n&&d[r]!==o){this.window[n]+=(o.length-d[r].length)/u[s].length}}}return p?d:d[0]},_verifyWrapper:function(){if(t("#gritter-notice-wrapper").length==0){t("body").append(this._tpl_wrap)}}}})(jQuery);(function(t,e,i){(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)})(function(n){"use strict";var r={},s,o,a,l,h,u,c,d,f,p,g,m,v,y,b,w,x,_,C,k,S,T,D,M,P,E,I,A,H,R,L,F,$=0;s=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new a("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new a("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new a("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},E='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',o=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(e=Array.prototype.slice.call(arguments,1,-1),e.unshift(t.prototype),n.extend.apply(n,e))):t.prototype=arguments[0],t.prototype.cls=t,t},n.SPFormatClass=a=o({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,n){var r=this,s=t,o,a,l,h,u;return this.format.replace(this.fre,function(){var t;return a=arguments[1],l=arguments[3],o=r.precre.exec(a),o?(u=o[2],a=o[1]):u=!1,h=s[a],h===i?"":l&&e&&e[l]?(t=e[l],t.get?e[l].get(h)||h:e[l][h]||h):(f(h)&&(n.get("numberFormatter")?h=n.get("numberFormatter")(h):h=y(h,u,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),h)})}}),n.spformat=function(t,e){return new a(t,e)},l=function(t,e,i){return t<e?e:t>i?i:t},h=function(t,i){var n;return i===2?(n=e.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*i+i)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1]):(n=(t.length*i+2)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1])},u=function(t){var e;switch(t){case"undefined":t=i;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},c=function(t){var e,i=[];for(e=t.length;e--;)i[e]=u(t[e]);return i},d=function(t,e){var i,n,r=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&r.push(t[i]);return r},f=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},y=function(t,e,i,r,s){var o,a;t=(e===!1?parseFloat(t).toString():t.toFixed(e)).split(""),o=(o=n.inArray(".",t))<0?t.length:o,o<t.length&&(t[o]=s);for(a=o-i;a>0;a-=i)t.splice(a,0,r);return t.join("")},p=function(t,e,i){var n;for(n=e.length;n--;){if(i&&e[n]===null)continue;if(e[n]!==t)return!1}return!0},g=function(t){var e=0,i;for(i=t.length;i--;)e+=typeof t[i]=="number"?t[i]:0;return e},v=function(t){return n.isArray(t)?t:[t]},m=function(e){var i;t.createStyleSheet?t.createStyleSheet().cssText=e:(i=t.createElement("style"),i.type="text/css",t.getElementsByTagName("head")[0].appendChild(i),i[typeof t.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=e)},n.fn.simpledraw=function(e,r,s,o){var a,l;if(s&&(a=this.data("_jqs_vcanvas")))return a;if(n.fn.sparkline.canvas===!1)return!1;if(n.fn.sparkline.canvas===i){var h=t.createElement("canvas");if(!h.getContext||!h.getContext("2d")){if(!t.namespaces||!!t.namespaces.v)return n.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.fn.sparkline.canvas=function(t,e,i,n){return new L(t,e,i)}}else n.fn.sparkline.canvas=function(t,e,i,n){return new R(t,e,i,n)}}return e===i&&(e=n(this).innerWidth()),r===i&&(r=n(this).innerHeight()),a=n.fn.sparkline.canvas(e,r,this,o),l=n(this).data("_jqs_mhandler"),l&&l.registerCanvas(a),a},n.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},n.RangeMapClass=b=o({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&typeof e=="string"&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=i[0].length===0?-Infinity:parseFloat(i[0]),i[1]=i[1].length===0?Infinity:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e=this.rangelist,n,r,s;if((s=this.map[t])!==i)return s;if(e)for(n=e.length;n--;){r=e[n];if(r[0]<=t&&r[1]>=t)return r[2]}return i}}),n.range_map=function(t){return new b(t)},w=o({init:function(t,e){var i=n(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=n(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(n.proxy(this.mouseenter,this)),e.mouseleave(n.proxy(this.mouseleave,this)),e.click(n.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(t){var e=n.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){n(t.body).unbind("mousemove.jqs"),n(t.body).bind("mousemove.jqs",n.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new x(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){n(t.body).unbind("mousemove.jqs");var e=this.splist,i=e.length,r=!1,s,o;this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null);for(o=0;o<i;o++)s=e[o],s.clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t=this.splist,e=t.length,i=!1,r=this.$canvas.offset(),s=this.currentPageX-r.left,o=this.currentPageY-r.top,a,l,h,u,c;if(!this.over)return;for(h=0;h<e;h++)l=t[h],u=l.setRegionHighlight(this.currentEl,s,o),u&&(i=!0);if(i){c=n.Event("sparklineRegionChange"),c.sparklines=this.splist,this.$el.trigger(c);if(this.tooltip){a="";for(h=0;h<e;h++)l=t[h],a+=l.getCurrentRegionTooltip();this.tooltip.setContent(a)}this.disableHighlight||this.canvas.render()}u===null&&this.mouseleave()}}),x=o({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i=e.get("tooltipClassname","jqstooltip"),r=this.sizeStyle,s;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),n("#jqssizetip").remove(),n("#jqstooltip").remove(),this.sizetip=n("<div/>",{id:"jqssizetip",style:r,class:i}),this.tooltip=n("<div/>",{id:"jqstooltip",class:i}).appendTo(this.container),s=this.tooltip.offset(),this.offsetLeft=s.left,this.offsetTop=s.top,this.hidden=!0,n(window).unbind("resize.jqs scroll.jqs"),n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop(),this.scrollLeft=n(window).scrollLeft(),this.scrollRight=this.scrollLeft+n(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t){this.tooltip.css("visibility","hidden"),this.hidden=!0;return}this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(t===i){if(this.mousex===i)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;if(!this.height||!this.width||this.hidden)return;e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e})},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=i,n(window).unbind("resize.jqs scroll.jqs")}}),I=function(){m(E)},n(I),F=[],n.fn.sparkline=function(e,r){return this.each(function(){var s=new n.fn.sparkline.options(this,r),o=n(this),a,l;a=function(){var r,a,l,h,u,c,d;if(e==="html"||e===i){d=this.getAttribute(s.get("tagValuesAttribute"));if(d===i||d===null)d=o.html();r=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else r=e;a=s.get("width")==="auto"?r.length*s.get("defaultPixelsPerValue"):s.get("width");if(s.get("height")==="auto"){if(!s.get("composite")||!n.data(this,"_jqs_vcanvas"))h=t.createElement("span"),h.innerHTML="a",o.html(h),l=n(h).innerHeight()||n(h).height(),n(h).remove(),h=null}else l=s.get("height");s.get("disableInteraction")?u=!1:(u=n.data(this,"_jqs_mhandler"),u?s.get("composite")||u.reset():(u=new w(this,s),n.data(this,"_jqs_mhandler",u)));if(s.get("composite")&&!n.data(this,"_jqs_vcanvas")){n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0));return}c=new(n.fn.sparkline[s.get("type")])(this,r,s,a,l),c.render(),u&&u.registerSparkline(c)};if(n(this).html()&&!s.get("disableHiddenCheck")&&n(this).is(":hidden")||!n(this).parents("body").length){if(!s.get("composite")&&n.data(this,"_jqs_pending"))for(l=F.length;l;l--)F[l-1][0]==this&&F.splice(l-1,1);F.push([this,a]),n.data(this,"_jqs_pending",!0)}else a.call(this)})},n.fn.sparkline.defaults=s(),n.sparkline_display_visible=function(){var t,e,i,r=[];for(e=0,i=F.length;e<i;e++)t=F[e][0],n(t).is(":visible")&&!n(t).parents().is(":hidden")?(F[e][1].call(t),n.data(F[e][0],"_jqs_pending",!1),r.push(e)):!n(t).closest("html").length&&!n.data(t,"_jqs_pending")&&(n.data(F[e][0],"_jqs_pending",!1),r.push(e));for(e=r.length;e;e--)F.splice(r[e-1],1)},n.fn.sparkline.options=o({init:function(t,e){var i,s,o,a;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},s=n.fn.sparkline.defaults,o=s.common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||o.tagOptionsPrefix),a=this.getTagSetting("type"),a===r?i=s[e.type||o.type]:i=s[a],this.mergedOptions=n.extend({},o,i,e)},getTagSetting:function(t){var e=this.tagOptionsPrefix,n,s,o,a;if(e===!1||e===i)return r;if(this.tagValCache.hasOwnProperty(t))n=this.tagValCache.key;else{n=this.tag.getAttribute(e+t);if(n===i||n===null)n=r;else if(n.substr(0,1)==="["){n=n.substr(1,n.length-2).split(",");for(s=n.length;s--;)n[s]=u(n[s].replace(/(^\s*)|(\s*$)/g,""))}else if(n.substr(0,1)==="{"){o=n.substr(1,n.length-2).split(","),n={};for(s=o.length;s--;)a=o[s].split(":",2),n[a[0].replace(/(^\s*)|(\s*$)/g,"")]=u(a[1].replace(/(^\s*)|(\s*$)/g,""))}else n=u(n);this.tagValCache.key=n}return n},get:function(t,e){var n=this.getTagSetting(t),s;return n!==r?n:(s=this.mergedOptions[t])===i?e:s}}),n.fn.sparkline._base=o({disabled:!1,init:function(t,e,r,s,o){this.el=t,this.$el=n(t),this.values=e,this.options=r,this.width=s,this.height=o,this.currentRegion=i},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(t,e){},setRegionHighlight:function(t,e,n){var r=this.currentRegion,s=!this.options.get("disableHighlight"),o;return e>this.canvasWidth||n>this.canvasHeight||e<0||n<0?null:(o=this.getRegion(t,e,n),r!==o?(r!==i&&s&&this.removeHighlight(),this.currentRegion=o,o!==i&&s&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==i?(this.removeHighlight(),this.currentRegion=i,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t=this.options,e="",r=[],s,o,l,h,u,c,d,f,p,g,m,v,y,b;if(this.currentRegion===i)return"";s=this.getCurrentRegionFields(),m=t.get("tooltipFormatter");if(m)return m(this,t,s);t.get("tooltipChartTitle")&&(e+='<div class="jqs jqstitle">'+t.get("tooltipChartTitle")+"</div>\n"),o=this.options.get("tooltipFormat");if(!o)return"";n.isArray(o)||(o=[o]),n.isArray(s)||(s=[s]),d=this.options.get("tooltipFormatFieldlist"),f=this.options.get("tooltipFormatFieldlistKey");if(d&&f){p=[];for(c=s.length;c--;)g=s[c][f],(b=n.inArray(g,d))!=-1&&(p[b]=s[c]);s=p}l=o.length,y=s.length;for(c=0;c<l;c++){v=o[c],typeof v=="string"&&(v=new a(v)),h=v.fclass||"jqsfield";for(b=0;b<y;b++)if(!s[b].isNull||!t.get("tooltipSkipNull"))n.extend(s[b],{prefix:t.get("tooltipPrefix"),suffix:t.get("tooltipSuffix")}),u=v.render(s[b],t.get("tooltipValueLookups"),t),r.push('<div class="'+h+'">'+u+"</div>")}return r.length?e+r.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var n=i.get("highlightColor"),r=i.get("highlightLighten"),s,o,a,h;if(n)return n;if(r){s=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t);if(s){a=[],o=t.length===4?16:1;for(h=0;h<3;h++)a[h]=l(e.round(parseInt(s[h+1],16)*o*r),0,255);return"rgb("+a.join(",")+")"}}return t}}),_={changeHighlight:function(t){var e=this.currentRegion,i=this.target,r=this.regionShapes[e],s;r&&(s=this.renderRegion(e,t),n.isArray(s)||n.isArray(r)?(i.replaceWithShapes(r,s),this.regionShapes[e]=n.map(s,function(t){return t.id})):(i.replaceWithShape(r,s),this.regionShapes[e]=s.id))},render:function(){var t=this.values,e=this.target,i=this.regionShapes,r,s,o,a;if(!this.cls._super.render.call(this))return;for(o=t.length;o--;){r=this.renderRegion(o);if(r)if(n.isArray(r)){s=[];for(a=r.length;a--;)r[a].append(),s.push(r[a].id);i[o]=s}else r.append(),i[o]=r.id;else i[o]=null}e.render()}},n.fn.sparkline.line=C=o(n.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){C._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,n){var r,s=this.regionMap;for(r=s.length;r--;)if(s[r]!==null&&e>=s[r][0]&&e<=s[r][1])return s[r][2];return i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.yvalues[t]===null,x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t=this.currentRegion,e=this.target,n=this.vertices[t],r=this.options,s=r.get("spotRadius"),o=r.get("highlightSpotColor"),a=r.get("highlightLineColor"),l,h;if(!n)return;s&&o&&(l=e.drawCircle(n[0],n[1],s,i,o),this.highlightSpotId=l.id,e.insertAfterShape(this.lastShapeId,l)),a&&(h=e.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,a),this.highlightLineId=h.id,e.insertAfterShape(this.lastShapeId,h))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t=this.values,i=t.length,n=this.xvalues,r=this.yvalues,s=this.yminmax,o,a,l,h,u;for(o=0;o<i;o++)a=t[o],l=typeof t[o]=="string",h=typeof t[o]=="object"&&t[o]instanceof Array,u=l&&t[o].split(":"),l&&u.length===2?(n.push(Number(u[0])),r.push(Number(u[1])),s.push(Number(u[1]))):h?(n.push(a[0]),r.push(a[1]),s.push(a[1])):(n.push(o),t[o]===null||t[o]==="null"?r.push(null):(r.push(Number(a)),s.push(Number(a))));this.options.get("xvalues")&&(n=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,s),this.miny=this.minyorg=e.min.apply(e,s),this.maxx=e.max.apply(e,n),this.minx=e.min.apply(e,n),this.xvalues=n,this.yvalues=r,this.yminmax=s},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),n=t.get("normalRangeMax");e!==i&&(e<this.miny&&(this.miny=e),n>this.maxy&&(this.maxy=n)),t.get("chartRangeMin")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,n,r,s,o){var a=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),h=n+e.round(r-r*((l-this.miny)/o)),u=e.round(r*(l-a)/o);this.target.drawRect(t,h,s,u,i,this.options.get("normalRangeColor")).append()},render:function(){var t=this.options,r=this.target,s=this.canvasWidth,o=this.canvasHeight,a=this.vertices,l=t.get("spotRadius"),h=this.regionMap,u,c,d,f,p,g,m,v,y,w,x,_,k,S,T,D,M,P,E,I,A,H,R,L,F;if(!C._super.render.call(this))return;this.scanValues(),this.processRangeOptions(),R=this.xvalues,L=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2)return;f=p=0,u=this.maxx-this.minx===0?1:this.maxx-this.minx,c=this.maxy-this.miny===0?1:this.maxy-this.miny,d=this.yvalues.length-1,l&&(s<l*4||o<l*4)&&(l=0);if(l){A=t.get("highlightSpotColor")&&!t.get("disableInteraction");if(A||t.get("minSpotColor")||t.get("spotColor")&&L[d]===this.miny)o-=e.ceil(l);if(A||t.get("maxSpotColor")||t.get("spotColor")&&L[d]===this.maxy)o-=e.ceil(l),f+=e.ceil(l);if(A||(t.get("minSpotColor")||t.get("maxSpotColor"))&&(L[0]===this.miny||L[0]===this.maxy))p+=e.ceil(l),s-=e.ceil(l);if(A||t.get("spotColor")||t.get("minSpotColor")||t.get("maxSpotColor")&&(L[d]===this.miny||L[d]===this.maxy))s-=e.ceil(l)}o--,t.get("normalRangeMin")!==i&&!t.get("drawNormalOnTop")&&this.drawNormalRange(p,f,o,s,c),m=[],v=[m],S=T=null,D=L.length;for(F=0;F<D;F++)y=R[F],x=R[F+1],w=L[F],_=p+e.round((y-this.minx)*(s/u)),k=F<D-1?p+e.round((x-this.minx)*(s/u)):s,T=_+(k-_)/2,h[F]=[S||0,T,F],S=T,w===null?F&&(L[F-1]!==null&&(m=[],v.push(m)),a.push(null)):(w<this.miny&&(w=this.miny),w>this.maxy&&(w=this.maxy),m.length||m.push([_,f+o]),g=[_,f+e.round(o-o*((w-this.miny)/c))],m.push(g),a.push(g));M=[],P=[],E=v.length;for(F=0;F<E;F++)m=v[F],m.length&&(t.get("fillColor")&&(m.push([m[m.length-1][0],f+o]),P.push(m.slice(0)),m.pop()),m.length>2&&(m[0]=[m[0][0],m[1][1]]),M.push(m));E=P.length;for(F=0;F<E;F++)r.drawShape(P[F],t.get("fillColor"),t.get("fillColor")).append();t.get("normalRangeMin")!==i&&t.get("drawNormalOnTop")&&this.drawNormalRange(p,f,o,s,c),E=M.length;for(F=0;F<E;F++)r.drawShape(M[F],t.get("lineColor"),i,t.get("lineWidth")).append();if(l&&t.get("valueSpots")){I=t.get("valueSpots"),I.get===i&&(I=new b(I));for(F=0;F<D;F++)H=I.get(L[F]),H&&r.drawCircle(p+e.round((R[F]-this.minx)*(s/u)),f+e.round(o-o*((L[F]-this.miny)/c)),l,i,H).append()}l&&t.get("spotColor")&&L[d]!==null&&r.drawCircle(p+e.round((R[R.length-1]-this.minx)*(s/u)),f+e.round(o-o*((L[d]-this.miny)/c)),l,i,t.get("spotColor")).append(),this.maxy!==this.minyorg&&(l&&t.get("minSpotColor")&&(y=R[n.inArray(this.minyorg,L)],r.drawCircle(p+e.round((y-this.minx)*(s/u)),f+e.round(o-o*((this.minyorg-this.miny)/c)),l,i,t.get("minSpotColor")).append()),l&&t.get("maxSpotColor")&&(y=R[n.inArray(this.maxyorg,L)],r.drawCircle(p+e.round((y-this.minx)*(s/u)),f+e.round(o-o*((this.maxyorg-this.miny)/c)),l,i,t.get("maxSpotColor")).append())),this.lastShapeId=r.getLastShapeId(),this.canvasTop=f,r.render()}}),n.fn.sparkline.bar=k=o(n.fn.sparkline._base,_,{type:"bar",init:function(t,r,s,o,a){var h=parseInt(s.get("barWidth"),10),f=parseInt(s.get("barSpacing"),10),p=s.get("chartRangeMin"),g=s.get("chartRangeMax"),m=s.get("chartRangeClip"),v=Infinity,y=-Infinity,w,x,_,C,S,T,D,M,P,E,I,A,H,R,L,F,$,z,N,O,B,W,j;k._super.init.call(this,t,r,s,o,a);for(T=0,D=r.length;T<D;T++){O=r[T],w=typeof O=="string"&&O.indexOf(":")>-1;if(w||n.isArray(O))L=!0,w&&(O=r[T]=c(O.split(":"))),O=d(O,null),x=e.min.apply(e,O),_=e.max.apply(e,O),x<v&&(v=x),_>y&&(y=_)}this.stacked=L,this.regionShapes={},this.barWidth=h,this.barSpacing=f,this.totalBarWidth=h+f,this.width=o=r.length*h+(r.length-1)*f,this.initTarget(),m&&(H=p===i?-Infinity:p,R=g===i?Infinity:g),S=[],C=L?[]:S;var q=[],Y=[];for(T=0,D=r.length;T<D;T++)if(L){F=r[T],r[T]=N=[],q[T]=0,C[T]=Y[T]=0;for($=0,z=F.length;$<z;$++)O=N[$]=m?l(F[$],H,R):F[$],O!==null&&(O>0&&(q[T]+=O),v<0&&y>0?O<0?Y[T]+=e.abs(O):C[T]+=O:C[T]+=e.abs(O-(O<0?y:v)),S.push(O))}else O=m?l(r[T],H,R):r[T],O=r[T]=u(O),O!==null&&S.push(O);this.max=A=e.max.apply(e,S),this.min=I=e.min.apply(e,S),this.stackMax=y=L?e.max.apply(e,q):A,this.stackMin=v=L?e.min.apply(e,S):I,s.get("chartRangeMin")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMin")<I)&&(I=s.get("chartRangeMin")),s.get("chartRangeMax")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMax")>A)&&(A=s.get("chartRangeMax")),this.zeroAxis=P=s.get("zeroAxis",!0),I<=0&&A>=0&&P?E=0:P==0?E=I:I>0?E=I:E=A,this.xaxisOffset=E,M=L?e.max.apply(e,C)+e.max.apply(e,Y):A-I,this.canvasHeightEf=P&&I<0?this.canvasHeight-2:this.canvasHeight-1,I<E?(W=L&&A>=0?y:A,B=(W-E)/M*this.canvasHeight,B!==e.ceil(B)&&(this.canvasHeightEf-=2,B=e.ceil(B))):B=this.canvasHeight,this.yoffset=B,n.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new b(this.colorMapByValue))),this.range=M},getRegion:function(t,n,r){var s=e.floor(n/this.totalBarWidth);return s<0||s>=this.values.length?i:s},getCurrentRegionFields:function(){var t=this.currentRegion,e=v(this.values[t]),i=[],n,r;for(r=e.length;r--;)n=e[r],i.push({isNull:n===null,value:n,color:this.calcColor(r,n,t),offset:t});return i},calcColor:function(t,e,r){var s=this.colorMapByIndex,o=this.colorMapByValue,a=this.options,l,h;return this.stacked?l=a.get("stackedBarColor"):l=e<0?a.get("negBarColor"):a.get("barColor"),e===0&&a.get("zeroColor")!==i&&(l=a.get("zeroColor")),o&&(h=o.get(e))?l=h:s&&s.length>r&&(l=s[r]),n.isArray(l)?l[t%l.length]:l},renderRegion:function(t,r){var s=this.values[t],o=this.options,a=this.xaxisOffset,l=[],h=this.range,u=this.stacked,c=this.target,d=t*this.totalBarWidth,f=this.canvasHeightEf,g=this.yoffset,m,v,y,b,w,x,_,C,k,S;s=n.isArray(s)?s:[s],_=s.length,C=s[0],b=p(null,s),S=p(a,s,!0);if(b)return o.get("nullColor")?(y=r?o.get("nullColor"):this.calcHighlightColor(o.get("nullColor"),o),m=g>0?g-1:g,c.drawRect(d,m,this.barWidth-1,0,y,y)):i;w=g;for(x=0;x<_;x++){C=s[x];if(u&&C===a){if(!S||k)continue;k=!0}h>0?v=e.floor(f*(e.abs(C-a)/h))+1:v=1,C<a||C===a&&g===0?(m=w,w+=v):(m=g-v,g-=v),y=this.calcColor(x,C,t),r&&(y=this.calcHighlightColor(y,o)),l.push(c.drawRect(d,m,this.barWidth-1,v-1,y,y))}return l.length===1?l[0]:l}}),n.fn.sparkline.tristate=S=o(n.fn.sparkline._base,_,{type:"tristate",init:function(t,e,r,s,o){var a=parseInt(r.get("barWidth"),10),l=parseInt(r.get("barSpacing"),10);S._super.init.call(this,t,e,r,s,o),this.regionShapes={},this.barWidth=a,this.barSpacing=l,this.totalBarWidth=a+l,this.values=n.map(e,Number),this.width=s=e.length*a+(e.length-1)*l,n.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new b(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i,n){return e.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i=this.values,n=this.options,r=this.colorMapByIndex,s=this.colorMapByValue,o,a;return s&&(a=s.get(t))?o=a:r&&r.length>e?o=r[e]:i[e]<0?o=n.get("negBarColor"):i[e]>0?o=n.get("posBarColor"):o=n.get("zeroBarColor"),o},renderRegion:function(t,i){var n=this.values,r=this.options,s=this.target,o,a,l,h,u,c;o=s.pixelHeight,l=e.round(o/2),h=t*this.totalBarWidth,n[t]<0?(u=l,a=l-1):n[t]>0?(u=0,a=l-1):(u=l-1,a=2),c=this.calcColor(n[t],t);if(c===null)return;return i&&(c=this.calcHighlightColor(c,r)),s.drawRect(h,u,this.barWidth-1,a-1,c,c)}}),n.fn.sparkline.discrete=T=o(n.fn.sparkline._base,_,{type:"discrete",init:function(t,r,s,o,a){T._super.init.call(this,t,r,s,o,a),this.regionShapes={},this.values=r=n.map(r,Number),this.min=e.min.apply(e,r),this.max=e.max.apply(e,r),this.range=this.max-this.min,this.width=o=s.get("width")==="auto"?r.length*2:this.width,this.interval=e.floor(o/r.length),this.itemWidth=o/r.length,s.get("chartRangeMin")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMin")<this.min)&&(this.min=s.get("chartRangeMin")),s.get("chartRangeMax")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMax")>this.max)&&(this.max=s.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight=s.get("lineHeight")==="auto"?e.round(this.canvasHeight*.3):s.get("lineHeight"))},getRegion:function(t,i,n){return e.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],offset:t}},renderRegion:function(t,i){var n=this.values,r=this.options,s=this.min,o=this.max,a=this.range,h=this.interval,u=this.target,c=this.canvasHeight,d=this.lineHeight,f=c-d,p,g,m,v;return g=l(n[t],s,o),v=t*h,p=e.round(f-f*((g-s)/a)),m=r.get("thresholdColor")&&g<r.get("thresholdValue")?r.get("thresholdColor"):r.get("lineColor"),i&&(m=this.calcHighlightColor(m,r)),u.drawLine(v,p,v,p+d,m)}}),n.fn.sparkline.bullet=D=o(n.fn.sparkline._base,{type:"bullet",init:function(t,n,r,s,o){var a,l,h;D._super.init.call(this,t,n,r,s,o),this.values=n=c(n),h=n.slice(),h[0]=h[0]===null?h[2]:h[0],h[1]=n[1]===null?h[2]:h[1],a=e.min.apply(e,n),l=e.max.apply(e,n),r.get("base")===i?a=a<0?a:0:a=r.get("base"),this.min=a,this.max=l,this.range=l-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=s=r.get("width")==="auto"?"4.0em":s,this.target=this.$el.simpledraw(s,o,r.get("composite")),n.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==i&&this.shapes[r]!==i?this.shapes[r]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.valueShapes[e],n;delete this.shapes[i];switch(e.substr(0,1)){case"r":n=this.renderRange(e.substr(1),t);break;case"p":n=this.renderPerformance(t);break;case"t":n=this.renderTarget(t)}this.valueShapes[e]=n.id,this.shapes[n.id]=e,this.target.replaceWithShape(i,n)},renderRange:function(t,i){var n=this.values[t],r=e.round(this.canvasWidth*((n-this.min)/this.range)),s=this.options.get("rangeColors")[t-2];return i&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,0,r-1,this.canvasHeight-1,s,s)},renderPerformance:function(t){var i=this.values[1],n=e.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("performanceColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,e.round(this.canvasHeight*.3),n-1,e.round(this.canvasHeight*.4)-1,r,r)},renderTarget:function(t){var i=this.values[0],n=e.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),r=e.round(this.canvasHeight*.1),s=this.canvasHeight-r*2,o=this.options.get("targetColor");return t&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(n,r,this.options.get("targetWidth")-1,s-1,o,o)},render:function(){var t=this.values.length,e=this.target,i,n;if(!D._super.render.call(this))return;for(i=2;i<t;i++)n=this.renderRange(i).append(),this.shapes[n.id]="r"+i,this.valueShapes["r"+i]=n.id;this.values[1]!==null&&(n=this.renderPerformance().append(),this.shapes[n.id]="p1",this.valueShapes.p1=n.id),this.values[0]!==null&&(n=this.renderTarget().append(),this.shapes[n.id]="t0",this.valueShapes.t0=n.id),e.render()}}),n.fn.sparkline.pie=M=o(n.fn.sparkline._base,{type:"pie",init:function(t,i,r,s,o){var a=0,l;M._super.init.call(this,t,i,r,s,o),this.shapes={},this.valueShapes={},this.values=i=n.map(i,Number),r.get("width")==="auto"&&(this.width=this.height);if(i.length>0)for(l=i.length;l--;)a+=i[l];this.total=a,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==i&&this.shapes[r]!==i?this.shapes[r]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,n){var r=this.target,s=this.options,o=this.radius,a=s.get("borderWidth"),l=s.get("offset"),h=2*e.PI,u=this.values,c=this.total,d=l?2*e.PI*(l/360):0,f,p,g,m,v;m=u.length;for(g=0;g<m;g++){f=d,p=d,c>0&&(p=d+h*(u[g]/c));if(t===g)return v=s.get("sliceColors")[g%s.get("sliceColors").length],n&&(v=this.calcHighlightColor(v,s)),r.drawPieSlice(o,o,o-a,f,p,i,v);d=p}},render:function(){var t=this.target,n=this.values,r=this.options,s=this.radius,o=r.get("borderWidth"),a,l;if(!M._super.render.call(this))return;o&&t.drawCircle(s,s,e.floor(s-o/2),r.get("borderColor"),i,o).append();for(l=n.length;l--;)n[l]&&(a=this.renderSlice(l).append(),this.valueShapes[l]=a.id,this.shapes[a.id]=l);t.render()}}),n.fn.sparkline.box=P=o(n.fn.sparkline._base,{type:"box",init:function(t,e,i,r,s){P._super.init.call(this,t,e,i,r,s),this.values=n.map(e,Number),this.width=i.get("width")==="auto"?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&t.push({field:"lo",value:this.loutlier}),this.routlier!==i&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t=this.target,n=this.values,r=n.length,s=this.options,o=this.canvasWidth,a=this.canvasHeight,l=s.get("chartRangeMin")===i?e.min.apply(e,n):s.get("chartRangeMin"),u=s.get("chartRangeMax")===i?e.max.apply(e,n):s.get("chartRangeMax"),c=0,d,f,p,g,m,v,y,b,w,x,_;if(!P._super.render.call(this))return;if(s.get("raw"))s.get("showOutliers")&&n.length>5?(f=n[0],d=n[1],g=n[2],m=n[3],v=n[4],y=n[5],b=n[6]):(d=n[0],g=n[1],m=n[2],v=n[3],y=n[4]);else{n.sort(function(t,e){return t-e}),g=h(n,1),m=h(n,2),v=h(n,3),p=v-g;if(s.get("showOutliers")){d=y=i;for(w=0;w<r;w++)d===i&&n[w]>g-p*s.get("outlierIQR")&&(d=n[w]),n[w]<v+p*s.get("outlierIQR")&&(y=n[w]);f=n[0],b=n[r-1]}else d=n[0],y=n[r-1]}this.quartiles=[g,m,v],this.lwhisker=d,this.rwhisker=y,this.loutlier=f,this.routlier=b,_=o/(u-l+1),s.get("showOutliers")&&(c=e.ceil(s.get("spotRadius")),o-=2*e.ceil(s.get("spotRadius")),_=o/(u-l+1),f<d&&t.drawCircle((f-l)*_+c,a/2,s.get("spotRadius"),s.get("outlierLineColor"),s.get("outlierFillColor")).append(),b>y&&t.drawCircle((b-l)*_+c,a/2,s.get("spotRadius"),s.get("outlierLineColor"),s.get("outlierFillColor")).append()),t.drawRect(e.round((g-l)*_+c),e.round(a*.1),e.round((v-g)*_),e.round(a*.8),s.get("boxLineColor"),s.get("boxFillColor")).append(),t.drawLine(e.round((d-l)*_+c),e.round(a/2),e.round((g-l)*_+c),e.round(a/2),s.get("lineColor")).append(),t.drawLine(e.round((d-l)*_+c),e.round(a/4),e.round((d-l)*_+c),e.round(a-a/4),s.get("whiskerColor")).append(),t.drawLine(e.round((y-l)*_+c),e.round(a/2),e.round((v-l)*_+c),e.round(a/2),s.get("lineColor")).append(),t.drawLine(e.round((y-l)*_+c),e.round(a/4),e.round((y-l)*_+c),e.round(a-a/4),s.get("whiskerColor")).append(),t.drawLine(e.round((m-l)*_+c),e.round(a*.1),e.round((m-l)*_+c),e.round(a*.9),s.get("medianColor")).append(),s.get("target")&&(x=e.ceil(s.get("spotRadius")),t.drawLine(e.round((s.get("target")-l)*_+c),e.round(a/2-x),e.round((s.get("target")-l)*_+c),e.round(a/2+x),s.get("targetColor")).append(),t.drawLine(e.round((s.get("target")-l)*_+c-x),e.round(a/2),e.round((s.get("target")-l)*_+c+x),e.round(a/2),s.get("targetColor")).append()),t.render()}}),A=o({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),H=o({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){if(!t)return;this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),n.data(i,"_jqs_vcanvas",this)},drawLine:function(t,e,i,n,r,s){return this.drawShape([[t,e],[i,n]],r,s)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,s){return this._genShape("Circle",[t,e,i,n,r,s])},drawPieSlice:function(t,e,i,n,r,s,o){return this._genShape("PieSlice",[t,e,i,n,r,s,o])},drawRect:function(t,e,i,n,r,s){return this._genShape("Rect",[t,e,i,n,r,s])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){n(e).html(t)},_calculatePixelDims:function(t,e,i){var r;r=this._pxregex.exec(e),r?this.pixelHeight=r[1]:this.pixelHeight=n(i).height(),r=this._pxregex.exec(t),r?this.pixelWidth=r[1]:this.pixelWidth=n(i).width()},_genShape:function(t,e){var i=$++;return e.unshift(i),new A(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),R=o(H,{init:function(e,r,s,o){R._super.init.call(this,e,r,s),this.canvas=t.createElement("canvas"),s[0]&&(s=s[0]),n.data(s,"_jqs_vcanvas",this),n(this.canvas).css({display:"inline-block",width:e,height:r,verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(e,r,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=o,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i,n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,n){var r=this.canvas.getContext("2d");return t!==i&&(r.strokeStyle=t),r.lineWidth=n===i?1:n,e!==i&&(r.fillStyle=e),r},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i},_drawShape:function(t,e,n,r,s){var o=this._getContext(n,r,s),a,l;o.beginPath(),o.moveTo(e[0][0]+.5,e[0][1]+.5);for(a=1,l=e.length;a<l;a++)o.lineTo(e[a][0]+.5,e[a][1]+.5);n!==i&&o.stroke(),r!==i&&o.fill(),this.targetX!==i&&this.targetY!==i&&o.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,n,r,s,o,a,l){var h=this._getContext(o,a,l);h.beginPath(),h.arc(n,r,s,0,2*e.PI,!1),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),o!==i&&h.stroke(),a!==i&&h.fill()},_drawPieSlice:function(t,e,n,r,s,o,a,l){var h=this._getContext(a,l);h.beginPath(),h.moveTo(e,n),h.arc(e,n,r,s,o,!1),h.lineTo(e,n),h.closePath(),a!==i&&h.stroke(),l&&h.fill(),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],s,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=this.shapeseq,n;this.shapes[e.id]=e;for(n=i.length;n--;)i[n]==t&&(i[n]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i=this.shapeseq,n={},r,s,o;for(s=t.length;s--;)n[t[s]]=!0;for(s=i.length;s--;)r=i[s],n[r]&&(i.splice(s,1),delete this.shapes[r],o=s);for(s=e.length;s--;)i.splice(o,0,e[s].id),this.shapes[e[s].id]=e[s]},insertAfterShape:function(t,e){var i=this.shapeseq,n;for(n=i.length;n--;)if(i[n]===t){i.splice(n+1,0,e.id),this.shapes[e.id]=e;return}},removeShapeId:function(t){var e=this.shapeseq,i;for(i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t=this.shapeseq,e=this.shapes,i=t.length,n=this._getContext(),r,s,o;n.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(o=0;o<i;o++)r=t[o],s=e[r],this["_draw"+s.type].apply(this,s.args);this.interact||(this.shapes={},this.shapeseq=[])}}),L=o(H,{init:function(e,i,r){var s;L._super.init.call(this,e,i,r),r[0]&&(r=r[0]),n.data(r,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,s='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"'+' style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",s),this.group=n(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,n,r,s){var o=[],a,l,h,u,c,d,f;for(f=0,d=e.length;f<d;f++)o[f]=""+e[f][0]+","+e[f][1];return a=o.splice(0,1),s=s===i?1:s,l=n===i?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+n+'" ',h=r===i?' filled="false"':' fillColor="'+r+'" filled="true" ',u=o[0]===o[o.length-1]?"x ":"",c='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+t+'" '+l+h+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+a+" l "+o.join(", ")+" "+u+'e">'+" </v:shape>",c},_drawCircle:function(t,e,n,r,s,o,a){var l,h,u;return e-=r,n-=r,l=s===i?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+s+'" ',h=o===i?' filled="false"':' fillColor="'+o+'" filled="true" ',u='<v:oval  id="jqsshape'+t+'" '+l+h+' style="position:absolute;top:'+n+"px; left:"+e+"px; width:"+r*2+"px; height:"+r*2+'px"></v:oval>',u},_drawPieSlice:function(t,n,r,s,o,a,l,h){var u,c,d,f,p,g,m,v;if(o===a)return"";a-o===2*e.PI&&(o=0,a=2*e.PI),c=n+e.round(e.cos(o)*s),d=r+e.round(e.sin(o)*s),f=n+e.round(e.cos(a)*s),p=r+e.round(e.sin(a)*s);if(c===f&&d===p){if(a-o<e.PI)return"";c=f=n+s,d=p=r}return c===f&&d===p&&a-o<e.PI?"":(u=[n-s,r-s,n+s,r+s,c,d,f,p],g=l===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',m=h===i?' filled="false"':' fillColor="'+h+'" filled="true" ',v='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+t+'" '+g+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+n+","+r+" wa "+u.join(", ")+' x e">'+" </v:shape>",v)},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],s,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=n("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=r},replaceWithShapes:function(t,e){var i=n("#jqsshape"+t[0]),r="",s=e.length,o;for(o=0;o<s;o++)r+=this["_draw"+e[o].type].apply(this,e[o].args);i[0].outerHTML=r;for(o=1;o<t.length;o++)n("#jqsshape"+t[o]).remove()},insertAfterShape:function(t,e){var i=n("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(t){var e=n("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){var n=t.id.substr(8);return n},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})})(document,Math);(function(t){t(["jquery"],function(t){return function(){var e;var i;var n=0;var r={error:"error",info:"info",success:"success",warning:"warning"};var s={clear:f,remove:p,error:a,getContainer:l,info:h,options:{},subscribe:u,success:c,version:"2.1.2",warning:d};var o;return s;function a(t,e,i){return w({type:r.error,iconClass:x().iconClasses.error,message:t,optionsOverride:i,title:e})}function l(i,n){if(!i){i=x()}e=t("#"+i.containerId);if(e.length){return e}if(n){e=v(i)}return e}function h(t,e,i){return w({type:r.info,iconClass:x().iconClasses.info,message:t,optionsOverride:i,title:e})}function u(t){i=t}function c(t,e,i){return w({type:r.success,iconClass:x().iconClasses.success,message:t,optionsOverride:i,title:e})}function d(t,e,i){return w({type:r.warning,iconClass:x().iconClasses.warning,message:t,optionsOverride:i,title:e})}function f(t,i){var n=x();if(!e){l(n)}if(!m(t,n,i)){g(n)}}function p(i){var n=x();if(!e){l(n)}if(i&&t(":focus",i).length===0){_(i);return}if(e.children().length){e.remove()}}function g(i){var n=e.children();for(var r=n.length-1;r>=0;r--){m(t(n[r]),i)}}function m(e,i,n){var r=n&&n.force?n.force:false;if(e&&(r||t(":focus",e).length===0)){e[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){_(e)}});return true}return false}function v(i){e=t("<div/>").attr("id",i.containerId).addClass(i.positionClass).attr("aria-live","polite").attr("role","alert");e.appendTo(t(i.target));return e}function y(){return{tapToDismiss:true,toastClass:"toast",containerId:"toast-container",debug:false,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:undefined,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:undefined,closeMethod:false,closeDuration:false,closeEasing:false,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:false,target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:true,preventDuplicates:false,progressBar:false}}function b(t){if(!i){return}i(t)}function w(i){var r=x();var s=i.iconClass||r.iconClass;if(typeof i.optionsOverride!=="undefined"){r=t.extend(r,i.optionsOverride);s=i.optionsOverride.iconClass||s}if(P(r,i)){return}n++;e=l(r,true);var a=null;var h=t("<div/>");var u=t("<div/>");var c=t("<div/>");var d=t("<div/>");var f=t(r.closeHtml);var p={intervalId:null,hideEta:null,maxHideTime:null};var g={toastId:n,state:"visible",startTime:new Date,options:r,map:i};v();w();y();b(g);if(r.debug&&console){console.log(g)}return h;function m(t){if(t==null)t="";return new String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(){C();S();T();D();M();k()}function y(){h.hover(A,I);if(!r.onclick&&r.tapToDismiss){h.click(E)}if(r.closeButton&&f){f.click(function(t){if(t.stopPropagation){t.stopPropagation()}else if(t.cancelBubble!==undefined&&t.cancelBubble!==true){t.cancelBubble=true}E(true)})}if(r.onclick){h.click(function(t){r.onclick(t);E()})}}function w(){h.hide();h[r.showMethod]({duration:r.showDuration,easing:r.showEasing,complete:r.onShown});if(r.timeOut>0){a=setTimeout(E,r.timeOut);p.maxHideTime=parseFloat(r.timeOut);p.hideEta=(new Date).getTime()+p.maxHideTime;if(r.progressBar){p.intervalId=setInterval(H,10)}}}function C(){if(i.iconClass){h.addClass(r.toastClass).addClass(s)}}function k(){if(r.newestOnTop){e.prepend(h)}else{e.append(h)}}function S(){if(i.title){u.append(!r.escapeHtml?i.title:m(i.title)).addClass(r.titleClass);h.append(u)}}function T(){if(i.message){c.append(!r.escapeHtml?i.message:m(i.message)).addClass(r.messageClass);h.append(c)}}function D(){if(r.closeButton){f.addClass("toast-close-button").attr("role","button");h.prepend(f)}}function M(){if(r.progressBar){d.addClass("toast-progress");h.prepend(d)}}function P(t,e){if(t.preventDuplicates){if(e.message===o){return true}else{o=e.message}}return false}function E(e){var i=e&&r.closeMethod!==false?r.closeMethod:r.hideMethod;var n=e&&r.closeDuration!==false?r.closeDuration:r.hideDuration;var s=e&&r.closeEasing!==false?r.closeEasing:r.hideEasing;if(t(":focus",h).length&&!e){return}clearTimeout(p.intervalId);return h[i]({duration:n,easing:s,complete:function(){_(h);if(r.onHidden&&g.state!=="hidden"){r.onHidden()}g.state="hidden";g.endTime=new Date;b(g)}})}function I(){if(r.timeOut>0||r.extendedTimeOut>0){a=setTimeout(E,r.extendedTimeOut);p.maxHideTime=parseFloat(r.extendedTimeOut);p.hideEta=(new Date).getTime()+p.maxHideTime}}function A(){clearTimeout(a);p.hideEta=0;h.stop(true,true)[r.showMethod]({duration:r.showDuration,easing:r.showEasing})}function H(){var t=(p.hideEta-(new Date).getTime())/p.maxHideTime*100;d.width(t+"%")}}function x(){return t.extend({},y(),s.options)}function _(t){if(!e){e=l()}if(t.is(":visible")){return}t.remove();t=null;if(e.children().length===0){e.remove();o=undefined}}}()})})(typeof define==="function"&&define.amd?define:function(t,e){if(typeof module!=="undefined"&&module.exports){module.exports=e(require("jquery"))}else{window.toastr=e(window.jQuery)}});(function(t){function e(t,e,r){var s=t[0],o=/er/.test(r)?_indeterminate:/bl/.test(r)?f:c,a=r==_update?{checked:s[c],disabled:s[f],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:s[o];if(/^(ch|di|in)/.test(r)&&!a)i(t,o);else if(/^(un|en|de)/.test(r)&&a)n(t,o);else if(r==_update)for(var l in a)a[l]?i(t,l,!0):n(t,l,!0);else if(!e||"toggle"==r){if(!e)t[_callback]("ifClicked");a?s[_type]!==u&&n(t,o):i(t,o)}}function i(e,i,r){var p=e[0],g=e.parent(),m=i==c,v=i==_indeterminate,y=i==f,b=v?_determinate:m?d:"enabled",w=s(e,b+o(p[_type])),x=s(e,i+o(p[_type]));if(!0!==p[i]){if(!r&&i==c&&p[_type]==u&&p.name){var _=e.closest("form"),C='input[name="'+p.name+'"]',C=_.length?_.find(C):t(C);C.each(function(){this!==p&&t(this).data(l)&&n(t(this),i)})}v?(p[i]=!0,p[c]&&n(e,c,"force")):(r||(p[i]=!0),m&&p[_indeterminate]&&n(e,_indeterminate,!1));a(e,m,i,r)}p[f]&&s(e,_cursor,!0)&&g.find("."+h).css(_cursor,"default");g[_add](x||s(e,i)||"");g.attr("role")&&!v&&g.attr("aria-"+(y?f:c),"true");g[_remove](w||s(e,b)||"")}function n(t,e,i){var n=t[0],r=t.parent(),l=e==c,u=e==_indeterminate,p=e==f,g=u?_determinate:l?d:"enabled",m=s(t,g+o(n[_type])),v=s(t,e+o(n[_type]));if(!1!==n[e]){if(u||!i||"force"==i)n[e]=!1;a(t,l,g,i)}!n[f]&&s(t,_cursor,!0)&&r.find("."+h).css(_cursor,"pointer");r[_remove](v||s(t,e)||"");r.attr("role")&&!u&&r.attr("aria-"+(p?f:c),"false");r[_add](m||s(t,g)||"")}function r(e,i){if(e.data(l)){e.parent().html(e.attr("style",e.data(l).s||""));if(i)e[_callback](i);e.off(".i").unwrap();t(_label+'[for="'+e[0].id+'"]').add(e.closest(_label)).off(".i")}}function s(t,e,i){if(t.data(l))return t.data(l).o[e+(i?"":"Class")]}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function a(t,e,i,n){if(!n){if(e)t[_callback]("ifToggled");t[_callback]("ifChanged")[_callback]("if"+o(i))}}var l="iCheck",h=l+"-helper",u="radio",c="checked",d="un"+c,f="disabled";_determinate="determinate";_indeterminate="in"+_determinate;_update="update";_type="type";_click="click";_touch="touchbegin.i touchend.i";_add="addClass";_remove="removeClass";_callback="trigger";_label="label";_cursor="cursor";_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);t.fn[l]=function(s,o){var a='input[type="checkbox"], input[type="'+u+'"]',d=t(),p=function(e){e.each(function(){var e=t(this);d=e.is(a)?d.add(e):d.add(e.find(a))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(s))return s=s.toLowerCase(),p(this),d.each(function(){var i=t(this);"destroy"==s?r(i,"ifDestroyed"):e(i,!0,s);t.isFunction(o)&&o()});if("object"!=typeof s&&s)return this;var g=t.extend({checkedClass:c,disabledClass:f,indeterminateClass:_indeterminate,labelHover:!0},s),m=g.handle,v=g.hoverClass||"hover",y=g.focusClass||"focus",b=g.activeClass||"active",w=!!g.labelHover,x=g.labelHoverClass||"hover",_=(""+g.increaseArea).replace("%","")|0;if("checkbox"==m||m==u)a='input[type="'+m+'"]';-50>_&&(_=-50);p(this);return d.each(function(){var s=t(this);r(s);var o=this,a=o.id,d=-_+"%",p=100+2*_+"%",p={position:"absolute",top:d,left:d,display:"block",width:p,height:p,margin:0,padding:0,background:"#fff",border:0,opacity:0},d=_mobile?{position:"absolute",visibility:"hidden"}:_?p:{position:"absolute",opacity:0},m="checkbox"==o[_type]?g.checkboxClass||"icheckbox":g.radioClass||"i"+u,C=t(_label+'[for="'+a+'"]').add(s.closest(_label)),k=!!g.aria,S=l+"-"+Math.random().toString(36).substr(2,6),T='<div class="'+m+'" '+(k?'role="'+o[_type]+'" ':"");k&&C.each(function(){T+='aria-labelledby="';this.id?T+=this.id:(this.id=S,T+=S);T+='"'});T=s.wrap(T+"/>")[_callback]("ifCreated").parent().append(g.insert);p=t('<ins class="'+h+'"/>').css(p).appendTo(T);s.data(l,{o:g,s:s.attr("style")}).css(d);g.inheritClass&&T[_add](o.className||"");g.inheritID&&a&&T.attr("id",l+"-"+a);"static"==T.css("position")&&T.css("position","relative");e(s,!0,_update);if(C.length)C.on(_click+".i mouseover.i mouseout.i "+_touch,function(i){var n=i[_type],r=t(this);if(!o[f]){if(n==_click){if(t(i.target).is("a"))return;e(s,!1,!0)}else w&&(/ut|nd/.test(n)?(T[_remove](v),r[_remove](x)):(T[_add](v),r[_add](x)));if(_mobile)i.stopPropagation();else return!1}});s.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[_type];t=t.keyCode;if(e==_click)return!1;if("keydown"==e&&32==t)return o[_type]==u&&o[c]||(o[c]?n(s,c):i(s,c)),!1;if("keyup"==e&&o[_type]==u)!o[c]&&i(s,c);else if(/us|ur/.test(e))T["blur"==e?_remove:_add](y)});p.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(t){var i=t[_type],n=/wn|up/.test(i)?b:v;if(!o[f]){if(i==_click)e(s,!1,!0);else{if(/wn|er|in/.test(i))T[_add](n);else T[_remove](n+" "+b);if(C.length&&w&&n==v)C[/ut|nd/.test(i)?_remove:_add](x)}if(_mobile)t.stopPropagation();else return!1}})})}})(window.jQuery||window.Zepto);(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?module.exports=e():typeof define==="function"&&define.amd?define(e):t.moment=e()})(this,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function i(e){t=e}function n(t){return Object.prototype.toString.call(t)==="[object Array]"}function r(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function s(t,e){var i=[],n;for(n=0;n<t.length;++n){i.push(e(t[n],n))}return i}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var i in e){if(o(e,i)){t[i]=e[i]}}if(o(e,"toString")){t.toString=e.toString}if(o(e,"valueOf")){t.valueOf=e.valueOf}return t}function l(t,e,i,n){return Te(t,e,i,n,true).utc()}function h(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function u(t){if(t._pf==null){t._pf=h()}return t._pf}function c(t){if(t._isValid==null){var e=u(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated;if(t._strict){t._isValid=t._isValid&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===undefined}}return t._isValid}function d(t){var e=l(NaN);if(t!=null){a(u(e),t)}else{u(e).userInvalidated=true}return e}function f(t){return t===void 0}var p=e.momentProperties=[];function g(t,e){var i,n,r;if(!f(e._isAMomentObject)){t._isAMomentObject=e._isAMomentObject}if(!f(e._i)){t._i=e._i}if(!f(e._f)){t._f=e._f}if(!f(e._l)){t._l=e._l}if(!f(e._strict)){t._strict=e._strict}if(!f(e._tzm)){t._tzm=e._tzm}if(!f(e._isUTC)){t._isUTC=e._isUTC}if(!f(e._offset)){t._offset=e._offset}if(!f(e._pf)){t._pf=u(e)}if(!f(e._locale)){t._locale=e._locale}if(p.length>0){for(i in p){n=p[i];r=e[n];if(!f(r)){t[n]=r}}}return t}var m=false;function v(t){g(this,t);this._d=new Date(t._d!=null?t._d.getTime():NaN);if(m===false){m=true;e.updateOffset(this);m=false}}function y(t){return t instanceof v||t!=null&&t._isAMomentObject!=null}function b(t){if(t<0){return Math.ceil(t)}else{return Math.floor(t)}}function w(t){var e=+t,i=0;if(e!==0&&isFinite(e)){i=b(e)}return i}function x(t,e,i){var n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0,o;for(o=0;o<n;o++){if(i&&t[o]!==e[o]||!i&&w(t[o])!==w(e[o])){s++}}return s+r}function _(){}var C={};var k;function S(t){return t?t.toLowerCase().replace("_","-"):t}function T(t){var e=0,i,n,r,s;while(e<t.length){s=S(t[e]).split("-");i=s.length;n=S(t[e+1]);n=n?n.split("-"):null;while(i>0){r=D(s.slice(0,i).join("-"));if(r){return r}if(n&&n.length>=i&&x(s,n,true)>=i-1){break}i--}e++}return null}function D(t){var e=null;if(!C[t]&&typeof module!=="undefined"&&module&&module.exports){try{e=k._abbr;require("./locale/"+t);M(e)}catch(t){}}return C[t]}function M(t,e){var i;if(t){if(f(e)){i=E(t)}else{i=P(t,e)}if(i){k=i}}return k._abbr}function P(t,e){if(e!==null){e.abbr=t;C[t]=C[t]||new _;C[t].set(e);M(t);return C[t]}else{delete C[t];return null}}function E(t){var e;if(t&&t._locale&&t._locale._abbr){t=t._locale._abbr}if(!t){return k}if(!n(t)){e=D(t);if(e){return e}t=[t]}return T(t)}var I={};function A(t,e){var i=t.toLowerCase();I[i]=I[i+"s"]=I[e]=t}function H(t){return typeof t==="string"?I[t]||I[t.toLowerCase()]:undefined}function R(t){var e={},i,n;for(n in t){if(o(t,n)){i=H(n);if(i){e[i]=t[n]}}}return e}function L(t){return t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function F(t,i){return function(n){if(n!=null){z(this,t,n);e.updateOffset(this,i);return this}else{return $(this,t)}}}function $(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function z(t,e,i){if(t.isValid()){t._d["set"+(t._isUTC?"UTC":"")+e](i)}}function N(t,e){var i;if(typeof t==="object"){for(i in t){this.set(i,t[i])}}else{t=H(t);if(L(this[t])){return this[t](e)}}return this}function O(t,e,i){var n=""+Math.abs(t),r=e-n.length,s=t>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var W=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var j={};var q={};function Y(t,e,i,n){var r=n;if(typeof n==="string"){r=function(){return this[n]()}}if(t){q[t]=r}if(e){q[e[0]]=function(){return O(r.apply(this,arguments),e[1],e[2])}}if(i){q[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)}}}function U(t){if(t.match(/\[[\s\S]/)){return t.replace(/^\[|\]$/g,"")}return t.replace(/\\/g,"")}function V(t){var e=t.match(B),i,n;for(i=0,n=e.length;i<n;i++){if(q[e[i]]){e[i]=q[e[i]]}else{e[i]=U(e[i])}}return function(r){var s="";for(i=0;i<n;i++){s+=e[i]instanceof Function?e[i].call(r,t):e[i]}return s}}function G(t,e){if(!t.isValid()){return t.localeData().invalidDate()}e=X(e,t.localeData());j[e]=j[e]||V(e);return j[e](t)}function X(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}W.lastIndex=0;while(i>=0&&W.test(t)){t=t.replace(W,n);W.lastIndex=0;i-=1}return t}var K=/\d/;var Q=/\d\d/;var Z=/\d{3}/;var J=/\d{4}/;var tt=/[+-]?\d{6}/;var et=/\d\d?/;var it=/\d\d\d\d?/;var nt=/\d\d\d\d\d\d?/;var rt=/\d{1,3}/;var st=/\d{1,4}/;var ot=/[+-]?\d{1,6}/;var at=/\d+/;var lt=/[+-]?\d+/;var ht=/Z|[+-]\d\d:?\d\d/gi;var ut=/Z|[+-]\d\d(?::?\d\d)?/gi;var ct=/[+-]?\d+(\.\d{1,3})?/;var dt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var ft={};function pt(t,e,i){ft[t]=L(e)?e:function(t,n){return t&&i?i:e}}function gt(t,e){if(!o(ft,t)){return new RegExp(mt(t))}return ft[t](e._strict,e._locale)}function mt(t){return vt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r}))}function vt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var yt={};function bt(t,e){var i,n=e;if(typeof t==="string"){t=[t]}if(typeof e==="number"){n=function(t,i){i[e]=w(t)}}for(i=0;i<t.length;i++){yt[t[i]]=n}}function wt(t,e){bt(t,function(t,i,n,r){n._w=n._w||{};e(t,n._w,n,r)})}function xt(t,e,i){if(e!=null&&o(yt,t)){yt[t](e,i._a,i,t)}}var _t=0;var Ct=1;var kt=2;var St=3;var Tt=4;var Dt=5;var Mt=6;var Pt=7;var Et=8;function It(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}Y("M",["MM",2],"Mo",function(){return this.month()+1});Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Y("MMMM",0,0,function(t){return this.localeData().months(this,t)});A("month","M");pt("M",et);pt("MM",et,Q);pt("MMM",function(t,e){return e.monthsShortRegex(t)});pt("MMMM",function(t,e){return e.monthsRegex(t)});bt(["M","MM"],function(t,e){e[Ct]=w(t)-1});bt(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);if(r!=null){e[Ct]=r}else{u(i).invalidMonth=t}});var At=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/;var Ht="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function Rt(t,e){return n(this._months)?this._months[t.month()]:this._months[At.test(e)?"format":"standalone"][t.month()]}var Lt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ft(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[At.test(e)?"format":"standalone"][t.month()]}function $t(t,e,i){var n,r,s;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(n=0;n<12;n++){r=l([2e3,n]);if(i&&!this._longMonthsParse[n]){this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i");this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")}if(!i&&!this._monthsParse[n]){s="^"+this.months(r,"")+"|^"+this.monthsShort(r,"");this._monthsParse[n]=new RegExp(s.replace(".",""),"i")}if(i&&e==="MMMM"&&this._longMonthsParse[n].test(t)){return n}else if(i&&e==="MMM"&&this._shortMonthsParse[n].test(t)){return n}else if(!i&&this._monthsParse[n].test(t)){return n}}}function zt(t,e){var i;if(!t.isValid()){return t}if(typeof e==="string"){e=t.localeData().monthsParse(e);if(typeof e!=="number"){return t}}i=Math.min(t.date(),It(t.year(),e));t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i);return t}function Nt(t){if(t!=null){zt(this,t);e.updateOffset(this,true);return this}else{return $(this,"Month")}}function Ot(){return It(this.year(),this.month())}var Bt=dt;function Wt(t){if(this._monthsParseExact){if(!o(this,"_monthsRegex")){Yt.call(this)}if(t){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{return this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}}var jt=dt;function qt(t){if(this._monthsParseExact){if(!o(this,"_monthsRegex")){Yt.call(this)}if(t){return this._monthsStrictRegex}else{return this._monthsRegex}}else{return this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}}function Yt(){function t(t,e){return e.length-t.length}var e=[],i=[],n=[],r,s;for(r=0;r<12;r++){s=l([2e3,r]);e.push(this.monthsShort(s,""));i.push(this.months(s,""));n.push(this.months(s,""));n.push(this.monthsShort(s,""))}e.sort(t);i.sort(t);n.sort(t);for(r=0;r<12;r++){e[r]=vt(e[r]);i[r]=vt(i[r]);n[r]=vt(n[r])}this._monthsRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+i.join("|")+")$","i");this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")$","i")}function Ut(t){var e;var i=t._a;if(i&&u(t).overflow===-2){e=i[Ct]<0||i[Ct]>11?Ct:i[kt]<1||i[kt]>It(i[_t],i[Ct])?kt:i[St]<0||i[St]>24||i[St]===24&&(i[Tt]!==0||i[Dt]!==0||i[Mt]!==0)?St:i[Tt]<0||i[Tt]>59?Tt:i[Dt]<0||i[Dt]>59?Dt:i[Mt]<0||i[Mt]>999?Mt:-1;if(u(t)._overflowDayOfYear&&(e<_t||e>kt)){e=kt}if(u(t)._overflowWeeks&&e===-1){e=Pt}if(u(t)._overflowWeekday&&e===-1){e=Et}u(t).overflow=e}return t}function Vt(t){if(e.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+t)}}function Gt(t,e){var i=true;return a(function(){if(i){Vt(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack);i=false}return e.apply(this,arguments)},e)}var Xt={};function Kt(t,e){if(!Xt[t]){Vt(e);Xt[t]=true}}e.suppressDeprecationWarnings=false;var Qt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var Zt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var Jt=/Z|[+-]\d\d(?::?\d\d)?/;var te=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var ee=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var ie=/^\/?Date\((\-?\d+)/i;function ne(t){var e,i,n=t._i,r=Qt.exec(n)||Zt.exec(n),s,o,a,l;if(r){u(t).iso=true;for(e=0,i=te.length;e<i;e++){if(te[e][1].exec(r[1])){o=te[e][0];s=te[e][2]!==false;break}}if(o==null){t._isValid=false;return}if(r[3]){for(e=0,i=ee.length;e<i;e++){if(ee[e][1].exec(r[3])){a=(r[2]||" ")+ee[e][0];break}}if(a==null){t._isValid=false;return}}if(!s&&a!=null){t._isValid=false;return}if(r[4]){if(Jt.exec(r[4])){l="Z"}else{t._isValid=false;return}}t._f=o+(a||"")+(l||"");be(t)}else{t._isValid=false}}function re(t){var i=ie.exec(t._i);if(i!==null){t._d=new Date(+i[1]);return}ne(t);if(t._isValid===false){delete t._isValid;e.createFromInputFallback(t)}}e.createFromInputFallback=Gt("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function se(t,e,i,n,r,s,o){var a=new Date(t,e,i,n,r,s,o);if(t<100&&t>=0&&isFinite(a.getFullYear())){a.setFullYear(t)}return a}function oe(t){var e=new Date(Date.UTC.apply(null,arguments));if(t<100&&t>=0&&isFinite(e.getUTCFullYear())){e.setUTCFullYear(t)}return e}Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t});Y(0,["YY",2],0,function(){return this.year()%100});Y(0,["YYYY",4],0,"year");Y(0,["YYYYY",5],0,"year");Y(0,["YYYYYY",6,true],0,"year");A("year","y");pt("Y",lt);pt("YY",et,Q);pt("YYYY",st,J);pt("YYYYY",ot,tt);pt("YYYYYY",ot,tt);bt(["YYYYY","YYYYYY"],_t);bt("YYYY",function(t,i){i[_t]=t.length===2?e.parseTwoDigitYear(t):w(t)});bt("YY",function(t,i){i[_t]=e.parseTwoDigitYear(t)});bt("Y",function(t,e){e[_t]=parseInt(t,10)});function ae(t){return le(t)?366:365}function le(t){return t%4===0&&t%100!==0||t%400===0}e.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var he=F("FullYear",false);function ue(){return le(this.year())}function ce(t,e,i){var n=7+e-i,r=(7+oe(t,0,n).getUTCDay()-e)%7;return-r+n-1}function de(t,e,i,n,r){var s=(7+i-n)%7,o=ce(t,n,r),a=1+7*(e-1)+s+o,l,h;if(a<=0){l=t-1;h=ae(l)+a}else if(a>ae(t)){l=t+1;h=a-ae(t)}else{l=t;h=a}return{year:l,dayOfYear:h}}function fe(t,e,i){var n=ce(t.year(),e,i),r=Math.floor((t.dayOfYear()-n-1)/7)+1,s,o;if(r<1){o=t.year()-1;s=r+pe(o,e,i)}else if(r>pe(t.year(),e,i)){s=r-pe(t.year(),e,i);o=t.year()+1}else{o=t.year();s=r}return{week:s,year:o}}function pe(t,e,i){var n=ce(t,e,i),r=ce(t+1,e,i);return(ae(t)-n+r)/7}function ge(t,e,i){if(t!=null){return t}if(e!=null){return e}return i}function me(t){var i=new Date(e.now());if(t._useUTC){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]}return[i.getFullYear(),i.getMonth(),i.getDate()]}function ve(t){var e,i,n=[],r,s;if(t._d){return}r=me(t);if(t._w&&t._a[kt]==null&&t._a[Ct]==null){ye(t)}if(t._dayOfYear){s=ge(t._a[_t],r[_t]);if(t._dayOfYear>ae(s)){u(t)._overflowDayOfYear=true}i=oe(s,0,t._dayOfYear);t._a[Ct]=i.getUTCMonth();t._a[kt]=i.getUTCDate()}for(e=0;e<3&&t._a[e]==null;++e){t._a[e]=n[e]=r[e]}for(;e<7;e++){t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e]}if(t._a[St]===24&&t._a[Tt]===0&&t._a[Dt]===0&&t._a[Mt]===0){t._nextDay=true;t._a[St]=0}t._d=(t._useUTC?oe:se).apply(null,n);if(t._tzm!=null){t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm)}if(t._nextDay){t._a[St]=24}}function ye(t){var e,i,n,r,s,o,a,l;e=t._w;if(e.GG!=null||e.W!=null||e.E!=null){s=1;o=4;i=ge(e.GG,t._a[_t],fe(De(),1,4).year);n=ge(e.W,1);r=ge(e.E,1);if(r<1||r>7){l=true}}else{s=t._locale._week.dow;o=t._locale._week.doy;i=ge(e.gg,t._a[_t],fe(De(),s,o).year);n=ge(e.w,1);if(e.d!=null){r=e.d;if(r<0||r>6){l=true}}else if(e.e!=null){r=e.e+s;if(e.e<0||e.e>6){l=true}}else{r=s}}if(n<1||n>pe(i,s,o)){u(t)._overflowWeeks=true}else if(l!=null){u(t)._overflowWeekday=true}else{a=de(i,n,r,s,o);t._a[_t]=a.year;t._dayOfYear=a.dayOfYear}}e.ISO_8601=function(){};function be(t){if(t._f===e.ISO_8601){ne(t);return}t._a=[];u(t).empty=true;var i=""+t._i,n,r,s,o,a,l=i.length,h=0;s=X(t._f,t._locale).match(B)||[];for(n=0;n<s.length;n++){o=s[n];r=(i.match(gt(o,t))||[])[0];if(r){a=i.substr(0,i.indexOf(r));if(a.length>0){u(t).unusedInput.push(a)}i=i.slice(i.indexOf(r)+r.length);h+=r.length}if(q[o]){if(r){u(t).empty=false}else{u(t).unusedTokens.push(o)}xt(o,r,t)}else if(t._strict&&!r){u(t).unusedTokens.push(o)}}u(t).charsLeftOver=l-h;if(i.length>0){u(t).unusedInput.push(i)}if(u(t).bigHour===true&&t._a[St]<=12&&t._a[St]>0){u(t).bigHour=undefined}t._a[St]=we(t._locale,t._a[St],t._meridiem);ve(t);Ut(t)}function we(t,e,i){var n;if(i==null){return e}if(t.meridiemHour!=null){return t.meridiemHour(e,i)}else if(t.isPM!=null){n=t.isPM(i);if(n&&e<12){e+=12}if(!n&&e===12){e=0}return e}else{return e}}function xe(t){var e,i,n,r,s;if(t._f.length===0){u(t).invalidFormat=true;t._d=new Date(NaN);return}for(r=0;r<t._f.length;r++){s=0;e=g({},t);if(t._useUTC!=null){e._useUTC=t._useUTC}e._f=t._f[r];be(e);if(!c(e)){continue}s+=u(e).charsLeftOver;s+=u(e).unusedTokens.length*10;u(e).score=s;if(n==null||s<n){n=s;i=e}}a(t,i||e)}function _e(t){if(t._d){return}var e=R(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)});ve(t)}function Ce(t){var e=new v(Ut(ke(t)));if(e._nextDay){e.add(1,"d");e._nextDay=undefined}return e}function ke(t){var e=t._i,i=t._f;t._locale=t._locale||E(t._l);if(e===null||i===undefined&&e===""){return d({nullInput:true})}if(typeof e==="string"){t._i=e=t._locale.preparse(e)}if(y(e)){return new v(Ut(e))}else if(n(i)){xe(t)}else if(i){be(t)}else if(r(e)){t._d=e}else{Se(t)}if(!c(t)){t._d=null}return t}function Se(t){var i=t._i;if(i===undefined){t._d=new Date(e.now())}else if(r(i)){t._d=new Date(+i)}else if(typeof i==="string"){re(t)}else if(n(i)){t._a=s(i.slice(0),function(t){return parseInt(t,10)});ve(t)}else if(typeof i==="object"){_e(t)}else if(typeof i==="number"){t._d=new Date(i)}else{e.createFromInputFallback(t)}}function Te(t,e,i,n,r){var s={};if(typeof i==="boolean"){n=i;i=undefined}s._isAMomentObject=true;s._useUTC=s._isUTC=r;s._l=i;s._i=t;s._f=e;s._strict=n;return Ce(s)}function De(t,e,i,n){return Te(t,e,i,n,false)}var Me=Gt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=De.apply(null,arguments);if(this.isValid()&&t.isValid()){return t<this?this:t}else{return d()}});var Pe=Gt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=De.apply(null,arguments);if(this.isValid()&&t.isValid()){return t>this?this:t}else{return d()}});function Ee(t,e){var i,r;if(e.length===1&&n(e[0])){e=e[0]}if(!e.length){return De()}i=e[0];for(r=1;r<e.length;++r){if(!e[r].isValid()||e[r][t](i)){i=e[r]}}return i}function Ie(){var t=[].slice.call(arguments,0);return Ee("isBefore",t)}function Ae(){var t=[].slice.call(arguments,0);return Ee("isAfter",t)}var He=function(){return Date.now?Date.now():+new Date};function Re(t){var e=R(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,u=e.millisecond||0;this._milliseconds=+u+h*1e3+l*6e4+a*36e5;this._days=+o+s*7;this._months=+r+n*3+i*12;this._data={};this._locale=E();this._bubble()}function Le(t){return t instanceof Re}function Fe(t,e){Y(t,0,0,function(){var t=this.utcOffset();var i="+";if(t<0){t=-t;i="-"}return i+O(~~(t/60),2)+e+O(~~t%60,2)})}Fe("Z",":");Fe("ZZ","");pt("Z",ut);pt("ZZ",ut);bt(["Z","ZZ"],function(t,e,i){i._useUTC=true;i._tzm=ze(ut,t)});var $e=/([\+\-]|\d\d)/gi;function ze(t,e){var i=(e||"").match(t)||[];var n=i[i.length-1]||[];var r=(n+"").match($e)||["-",0,0];var s=+(r[1]*60)+w(r[2]);return r[0]==="+"?s:-s}function Ne(t,i){var n,s;if(i._isUTC){n=i.clone();s=(y(t)||r(t)?+t:+De(t))-+n;n._d.setTime(+n._d+s);e.updateOffset(n,false);return n}else{return De(t).local()}}function Oe(t){return-Math.round(t._d.getTimezoneOffset()/15)*15}e.updateOffset=function(){};function Be(t,i){var n=this._offset||0,r;if(!this.isValid()){return t!=null?this:NaN}if(t!=null){if(typeof t==="string"){t=ze(ut,t)}else if(Math.abs(t)<16){t=t*60}if(!this._isUTC&&i){r=Oe(this)}this._offset=t;this._isUTC=true;if(r!=null){this.add(r,"m")}if(n!==t){if(!i||this._changeInProgress){si(this,ti(t-n,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;e.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?n:Oe(this)}}function We(t,e){if(t!=null){if(typeof t!=="string"){t=-t}this.utcOffset(t,e);return this}else{return-this.utcOffset()}}function je(t){return this.utcOffset(0,t)}function qe(t){if(this._isUTC){this.utcOffset(0,t);this._isUTC=false;if(t){this.subtract(Oe(this),"m")}}return this}function Ye(){if(this._tzm){this.utcOffset(this._tzm)}else if(typeof this._i==="string"){this.utcOffset(ze(ht,this._i))}return this}function Ue(t){if(!this.isValid()){return false}t=t?De(t).utcOffset():0;return(this.utcOffset()-t)%60===0}function Ve(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ge(){if(!f(this._isDSTShifted)){return this._isDSTShifted}var t={};g(t,this);t=ke(t);if(t._a){var e=t._isUTC?l(t._a):De(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function Xe(){return this.isValid()?!this._isUTC:false}function Ke(){return this.isValid()?this._isUTC:false}function Qe(){return this.isValid()?this._isUTC&&this._offset===0:false}var Ze=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/;var Je=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function ti(t,e){var i=t,n=null,r,s,a;if(Le(t)){i={ms:t._milliseconds,d:t._days,M:t._months}}else if(typeof t==="number"){i={};if(e){i[e]=t}else{i.milliseconds=t}}else if(!!(n=Ze.exec(t))){r=n[1]==="-"?-1:1;i={y:0,d:w(n[kt])*r,h:w(n[St])*r,m:w(n[Tt])*r,s:w(n[Dt])*r,ms:w(n[Mt])*r}}else if(!!(n=Je.exec(t))){r=n[1]==="-"?-1:1;i={y:ei(n[2],r),M:ei(n[3],r),d:ei(n[4],r),h:ei(n[5],r),m:ei(n[6],r),s:ei(n[7],r),w:ei(n[8],r)}}else if(i==null){i={}}else if(typeof i==="object"&&("from"in i||"to"in i)){a=ni(De(i.from),De(i.to));i={};i.ms=a.milliseconds;i.M=a.months}s=new Re(i);if(Le(t)&&o(t,"_locale")){s._locale=t._locale}return s}ti.fn=Re.prototype;function ei(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function ii(t,e){var i={milliseconds:0,months:0};i.months=e.month()-t.month()+(e.year()-t.year())*12;if(t.clone().add(i.months,"M").isAfter(e)){--i.months}i.milliseconds=+e-+t.clone().add(i.months,"M");return i}function ni(t,e){var i;if(!(t.isValid()&&e.isValid())){return{milliseconds:0,months:0}}e=Ne(e,t);if(t.isBefore(e)){i=ii(t,e)}else{i=ii(e,t);i.milliseconds=-i.milliseconds;i.months=-i.months}return i}function ri(t,e){return function(i,n){var r,s;if(n!==null&&!isNaN(+n)){Kt(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period).");s=i;i=n;n=s}i=typeof i==="string"?+i:i;r=ti(i,n);si(this,r,t);return this}}function si(t,i,n,r){var s=i._milliseconds,o=i._days,a=i._months;if(!t.isValid()){return}r=r==null?true:r;if(s){t._d.setTime(+t._d+s*n)}if(o){z(t,"Date",$(t,"Date")+o*n)}if(a){zt(t,$(t,"Month")+a*n)}if(r){e.updateOffset(t,o||a)}}var oi=ri(1,"add");var ai=ri(-1,"subtract");function li(t,e){var i=t||De(),n=Ne(i,this).startOf("day"),r=this.diff(n,"days",true),s=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";var o=e&&(L(e[s])?e[s]():e[s]);return this.format(o||this.localeData().calendar(s,this,De(i)))}function hi(){return new v(this)}function ui(t,e){var i=y(t)?t:De(t);if(!(this.isValid()&&i.isValid())){return false}e=H(!f(e)?e:"millisecond");if(e==="millisecond"){return+this>+i}else{return+i<+this.clone().startOf(e)}}function ci(t,e){var i=y(t)?t:De(t);if(!(this.isValid()&&i.isValid())){return false}e=H(!f(e)?e:"millisecond");if(e==="millisecond"){return+this<+i}else{return+this.clone().endOf(e)<+i}}function di(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function fi(t,e){var i=y(t)?t:De(t),n;if(!(this.isValid()&&i.isValid())){return false}e=H(e||"millisecond");if(e==="millisecond"){return+this===+i}else{n=+i;return+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e)}}function pi(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function gi(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function mi(t,e,i){var n,r,s,o;if(!this.isValid()){return NaN}n=Ne(t,this);if(!n.isValid()){return NaN}r=(n.utcOffset()-this.utcOffset())*6e4;e=H(e);if(e==="year"||e==="month"||e==="quarter"){o=vi(this,n);if(e==="quarter"){o=o/3}else if(e==="year"){o=o/12}}else{s=this-n;o=e==="second"?s/1e3:e==="minute"?s/6e4:e==="hour"?s/36e5:e==="day"?(s-r)/864e5:e==="week"?(s-r)/6048e5:s}return i?o:b(o)}function vi(t,e){var i=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(i,"months"),r,s;if(e-n<0){r=t.clone().add(i-1,"months");s=(e-n)/(n-r)}else{r=t.clone().add(i+1,"months");s=(e-n)/(r-n)}return-(i+s)}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";function yi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function bi(){var t=this.clone().utc();if(0<t.year()&&t.year()<=9999){if(L(Date.prototype.toISOString)){return this.toDate().toISOString()}else{return G(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return G(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}function wi(t){var i=G(this,t||e.defaultFormat);return this.localeData().postformat(i)}function xi(t,e){if(this.isValid()&&(y(t)&&t.isValid()||De(t).isValid())){return ti({to:this,from:t}).locale(this.locale()).humanize(!e)}else{return this.localeData().invalidDate()}}function _i(t){return this.from(De(),t)}function Ci(t,e){if(this.isValid()&&(y(t)&&t.isValid()||De(t).isValid())){return ti({from:this,to:t}).locale(this.locale()).humanize(!e)}else{return this.localeData().invalidDate()}}function ki(t){return this.to(De(),t)}function Si(t){var e;if(t===undefined){return this._locale._abbr}else{e=E(t);if(e!=null){this._locale=e}return this}}var Ti=Gt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){if(t===undefined){return this.localeData()}else{return this.locale(t)}});function Di(){return this._locale}function Mi(t){t=H(t);switch(t){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(t==="week"){this.weekday(0)}if(t==="isoWeek"){this.isoWeekday(1)}if(t==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function Pi(t){t=H(t);if(t===undefined||t==="millisecond"){return this}return this.startOf(t).add(1,t==="isoWeek"?"week":t).subtract(1,"ms")}function Ei(){return+this._d-(this._offset||0)*6e4}function Ii(){return Math.floor(+this/1e3)}function Ai(){return this._offset?new Date(+this):this._d}function Hi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ri(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Li(){return this.isValid()?this.toISOString():"null"}function Fi(){return c(this)}function $i(){return a({},u(this))}function zi(){return u(this).overflow}function Ni(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Y(0,["gg",2],0,function(){return this.weekYear()%100});Y(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Oi(t,e){Y(0,[t,t.length],0,e)}Oi("gggg","weekYear");Oi("ggggg","weekYear");Oi("GGGG","isoWeekYear");Oi("GGGGG","isoWeekYear");A("weekYear","gg");A("isoWeekYear","GG");pt("G",lt);pt("g",lt);pt("GG",et,Q);pt("gg",et,Q);pt("GGGG",st,J);pt("gggg",st,J);pt("GGGGG",ot,tt);pt("ggggg",ot,tt);wt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=w(t)});wt(["gg","GG"],function(t,i,n,r){i[r]=e.parseTwoDigitYear(t)});function Bi(t){return Yi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(t){return Yi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function ji(){return pe(this.year(),1,4)}function qi(){var t=this.localeData()._week;return pe(this.year(),t.dow,t.doy)}function Yi(t,e,i,n,r){var s;if(t==null){return fe(this,n,r).year}else{s=pe(t,n,r);if(e>s){e=s}return Ui.call(this,t,e,i,n,r)}}function Ui(t,e,i,n,r){var s=de(t,e,i,n,r),o=oe(s.year,0,s.dayOfYear);this.year(o.getUTCFullYear());this.month(o.getUTCMonth());this.date(o.getUTCDate());return this}Y("Q",0,"Qo","quarter");A("quarter","Q");pt("Q",K);bt("Q",function(t,e){e[Ct]=(w(t)-1)*3});function Vi(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Y("w",["ww",2],"wo","week");Y("W",["WW",2],"Wo","isoWeek");A("week","w");A("isoWeek","W");pt("w",et);pt("ww",et,Q);pt("W",et);pt("WW",et,Q);wt(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=w(t)});function Gi(t){return fe(t,this._week.dow,this._week.doy).week}var Xi={dow:0,doy:6};function Ki(){return this._week.dow}function Qi(){return this._week.doy}function Zi(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Ji(t){var e=fe(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Y("D",["DD",2],"Do","date");A("date","D");pt("D",et);pt("DD",et,Q);pt("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient});bt(["D","DD"],kt);bt("Do",function(t,e){e[kt]=w(t.match(et)[0],10)});var tn=F("Date",true);Y("d",0,"do","day");Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Y("e",0,0,"weekday");Y("E",0,0,"isoWeekday");A("day","d");A("weekday","e");A("isoWeekday","E");pt("d",et);pt("e",et);pt("E",et);pt("dd",dt);pt("ddd",dt);pt("dddd",dt);wt(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);if(r!=null){e.d=r}else{u(i).invalidWeekday=t}});wt(["d","e","E"],function(t,e,i,n){e[n]=w(t)});function en(t,e){if(typeof t!=="string"){return t}if(!isNaN(t)){return parseInt(t,10)}t=e.weekdaysParse(t);if(typeof t==="number"){return t}return null}var nn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function rn(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}var sn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function on(t){return this._weekdaysShort[t.day()]}var an="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function ln(t){return this._weekdaysMin[t.day()]}function hn(t,e,i){var n,r,s;if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(n=0;n<7;n++){r=De([2e3,1]).day(n);if(i&&!this._fullWeekdaysParse[n]){this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i");this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[n]){s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,"");this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")}if(i&&e==="dddd"&&this._fullWeekdaysParse[n].test(t)){return n}else if(i&&e==="ddd"&&this._shortWeekdaysParse[n].test(t)){return n}else if(i&&e==="dd"&&this._minWeekdaysParse[n].test(t)){return n}else if(!i&&this._weekdaysParse[n].test(t)){return n}}}function un(t){if(!this.isValid()){return t!=null?this:NaN}var e=this._isUTC?this._d.getUTCDay():this._d.getDay();if(t!=null){t=en(t,this.localeData());return this.add(t-e,"d")}else{return e}}function cn(t){if(!this.isValid()){return t!=null?this:NaN}var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function dn(t){if(!this.isValid()){return t!=null?this:NaN}return t==null?this.day()||7:this.day(this.day()%7?t:t-7)}Y("DDD",["DDDD",3],"DDDo","dayOfYear");A("dayOfYear","DDD");pt("DDD",rt);pt("DDDD",Z);bt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=w(t)});function fn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}function pn(){return this.hours()%12||12}Y("H",["HH",2],0,"hour");Y("h",["hh",2],0,pn);Y("hmm",0,0,function(){return""+pn.apply(this)+O(this.minutes(),2)});Y("hmmss",0,0,function(){return""+pn.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)});Y("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)});Y("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)});function gn(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}gn("a",true);gn("A",false);A("hour","h");function mn(t,e){return e._meridiemParse}pt("a",mn);pt("A",mn);pt("H",et);pt("h",et);pt("HH",et,Q);pt("hh",et,Q);pt("hmm",it);pt("hmmss",nt);pt("Hmm",it);pt("Hmmss",nt);bt(["H","HH"],St);bt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t);i._meridiem=t});bt(["h","hh"],function(t,e,i){e[St]=w(t);u(i).bigHour=true});bt("hmm",function(t,e,i){var n=t.length-2;e[St]=w(t.substr(0,n));e[Tt]=w(t.substr(n));u(i).bigHour=true});bt("hmmss",function(t,e,i){var n=t.length-4;var r=t.length-2;e[St]=w(t.substr(0,n));e[Tt]=w(t.substr(n,2));e[Dt]=w(t.substr(r));u(i).bigHour=true});bt("Hmm",function(t,e,i){var n=t.length-2;e[St]=w(t.substr(0,n));e[Tt]=w(t.substr(n))});bt("Hmmss",function(t,e,i){var n=t.length-4;var r=t.length-2;e[St]=w(t.substr(0,n));e[Tt]=w(t.substr(n,2));e[Dt]=w(t.substr(r))});function vn(t){return(t+"").toLowerCase().charAt(0)==="p"}var yn=/[ap]\.?m?\.?/i;function bn(t,e,i){if(t>11){return i?"pm":"PM"}else{return i?"am":"AM"}}var wn=F("Hours",true);Y("m",["mm",2],0,"minute");A("minute","m");pt("m",et);pt("mm",et,Q);bt(["m","mm"],Tt);var xn=F("Minutes",false);Y("s",["ss",2],0,"second");A("second","s");pt("s",et);pt("ss",et,Q);bt(["s","ss"],Dt);var _n=F("Seconds",false);Y("S",0,0,function(){return~~(this.millisecond()/100)});Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Y(0,["SSS",3],0,"millisecond");Y(0,["SSSS",4],0,function(){return this.millisecond()*10});Y(0,["SSSSS",5],0,function(){return this.millisecond()*100});Y(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Y(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Y(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Y(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});A("millisecond","ms");pt("S",rt,K);pt("SS",rt,Q);pt("SSS",rt,Z);var Cn;for(Cn="SSSS";Cn.length<=9;Cn+="S"){pt(Cn,at)}function kn(t,e){e[Mt]=w(("0."+t)*1e3)}for(Cn="S";Cn.length<=9;Cn+="S"){bt(Cn,kn)}var Sn=F("Milliseconds",false);Y("z",0,0,"zoneAbbr");Y("zz",0,0,"zoneName");function Tn(){return this._isUTC?"UTC":""}function Dn(){return this._isUTC?"Coordinated Universal Time":""}var Mn=v.prototype;Mn.add=oi;Mn.calendar=li;Mn.clone=hi;Mn.diff=mi;Mn.endOf=Pi;Mn.format=wi;Mn.from=xi;Mn.fromNow=_i;Mn.to=Ci;Mn.toNow=ki;Mn.get=N;Mn.invalidAt=zi;Mn.isAfter=ui;Mn.isBefore=ci;Mn.isBetween=di;Mn.isSame=fi;Mn.isSameOrAfter=pi;Mn.isSameOrBefore=gi;Mn.isValid=Fi;Mn.lang=Ti;Mn.locale=Si;Mn.localeData=Di;Mn.max=Pe;Mn.min=Me;Mn.parsingFlags=$i;Mn.set=N;Mn.startOf=Mi;Mn.subtract=ai;Mn.toArray=Hi;Mn.toObject=Ri;Mn.toDate=Ai;Mn.toISOString=bi;Mn.toJSON=Li;Mn.toString=yi;Mn.unix=Ii;Mn.valueOf=Ei;Mn.creationData=Ni;Mn.year=he;Mn.isLeapYear=ue;Mn.weekYear=Bi;Mn.isoWeekYear=Wi;Mn.quarter=Mn.quarters=Vi;Mn.month=Nt;Mn.daysInMonth=Ot;Mn.week=Mn.weeks=Zi;Mn.isoWeek=Mn.isoWeeks=Ji;Mn.weeksInYear=qi;Mn.isoWeeksInYear=ji;Mn.date=tn;Mn.day=Mn.days=un;Mn.weekday=cn;Mn.isoWeekday=dn;Mn.dayOfYear=fn;Mn.hour=Mn.hours=wn;Mn.minute=Mn.minutes=xn;Mn.second=Mn.seconds=_n;Mn.millisecond=Mn.milliseconds=Sn;Mn.utcOffset=Be;Mn.utc=je;Mn.local=qe;Mn.parseZone=Ye;Mn.hasAlignedHourOffset=Ue;Mn.isDST=Ve;Mn.isDSTShifted=Ge;Mn.isLocal=Xe;Mn.isUtcOffset=Ke;Mn.isUtc=Qe;Mn.isUTC=Qe;Mn.zoneAbbr=Tn;Mn.zoneName=Dn;Mn.dates=Gt("dates accessor is deprecated. Use date instead.",tn);Mn.months=Gt("months accessor is deprecated. Use month instead",Nt);Mn.years=Gt("years accessor is deprecated. Use year instead",he);Mn.zone=Gt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",We);var Pn=Mn;function En(t){return De(t*1e3)}function In(){return De.apply(null,arguments).parseZone()}var An={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Hn(t,e,i){var n=this._calendar[t];return L(n)?n.call(e,i):n}var Rn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ln(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];if(e||!i){return e}this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)});return this._longDateFormat[t]}var Fn="Invalid date";function $n(){return this._invalidDate}var zn="%d";var Nn=/\d{1,2}/;function On(t){return this._ordinal.replace("%d",t)}function Bn(t){return t}var Wn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function jn(t,e,i,n){var r=this._relativeTime[i];return L(r)?r(t,e,i,n):r.replace(/%d/i,t)}function qn(t,e){var i=this._relativeTime[t>0?"future":"past"];return L(i)?i(e):i.replace(/%s/i,e)}function Yn(t){var e,i;for(i in t){e=t[i];if(L(e)){this[i]=e}else{this["_"+i]=e}}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}var Un=_.prototype;Un._calendar=An;Un.calendar=Hn;Un._longDateFormat=Rn;Un.longDateFormat=Ln;Un._invalidDate=Fn;Un.invalidDate=$n;Un._ordinal=zn;Un.ordinal=On;Un._ordinalParse=Nn;Un.preparse=Bn;Un.postformat=Bn;Un._relativeTime=Wn;Un.relativeTime=jn;Un.pastFuture=qn;Un.set=Yn;Un.months=Rt;Un._months=Ht;Un.monthsShort=Ft;Un._monthsShort=Lt;Un.monthsParse=$t;Un._monthsRegex=jt;Un.monthsRegex=qt;Un._monthsShortRegex=Bt;Un.monthsShortRegex=Wt;Un.week=Gi;Un._week=Xi;Un.firstDayOfYear=Qi;Un.firstDayOfWeek=Ki;Un.weekdays=rn;Un._weekdays=nn;Un.weekdaysMin=ln;Un._weekdaysMin=an;Un.weekdaysShort=on;Un._weekdaysShort=sn;Un.weekdaysParse=hn;Un.isPM=vn;Un._meridiemParse=yn;Un.meridiem=bn;function Vn(t,e,i,n){var r=E();var s=l().set(n,e);return r[i](s,t)}function Gn(t,e,i,n,r){if(typeof t==="number"){e=t;t=undefined}t=t||"";if(e!=null){return Vn(t,e,i,r)}var s;var o=[];for(s=0;s<n;s++){o[s]=Vn(t,s,i,r)}return o}function Xn(t,e){return Gn(t,e,"months",12,"month")}function Kn(t,e){return Gn(t,e,"monthsShort",12,"month")}function Qn(t,e){return Gn(t,e,"weekdays",7,"day")}function Zn(t,e){return Gn(t,e,"weekdaysShort",7,"day")}function Jn(t,e){return Gn(t,e,"weekdaysMin",7,"day")}M("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=w(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+i}});e.lang=Gt("moment.lang is deprecated. Use moment.locale instead.",M);e.langData=Gt("moment.langData is deprecated. Use moment.localeData instead.",E);var tr=Math.abs;function er(){var t=this._data;this._milliseconds=tr(this._milliseconds);this._days=tr(this._days);this._months=tr(this._months);t.milliseconds=tr(t.milliseconds);t.seconds=tr(t.seconds);t.minutes=tr(t.minutes);t.hours=tr(t.hours);t.months=tr(t.months);t.years=tr(t.years);return this}function ir(t,e,i,n){var r=ti(e,i);t._milliseconds+=n*r._milliseconds;t._days+=n*r._days;t._months+=n*r._months;return t._bubble()}function nr(t,e){return ir(this,t,e,1)}function rr(t,e){return ir(this,t,e,-1)}function sr(t){if(t<0){return Math.floor(t)}else{return Math.ceil(t)}}function or(){var t=this._milliseconds;var e=this._days;var i=this._months;var n=this._data;var r,s,o,a,l;if(!(t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0)){t+=sr(lr(i)+e)*864e5;e=0;i=0}n.milliseconds=t%1e3;r=b(t/1e3);n.seconds=r%60;s=b(r/60);n.minutes=s%60;o=b(s/60);n.hours=o%24;e+=b(o/24);l=b(ar(e));i+=l;e-=sr(lr(l));a=b(i/12);i%=12;n.days=e;n.months=i;n.years=a;return this}function ar(t){return t*4800/146097}function lr(t){return t*146097/4800}function hr(t){var e;var i;var n=this._milliseconds;t=H(t);if(t==="month"||t==="year"){e=this._days+n/864e5;i=this._months+ar(e);return t==="month"?i:i/12}else{e=this._days+Math.round(lr(this._months));switch(t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}}function ur(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+w(this._months/12)*31536e6}function cr(t){return function(){return this.as(t)}}var dr=cr("ms");var fr=cr("s");var pr=cr("m");var gr=cr("h");var mr=cr("d");var vr=cr("w");var yr=cr("M");var br=cr("y");function wr(t){t=H(t);return this[t+"s"]()}function xr(t){return function(){return this._data[t]}}var _r=xr("milliseconds");var Cr=xr("seconds");var kr=xr("minutes");var Sr=xr("hours");var Tr=xr("days");var Dr=xr("months");var Mr=xr("years");function Pr(){return b(this.days()/7)}var Er=Math.round;var Ir={s:45,m:45,h:22,d:26,M:11};function Ar(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function Hr(t,e,i){var n=ti(t).abs();var r=Er(n.as("s"));var s=Er(n.as("m"));var o=Er(n.as("h"));var a=Er(n.as("d"));var l=Er(n.as("M"));var h=Er(n.as("y"));var u=r<Ir.s&&["s",r]||s<=1&&["m"]||s<Ir.m&&["mm",s]||o<=1&&["h"]||o<Ir.h&&["hh",o]||a<=1&&["d"]||a<Ir.d&&["dd",a]||l<=1&&["M"]||l<Ir.M&&["MM",l]||h<=1&&["y"]||["yy",h];u[2]=e;u[3]=+t>0;u[4]=i;return Ar.apply(null,u)}function Rr(t,e){if(Ir[t]===undefined){return false}if(e===undefined){return Ir[t]}Ir[t]=e;return true}function Lr(t){var e=this.localeData();var i=Hr(this,!t,e);if(t){i=e.pastFuture(+this,i)}return e.postformat(i)}var Fr=Math.abs;function $r(){var t=Fr(this._milliseconds)/1e3;var e=Fr(this._days);var i=Fr(this._months);var n,r,s;n=b(t/60);r=b(n/60);t%=60;n%=60;s=b(i/12);i%=12;var o=s;var a=i;var l=e;var h=r;var u=n;var c=t;var d=this.asSeconds();if(!d){return"P0D"}return(d<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(h||u||c?"T":"")+(h?h+"H":"")+(u?u+"M":"")+(c?c+"S":"")}var zr=Re.prototype;zr.abs=er;zr.add=nr;zr.subtract=rr;zr.as=hr;zr.asMilliseconds=dr;zr.asSeconds=fr;zr.asMinutes=pr;zr.asHours=gr;zr.asDays=mr;zr.asWeeks=vr;zr.asMonths=yr;zr.asYears=br;zr.valueOf=ur;zr._bubble=or;zr.get=wr;zr.milliseconds=_r;zr.seconds=Cr;zr.minutes=kr;zr.hours=Sr;zr.days=Tr;zr.weeks=Pr;zr.months=Dr;zr.years=Mr;zr.humanize=Lr;zr.toISOString=$r;zr.toString=$r;zr.toJSON=$r;zr.locale=Si;zr.localeData=Di;zr.toIsoString=Gt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$r);zr.lang=Ti;Y("X",0,0,"unix");Y("x",0,0,"valueOf");pt("x",lt);pt("X",ct);bt("X",function(t,e,i){i._d=new Date(parseFloat(t,10)*1e3)});bt("x",function(t,e,i){i._d=new Date(w(t))});e.version="2.11.2";i(De);e.fn=Pn;e.min=Ie;e.max=Ae;e.now=He;e.utc=l;e.unix=En;e.months=Xn;e.isDate=r;e.locale=M;e.invalid=d;e.duration=ti;e.isMoment=y;e.weekdays=Qn;e.parseZone=In;e.localeData=E;e.isDuration=Le;e.monthsShort=Kn;e.weekdaysMin=Jn;e.defineLocale=P;e.weekdaysShort=Zn;e.normalizeUnits=H;e.relativeTimeThreshold=Rr;e.prototype=Pn;var Nr=e;return Nr});(function(t,e){typeof exports==="object"&&typeof module!=="undefined"&&typeof require==="function"?e(require("../moment")):typeof define==="function"&&define.amd?define(["moment"],e):e(t.moment)})(this,function(t){"use strict";function e(t,e){var i=t.split("_");return e%10===1&&e%100!==11?i[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?i[1]:i[2]}function i(t,i,n){var r={mm:i?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};if(n==="m"){return i?"минута":"минуту"}else{return t+" "+e(r[n],+t)}}var n=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];var r=t.defineLocale("ru",{months:{format:"Января_Февраля_Марта_Апреля_Мая_Июня_Июля_Августа_Сентября_Октября_Ноября_Декабря".split("_"),standalone:"Январь_Февраль_Март_Апрель_Май_Июнь_Июль_Август_Сентябрь_Октябрь_Ноябрь_Декабрь".split("_")},monthsShort:{format:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_"),standalone:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_")},weekdays:{standalone:"Воскресенье_Понедельник_Вторник_Среда_Четверг_Пятница_Суббота".split("_"),format:"Воскресенье_Понедельник_Вторник_Среду_Четверг_Пятницу_Субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"Вс_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),weekdaysMin:"Вс_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(t){if(t.week()!==this.week()){switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}}else{if(this.day()===2){return"[Во] dddd [в] LT"}else{return"[В] dddd [в] LT"}}},lastWeek:function(t){if(t.week()!==this.week()){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}}else{if(this.day()===2){return"[Во] dddd [в] LT"}else{return"[В] dddd [в] LT"}}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:i,mm:i,h:"час",hh:i,d:"день",dd:i,M:"месяц",MM:i,y:"год",yy:i},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(t){return/^(дня|вечера)$/.test(t)},meridiem:function(t,e,i){if(t<4){return"ночи"}else if(t<12){return"утра"}else if(t<17){return"дня"}else{return"вечера"}},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-й";case"D":return t+"-го";case"w":case"W":return t+"-я";default:return t}},week:{dow:1,doy:7}});return r});(function(t){"use strict";if(typeof define==="function"&&define.amd){define(["jquery","moment"],t)}else if(typeof exports==="object"){module.exports=t(require("jquery"),require("moment"))}else{if(typeof jQuery==="undefined"){throw"bootstrap-datetimepicker requires jQuery to be loaded first"}if(typeof moment==="undefined"){throw"bootstrap-datetimepicker requires Moment.js to be loaded first"}t(jQuery,moment)}})(function(t,e){"use strict";if(!e){throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first")}var i=function(i,n){var r={},s,o,a=true,l,h=false,u=false,c,d=0,f,p,g,m=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],y=["top","bottom","auto"],b=["left","right","auto"],w=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},_={},C=function(){return e.tz!==undefined&&n.timeZone!==undefined&&n.timeZone!==null&&n.timeZone!==""},k=function(t){var i;if(t===undefined||t===null){i=e()}else if(e.isDate(t)||e.isMoment(t)){i=e(t)}else if(C()){i=e.tz(t,p,n.useStrict,n.timeZone)}else{i=e(t,p,n.useStrict)}if(C()){i.tz(n.timeZone)}return i},S=function(t){if(typeof t!=="string"||t.length>1){throw new TypeError("isEnabled expects a single character string parameter")}switch(t){case"y":return f.indexOf("Y")!==-1;case"M":return f.indexOf("M")!==-1;case"d":return f.toLowerCase().indexOf("d")!==-1;case"h":case"H":return f.toLowerCase().indexOf("h")!==-1;case"m":return f.indexOf("m")!==-1;case"s":return f.indexOf("s")!==-1;default:return false}},T=function(){return S("h")||S("m")||S("s")},D=function(){return S("y")||S("M")||S("d")},M=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(n.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(n.icons.next)))),i=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone()))]},P=function(){var e=t("<tr>"),i=t("<tr>"),r=t("<tr>");if(S("h")){e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(n.icons.up))));i.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours")));r.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(n.icons.down))))}if(S("m")){if(S("h")){e.append(t("<td>").addClass("separator"));i.append(t("<td>").addClass("separator").html(":"));r.append(t("<td>").addClass("separator"))}e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(n.icons.up))));i.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes")));r.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(n.icons.down))))}if(S("s")){if(S("m")){e.append(t("<td>").addClass("separator"));i.append(t("<td>").addClass("separator").html(":"));r.append(t("<td>").addClass("separator"))}e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(n.icons.up))));i.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds")));r.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(n.icons.down))))}if(!c){e.append(t("<td>").addClass("separator"));i.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod})));r.append(t("<td>").addClass("separator"))}return t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,i,r]))},E=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),r=[P()];if(S("h")){r.push(e)}if(S("m")){r.push(i)}if(S("s")){r.push(n)}return r},I=function(){var e=[];if(n.showTodayButton){e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(t("<span>").addClass(n.icons.today))))}if(!n.sideBySide&&D()&&T()){e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(t("<span>").addClass(n.icons.time))))}if(n.showClear){e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(t("<span>").addClass(n.icons.clear))))}if(n.showClose){e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(t("<span>").addClass(n.icons.close))))}return t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},A=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=t("<div>").addClass("datepicker").append(M()),r=t("<div>").addClass("timepicker").append(E()),s=t("<ul>").addClass("list-unstyled"),o=t("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(I());if(n.inline){e.removeClass("dropdown-menu")}if(c){e.addClass("usetwentyfour")}if(S("s")&&!c){e.addClass("wider")}if(n.sideBySide&&D()&&T()){e.addClass("timepicker-sbs");if(n.toolbarPlacement==="top"){e.append(o)}e.append(t("<div>").addClass("row").append(i.addClass("col-md-6")).append(r.addClass("col-md-6")));if(n.toolbarPlacement==="bottom"){e.append(o)}return e}if(n.toolbarPlacement==="top"){s.append(o)}if(D()){s.append(t("<li>").addClass(n.collapse&&T()?"collapse in":"").append(i))}if(n.toolbarPlacement==="default"){s.append(o)}if(T()){s.append(t("<li>").addClass(n.collapse&&D()?"collapse":"").append(r))}if(n.toolbarPlacement==="bottom"){s.append(o)}return e.append(s)},H=function(){var e,r={};if(i.is("input")||n.inline){e=i.data()}else{e=i.find("input").data()}if(e.dateOptions&&e.dateOptions instanceof Object){r=t.extend(true,r,e.dateOptions)}t.each(n,function(t){var i="date"+t.charAt(0).toUpperCase()+t.slice(1);if(e[i]!==undefined){r[t]=e[i]}});return r},R=function(){var e=(h||i).position(),r=(h||i).offset(),s=n.widgetPositioning.vertical,o=n.widgetPositioning.horizontal,a;if(n.widgetParent){a=n.widgetParent.append(u)}else if(i.is("input")){a=i.after(u).parent()}else if(n.inline){a=i.append(u);return}else{a=i;i.children().first().after(u)}if(s==="auto"){if(r.top+u.height()*1.5>=t(window).height()+t(window).scrollTop()&&u.height()+i.outerHeight()<r.top){s="top"}else{s="bottom"}}if(o==="auto"){if(a.width()<r.left+u.outerWidth()/2&&r.left+u.outerWidth()>t(window).width()){o="right"}else{o="left"}}if(s==="top"){u.addClass("top").removeClass("bottom")}else{u.addClass("bottom").removeClass("top")}if(o==="right"){u.addClass("pull-right")}else{u.removeClass("pull-right")}if(a.css("position")==="static"){a=a.parents().filter(function(){return t(this).css("position")!=="static"}).first()}if(a.length===0){throw new Error("datetimepicker component should be placed within a non-static positioned container")}u.css({top:s==="top"?"auto":e.top+i.outerHeight(),bottom:s==="top"?a.outerHeight()-(a===i?0:e.top):"auto",left:o==="left"?a===i?0:e.left:"auto",right:o==="left"?"auto":a.outerWidth()-i.outerWidth()-(a===i?0:e.left)})},L=function(t){if(t.type==="dp.change"&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)){return}i.trigger(t)},F=function(t){if(t==="y"){t="YYYY"}L({type:"dp.update",change:t,viewDate:o.clone()})},$=function(t){if(!u){return}if(t){g=Math.max(d,Math.min(3,g+t))}u.find(".datepicker > div").hide().filter(".datepicker-"+m[g].clsName).show()},z=function(){var e=t("<tr>"),i=o.clone().startOf("w").startOf("d");if(n.calendarWeeks===true){e.append(t("<th>").addClass("cw").text("#"))}while(i.isBefore(o.clone().endOf("w"))){e.append(t("<th>").addClass("dow").text(i.format("dd")));i.add(1,"d")}u.find(".datepicker-days thead").append(e)},N=function(t){return n.disabledDates[t.format("YYYY-MM-DD")]===true},O=function(t){return n.enabledDates[t.format("YYYY-MM-DD")]===true},B=function(t){return n.disabledHours[t.format("H")]===true},W=function(t){return n.enabledHours[t.format("H")]===true},j=function(e,i){if(!e.isValid()){return false}if(n.disabledDates&&i==="d"&&N(e)){return false}if(n.enabledDates&&i==="d"&&!O(e)){return false}if(n.minDate&&e.isBefore(n.minDate,i)){return false}if(n.maxDate&&e.isAfter(n.maxDate,i)){return false}if(n.daysOfWeekDisabled&&i==="d"&&n.daysOfWeekDisabled.indexOf(e.day())!==-1){return false}if(n.disabledHours&&(i==="h"||i==="m"||i==="s")&&B(e)){return false}if(n.enabledHours&&(i==="h"||i==="m"||i==="s")&&!W(e)){return false}if(n.disabledTimeIntervals&&(i==="h"||i==="m"||i==="s")){var r=false;t.each(n.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1])){r=true;return false}});if(r){return false}}return true},q=function(){var e=[],i=o.clone().startOf("y").startOf("d");while(i.isSame(o,"y")){e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM")));i.add(1,"M")}u.find(".datepicker-months td").empty().append(e)},Y=function(){var e=u.find(".datepicker-months"),i=e.find("th"),r=e.find("tbody").find("span");i.eq(0).find("span").attr("title",n.tooltips.prevYear);i.eq(1).attr("title",n.tooltips.selectYear);i.eq(2).find("span").attr("title",n.tooltips.nextYear);e.find(".disabled").removeClass("disabled");if(!j(o.clone().subtract(1,"y"),"y")){i.eq(0).addClass("disabled")}i.eq(1).text(o.year());if(!j(o.clone().add(1,"y"),"y")){i.eq(2).addClass("disabled")}r.removeClass("active");if(s.isSame(o,"y")&&!a){r.eq(s.month()).addClass("active")}r.each(function(e){if(!j(o.clone().month(e),"M")){t(this).addClass("disabled")}})},U=function(){var t=u.find(".datepicker-years"),e=t.find("th"),i=o.clone().subtract(5,"y"),r=o.clone().add(6,"y"),l="";e.eq(0).find("span").attr("title",n.tooltips.prevDecade);e.eq(1).attr("title",n.tooltips.selectDecade);e.eq(2).find("span").attr("title",n.tooltips.nextDecade);t.find(".disabled").removeClass("disabled");if(n.minDate&&n.minDate.isAfter(i,"y")){e.eq(0).addClass("disabled")}e.eq(1).text(i.year()+"-"+r.year());if(n.maxDate&&n.maxDate.isBefore(r,"y")){e.eq(2).addClass("disabled")}while(!i.isAfter(r,"y")){l+='<span data-action="selectYear" class="year'+(i.isSame(s,"y")&&!a?" active":"")+(!j(i,"y")?" disabled":"")+'">'+i.year()+"</span>";i.add(1,"y")}t.find("td").html(l)},V=function(){var t=u.find(".datepicker-decades"),i=t.find("th"),r=e({y:o.year()-o.year()%100-1}),a=r.clone().add(100,"y"),l=r.clone(),h=false,c=false,d,f="";i.eq(0).find("span").attr("title",n.tooltips.prevCentury);i.eq(2).find("span").attr("title",n.tooltips.nextCentury);t.find(".disabled").removeClass("disabled");if(r.isSame(e({y:1900}))||n.minDate&&n.minDate.isAfter(r,"y")){i.eq(0).addClass("disabled")}i.eq(1).text(r.year()+"-"+a.year());if(r.isSame(e({y:2e3}))||n.maxDate&&n.maxDate.isBefore(a,"y")){i.eq(2).addClass("disabled")}while(!r.isAfter(a,"y")){d=r.year()+12;h=n.minDate&&n.minDate.isAfter(r,"y")&&n.minDate.year()<=d;c=n.maxDate&&n.maxDate.isAfter(r,"y")&&n.maxDate.year()<=d;f+='<span data-action="selectDecade" class="decade'+(s.isAfter(r)&&s.year()<=d?" active":"")+(!j(r,"y")&&!h&&!c?" disabled":"")+'" data-selection="'+(r.year()+6)+'">'+(r.year()+1)+" - "+(r.year()+12)+"</span>";r.add(12,"y")}f+="<span></span><span></span><span></span>";t.find("td").html(f);i.eq(1).text(l.year()+1+"-"+r.year())},G=function(){var e=u.find(".datepicker-days"),i=e.find("th"),r,l=[],h,c=[],d;if(!D()){return}i.eq(0).find("span").attr("title",n.tooltips.prevMonth);i.eq(1).attr("title",n.tooltips.selectMonth);i.eq(2).find("span").attr("title",n.tooltips.nextMonth);e.find(".disabled").removeClass("disabled");i.eq(1).text(o.format(n.dayViewHeaderFormat));if(!j(o.clone().subtract(1,"M"),"M")){i.eq(0).addClass("disabled")}if(!j(o.clone().add(1,"M"),"M")){i.eq(2).addClass("disabled")}r=o.clone().startOf("M").startOf("w").startOf("d");for(d=0;d<42;d++){if(r.weekday()===0){h=t("<tr>");if(n.calendarWeeks){h.append('<td class="cw">'+r.week()+"</td>")}l.push(h)}c=["day"];if(r.isBefore(o,"M")){c.push("old")}if(r.isAfter(o,"M")){c.push("new")}if(r.isSame(s,"d")&&!a){c.push("active")}if(!j(r,"d")){c.push("disabled")}if(r.isSame(k(),"d")){c.push("today")}if(r.day()===0||r.day()===6){c.push("weekend")}L({type:"dp.classify",date:r,classNames:c});h.append('<td data-action="selectDay" data-day="'+r.format("L")+'" class="'+c.join(" ")+'">'+r.date()+"</td>");r.add(1,"d")}e.find("tbody").empty().append(l);Y();U();V()},X=function(){var e=u.find(".timepicker-hours table"),i=o.clone().startOf("d"),n=[],r=t("<tr>");if(o.hour()>11&&!c){i.hour(12)}while(i.isSame(o,"d")&&(c||o.hour()<12&&i.hour()<12||o.hour()>11)){if(i.hour()%4===0){r=t("<tr>");n.push(r)}r.append('<td data-action="selectHour" class="hour'+(!j(i,"h")?" disabled":"")+'">'+i.format(c?"HH":"hh")+"</td>");i.add(1,"h")}e.empty().append(n)},K=function(){var e=u.find(".timepicker-minutes table"),i=o.clone().startOf("h"),r=[],s=t("<tr>"),a=n.stepping===1?5:n.stepping;while(o.isSame(i,"h")){if(i.minute()%(a*4)===0){s=t("<tr>");r.push(s)}s.append('<td data-action="selectMinute" class="minute'+(!j(i,"m")?" disabled":"")+'">'+i.format("mm")+"</td>");i.add(a,"m")}e.empty().append(r)},Q=function(){var e=u.find(".timepicker-seconds table"),i=o.clone().startOf("m"),n=[],r=t("<tr>");while(o.isSame(i,"m")){if(i.second()%20===0){r=t("<tr>");n.push(r)}r.append('<td data-action="selectSecond" class="second'+(!j(i,"s")?" disabled":"")+'">'+i.format("ss")+"</td>");i.add(5,"s")}e.empty().append(n)},Z=function(){var t,e,i=u.find(".timepicker span[data-time-component]");if(!c){t=u.find(".timepicker [data-action=togglePeriod]");e=s.clone().add(s.hours()>=12?-12:12,"h");t.text(s.format("A"));if(j(e,"h")){t.removeClass("disabled")}else{t.addClass("disabled")}}i.filter("[data-time-component=hours]").text(s.format(c?"HH":"hh"));i.filter("[data-time-component=minutes]").text(s.format("mm"));i.filter("[data-time-component=seconds]").text(s.format("ss"));X();K();Q()},J=function(){if(!u){return}G();Z()},tt=function(t){var e=a?null:s;if(!t){a=true;l.val("");i.data("date","");L({type:"dp.change",date:false,oldDate:e});J();return}t=t.clone().locale(n.locale);if(C()){t.tz(n.timeZone)}if(n.stepping!==1){t.minutes(Math.round(t.minutes()/n.stepping)*n.stepping).seconds(0);while(n.minDate&&t.isBefore(n.minDate)){t.add(n.stepping,"minutes")}}if(j(t)){s=t;o=s.clone();l.val(s.format(f));i.data("date",s.format(f));a=false;J();L({type:"dp.change",date:s.clone(),oldDate:e})}else{if(!n.keepInvalid){l.val(a?"":s.format(f))}else{L({type:"dp.change",date:t,oldDate:e})}L({type:"dp.error",date:t,oldDate:e})}},et=function(){var e=false;if(!u){return r}u.find(".collapse").each(function(){var i=t(this).data("collapse");if(i&&i.transitioning){e=true;return false}return true});if(e){return r}if(h&&h.hasClass("btn")){h.toggleClass("active")}u.hide();t(window).off("resize",R);u.off("click","[data-action]");u.off("mousedown",false);u.remove();u=false;L({type:"dp.hide",date:s.clone()});l.blur();o=s.clone();return r},it=function(){tt(null)},nt=function(t){if(n.parseInputDate===undefined){if(!e.isMoment(t)||t instanceof Date){t=k(t)}}else{t=n.parseInputDate(t)}return t},rt={next:function(){var t=m[g].navFnc;o.add(m[g].navStep,t);G();F(t)},previous:function(){var t=m[g].navFnc;o.subtract(m[g].navStep,t);G();F(t)},pickerSwitch:function(){$(1)},selectMonth:function(e){var i=t(e.target).closest("tbody").find("span").index(t(e.target));o.month(i);if(g===d){tt(s.clone().year(o.year()).month(o.month()));if(!n.inline){et()}}else{$(-1);G()}F("M")},selectYear:function(e){var i=parseInt(t(e.target).text(),10)||0;o.year(i);if(g===d){tt(s.clone().year(o.year()));if(!n.inline){et()}}else{$(-1);G()}F("YYYY")},selectDecade:function(e){var i=parseInt(t(e.target).data("selection"),10)||0;o.year(i);if(g===d){tt(s.clone().year(o.year()));if(!n.inline){et()}}else{$(-1);G()}F("YYYY")},selectDay:function(e){var i=o.clone();if(t(e.target).is(".old")){i.subtract(1,"M")}if(t(e.target).is(".new")){i.add(1,"M")}tt(i.date(parseInt(t(e.target).text(),10)));if(!T()&&!n.keepOpen&&!n.inline){et()}},incrementHours:function(){var t=s.clone().add(1,"h");if(j(t,"h")){tt(t)}},incrementMinutes:function(){var t=s.clone().add(n.stepping,"m");if(j(t,"m")){tt(t)}},incrementSeconds:function(){var t=s.clone().add(1,"s");if(j(t,"s")){tt(t)}},decrementHours:function(){var t=s.clone().subtract(1,"h");if(j(t,"h")){tt(t)}},decrementMinutes:function(){var t=s.clone().subtract(n.stepping,"m");if(j(t,"m")){tt(t)}},decrementSeconds:function(){var t=s.clone().subtract(1,"s");if(j(t,"s")){tt(t)}},togglePeriod:function(){tt(s.clone().add(s.hours()>=12?-12:12,"h"))},togglePicker:function(e){var i=t(e.target),r=i.closest("ul"),s=r.find(".in"),o=r.find(".collapse:not(.in)"),a;if(s&&s.length){a=s.data("collapse");if(a&&a.transitioning){return}if(s.collapse){s.collapse("hide");o.collapse("show")}else{s.removeClass("in");o.addClass("in")}if(i.is("span")){i.toggleClass(n.icons.time+" "+n.icons.date)}else{i.find("span").toggleClass(n.icons.time+" "+n.icons.date)}}},showPicker:function(){u.find(".timepicker > div:not(.timepicker-picker)").hide();u.find(".timepicker .timepicker-picker").show()},showHours:function(){u.find(".timepicker .timepicker-picker").hide();u.find(".timepicker .timepicker-hours").show()},showMinutes:function(){u.find(".timepicker .timepicker-picker").hide();u.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){u.find(".timepicker .timepicker-picker").hide();u.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var i=parseInt(t(e.target).text(),10);if(!c){if(s.hours()>=12){if(i!==12){i+=12}}else{if(i===12){i=0}}}tt(s.clone().hours(i));rt.showPicker.call(r)},selectMinute:function(e){tt(s.clone().minutes(parseInt(t(e.target).text(),10)));rt.showPicker.call(r)},selectSecond:function(e){tt(s.clone().seconds(parseInt(t(e.target).text(),10)));rt.showPicker.call(r)},clear:it,today:function(){var t=k();if(j(t,"d")){tt(t)}},close:et},st=function(e){if(t(e.currentTarget).is(".disabled")){return false}rt[t(e.currentTarget).data("action")].apply(r,arguments);return false},ot=function(){var e,i={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};if(l.prop("disabled")||!n.ignoreReadonly&&l.prop("readonly")||u){return r}if(l.val()!==undefined&&l.val().trim().length!==0){tt(nt(l.val().trim()))}else if(a&&n.useCurrent&&(n.inline||l.is("input")&&l.val().trim().length===0)){e=k();if(typeof n.useCurrent==="string"){e=i[n.useCurrent](e)}tt(e)}u=A();z();q();u.find(".timepicker-hours").hide();u.find(".timepicker-minutes").hide();u.find(".timepicker-seconds").hide();J();$();t(window).on("resize",R);u.on("click","[data-action]",st);u.on("mousedown",false);if(h&&h.hasClass("btn")){h.toggleClass("active")}R();u.show();if(n.focusOnShow&&!l.is(":focus")){l.focus()}L({type:"dp.show"});return r},at=function(){return u?et():ot()},lt=function(t){var e=null,i,s,o=[],a={},l=t.which,h,c,d="p";_[l]=d;for(i in _){if(_.hasOwnProperty(i)&&_[i]===d){o.push(i);if(parseInt(i,10)!==l){a[i]=true}}}for(i in n.keyBinds){if(n.keyBinds.hasOwnProperty(i)&&typeof n.keyBinds[i]==="function"){h=i.split(" ");if(h.length===o.length&&x[l]===h[h.length-1]){c=true;for(s=h.length-2;s>=0;s--){if(!(x[h[s]]in a)){c=false;break}}if(c){e=n.keyBinds[i];break}}}}if(e){e.call(r,u);t.stopPropagation();t.preventDefault()}},ht=function(t){_[t.which]="r";t.stopPropagation();t.preventDefault()},ut=function(e){var i=t(e.target).val().trim(),n=i?nt(i):null;tt(n);e.stopImmediatePropagation();return false},ct=function(){l.on({change:ut,blur:n.debug?"":et,keydown:lt,keyup:ht,focus:n.allowInputToggle?ot:""});if(i.is("input")){l.on({focus:ot})}else if(h){h.on("click",at);h.on("mousedown",false)}},dt=function(){l.off({change:ut,blur:blur,keydown:lt,keyup:ht,focus:n.allowInputToggle?et:""});if(i.is("input")){l.off({focus:ot})}else if(h){h.off("click",at);h.off("mousedown",false)}},ft=function(e){var i={};t.each(e,function(){var t=nt(this);if(t.isValid()){i[t.format("YYYY-MM-DD")]=true}});return Object.keys(i).length?i:false},pt=function(e){var i={};t.each(e,function(){i[this]=true});return Object.keys(i).length?i:false},gt=function(){var t=n.format||"L LT";f=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){var e=s.localeData().longDateFormat(t)||t;return e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return s.localeData().longDateFormat(t)||t})});p=n.extraFormats?n.extraFormats.slice():[];if(p.indexOf(t)<0&&p.indexOf(f)<0){p.push(f)}c=f.toLowerCase().indexOf("a")<1&&f.replace(/\[.*?\]/g,"").indexOf("h")<1;if(S("y")){d=2}if(S("M")){d=1}if(S("d")){d=0}g=Math.max(d,g);if(!a){tt(s)}};r.destroy=function(){et();dt();i.removeData("DateTimePicker");i.removeData("date")};r.toggle=at;r.show=ot;r.hide=et;r.disable=function(){et();if(h&&h.hasClass("btn")){h.addClass("disabled")}l.prop("disabled",true);return r};r.enable=function(){if(h&&h.hasClass("btn")){h.removeClass("disabled")}l.prop("disabled",false);return r};r.ignoreReadonly=function(t){if(arguments.length===0){return n.ignoreReadonly}if(typeof t!=="boolean"){throw new TypeError("ignoreReadonly () expects a boolean parameter")}n.ignoreReadonly=t;return r};r.options=function(e){if(arguments.length===0){return t.extend(true,{},n)}if(!(e instanceof Object)){throw new TypeError("options() options parameter should be an object")}t.extend(true,n,e);t.each(n,function(t,e){if(r[t]!==undefined){r[t](e)}else{throw new TypeError("option "+t+" is not recognized!")}});return r};r.date=function(t){if(arguments.length===0){if(a){return null}return s.clone()}if(t!==null&&typeof t!=="string"&&!e.isMoment(t)&&!(t instanceof Date)){throw new TypeError("date() parameter must be one of [null, string, moment or Date]")}tt(t===null?null:nt(t));return r};r.format=function(t){if(arguments.length===0){return n.format}if(typeof t!=="string"&&(typeof t!=="boolean"||t!==false)){throw new TypeError("format() expects a string or boolean:false parameter "+t)}n.format=t;if(f){gt()}return r};r.timeZone=function(t){if(arguments.length===0){return n.timeZone}if(typeof t!=="string"){throw new TypeError("newZone() expects a string parameter")}n.timeZone=t;return r};r.dayViewHeaderFormat=function(t){if(arguments.length===0){return n.dayViewHeaderFormat}if(typeof t!=="string"){throw new TypeError("dayViewHeaderFormat() expects a string parameter")}n.dayViewHeaderFormat=t;return r};r.extraFormats=function(t){if(arguments.length===0){return n.extraFormats}if(t!==false&&!(t instanceof Array)){throw new TypeError("extraFormats() expects an array or false parameter")}n.extraFormats=t;if(p){gt()}return r};r.disabledDates=function(e){if(arguments.length===0){return n.disabledDates?t.extend({},n.disabledDates):n.disabledDates}if(!e){n.disabledDates=false;J();return r}if(!(e instanceof Array)){throw new TypeError("disabledDates() expects an array parameter")}n.disabledDates=ft(e);n.enabledDates=false;J();return r};r.enabledDates=function(e){if(arguments.length===0){return n.enabledDates?t.extend({},n.enabledDates):n.enabledDates}if(!e){n.enabledDates=false;J();return r}if(!(e instanceof Array)){throw new TypeError("enabledDates() expects an array parameter")}n.enabledDates=ft(e);n.disabledDates=false;J();return r};r.daysOfWeekDisabled=function(t){if(arguments.length===0){return n.daysOfWeekDisabled.splice(0)}if(typeof t==="boolean"&&!t){n.daysOfWeekDisabled=false;J();return r}if(!(t instanceof Array)){throw new TypeError("daysOfWeekDisabled() expects an array parameter")}n.daysOfWeekDisabled=t.reduce(function(t,e){e=parseInt(e,10);if(e>6||e<0||isNaN(e)){return t}if(t.indexOf(e)===-1){t.push(e)}return t},[]).sort();if(n.useCurrent&&!n.keepInvalid){var e=0;while(!j(s,"d")){s.add(1,"d");if(e===31){throw"Tried 31 times to find a valid date"}e++}tt(s)}J();return r};r.maxDate=function(t){if(arguments.length===0){return n.maxDate?n.maxDate.clone():n.maxDate}if(typeof t==="boolean"&&t===false){n.maxDate=false;J();return r}if(typeof t==="string"){if(t==="now"||t==="moment"){t=k()}}var e=nt(t);if(!e.isValid()){throw new TypeError("maxDate() Could not parse date parameter: "+t)}if(n.minDate&&e.isBefore(n.minDate)){throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(f))}n.maxDate=e;if(n.useCurrent&&!n.keepInvalid&&s.isAfter(t)){tt(n.maxDate)}if(o.isAfter(e)){o=e.clone().subtract(n.stepping,"m")}J();return r};r.minDate=function(t){if(arguments.length===0){return n.minDate?n.minDate.clone():n.minDate}if(typeof t==="boolean"&&t===false){n.minDate=false;J();return r}if(typeof t==="string"){if(t==="now"||t==="moment"){t=k()}}var e=nt(t);if(!e.isValid()){throw new TypeError("minDate() Could not parse date parameter: "+t)}if(n.maxDate&&e.isAfter(n.maxDate)){throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(f))}n.minDate=e;if(n.useCurrent&&!n.keepInvalid&&s.isBefore(t)){tt(n.minDate)}if(o.isBefore(e)){o=e.clone().add(n.stepping,"m")}J();return r};r.defaultDate=function(t){if(arguments.length===0){return n.defaultDate?n.defaultDate.clone():n.defaultDate}if(!t){n.defaultDate=false;return r}if(typeof t==="string"){if(t==="now"||t==="moment"){t=k()}else{t=k(t)}}var e=nt(t);if(!e.isValid()){throw new TypeError("defaultDate() Could not parse date parameter: "+t)}if(!j(e)){throw new TypeError("defaultDate() date passed is invalid according to component setup validations")}n.defaultDate=e;if(n.defaultDate&&n.inline||l.val().trim()===""){tt(n.defaultDate)}return r};r.locale=function(t){if(arguments.length===0){return n.locale}if(!e.localeData(t)){throw new TypeError("locale() locale "+t+" is not loaded from moment locales!")}n.locale=t;s.locale(n.locale);o.locale(n.locale);if(f){gt()}if(u){et();ot()}return r};r.stepping=function(t){if(arguments.length===0){return n.stepping}t=parseInt(t,10);if(isNaN(t)||t<1){t=1}n.stepping=t;return r};r.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(arguments.length===0){return n.useCurrent}if(typeof t!=="boolean"&&typeof t!=="string"){throw new TypeError("useCurrent() expects a boolean or string parameter")}if(typeof t==="string"&&e.indexOf(t.toLowerCase())===-1){throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "))}n.useCurrent=t;return r};r.collapse=function(t){if(arguments.length===0){return n.collapse}if(typeof t!=="boolean"){throw new TypeError("collapse() expects a boolean parameter")}if(n.collapse===t){return r}n.collapse=t;if(u){et();ot()}return r};r.icons=function(e){if(arguments.length===0){return t.extend({},n.icons)}if(!(e instanceof Object)){throw new TypeError("icons() expects parameter to be an Object")}t.extend(n.icons,e);if(u){et();ot()}return r};r.tooltips=function(e){if(arguments.length===0){return t.extend({},n.tooltips)}if(!(e instanceof Object)){throw new TypeError("tooltips() expects parameter to be an Object")}t.extend(n.tooltips,e);if(u){et();ot()}return r};r.useStrict=function(t){if(arguments.length===0){return n.useStrict}if(typeof t!=="boolean"){throw new TypeError("useStrict() expects a boolean parameter")}n.useStrict=t;return r};r.sideBySide=function(t){if(arguments.length===0){return n.sideBySide}if(typeof t!=="boolean"){throw new TypeError("sideBySide() expects a boolean parameter")}n.sideBySide=t;if(u){et();ot()}return r};r.viewMode=function(t){if(arguments.length===0){return n.viewMode}if(typeof t!=="string"){throw new TypeError("viewMode() expects a string parameter")}if(v.indexOf(t)===-1){throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value")}n.viewMode=t;g=Math.max(v.indexOf(t),d);$();return r};r.toolbarPlacement=function(t){if(arguments.length===0){return n.toolbarPlacement}if(typeof t!=="string"){throw new TypeError("toolbarPlacement() expects a string parameter")}if(w.indexOf(t)===-1){throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value")}n.toolbarPlacement=t;if(u){et();ot()}return r};r.widgetPositioning=function(e){if(arguments.length===0){return t.extend({},n.widgetPositioning)}if({}.toString.call(e)!=="[object Object]"){throw new TypeError("widgetPositioning() expects an object variable")}if(e.horizontal){if(typeof e.horizontal!=="string"){throw new TypeError("widgetPositioning() horizontal variable must be a string")}e.horizontal=e.horizontal.toLowerCase();if(b.indexOf(e.horizontal)===-1){throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")")}n.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if(typeof e.vertical!=="string"){throw new TypeError("widgetPositioning() vertical variable must be a string")}e.vertical=e.vertical.toLowerCase();if(y.indexOf(e.vertical)===-1){throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")")}n.widgetPositioning.vertical=e.vertical}J();return r};r.calendarWeeks=function(t){if(arguments.length===0){return n.calendarWeeks}if(typeof t!=="boolean"){throw new TypeError("calendarWeeks() expects parameter to be a boolean value")}n.calendarWeeks=t;J();return r};r.showTodayButton=function(t){if(arguments.length===0){return n.showTodayButton}if(typeof t!=="boolean"){throw new TypeError("showTodayButton() expects a boolean parameter")}n.showTodayButton=t;if(u){et();ot()}return r};r.showClear=function(t){if(arguments.length===0){return n.showClear}if(typeof t!=="boolean"){throw new TypeError("showClear() expects a boolean parameter")}n.showClear=t;if(u){et();ot()}return r};r.widgetParent=function(e){if(arguments.length===0){return n.widgetParent}if(typeof e==="string"){e=t(e)}if(e!==null&&(typeof e!=="string"&&!(e instanceof t))){throw new TypeError("widgetParent() expects a string or a jQuery object parameter")}n.widgetParent=e;if(u){et();ot()}return r};r.keepOpen=function(t){if(arguments.length===0){return n.keepOpen}if(typeof t!=="boolean"){throw new TypeError("keepOpen() expects a boolean parameter")}n.keepOpen=t;return r};r.focusOnShow=function(t){if(arguments.length===0){return n.focusOnShow}if(typeof t!=="boolean"){throw new TypeError("focusOnShow() expects a boolean parameter")}n.focusOnShow=t;return r};r.inline=function(t){if(arguments.length===0){return n.inline}if(typeof t!=="boolean"){throw new TypeError("inline() expects a boolean parameter")}n.inline=t;return r};r.clear=function(){it();return r};r.keyBinds=function(t){if(arguments.length===0){return n.keyBinds}n.keyBinds=t;return r};r.getMoment=function(t){return k(t)};r.debug=function(t){if(typeof t!=="boolean"){throw new TypeError("debug() expects a boolean parameter")}n.debug=t;return r};r.allowInputToggle=function(t){if(arguments.length===0){return n.allowInputToggle}if(typeof t!=="boolean"){throw new TypeError("allowInputToggle() expects a boolean parameter")}n.allowInputToggle=t;return r};r.showClose=function(t){if(arguments.length===0){return n.showClose}if(typeof t!=="boolean"){throw new TypeError("showClose() expects a boolean parameter")}n.showClose=t;return r};r.keepInvalid=function(t){if(arguments.length===0){return n.keepInvalid}if(typeof t!=="boolean"){throw new TypeError("keepInvalid() expects a boolean parameter")}n.keepInvalid=t;return r};r.datepickerInput=function(t){if(arguments.length===0){return n.datepickerInput}if(typeof t!=="string"){throw new TypeError("datepickerInput() expects a string parameter")}n.datepickerInput=t;return r};r.parseInputDate=function(t){if(arguments.length===0){return n.parseInputDate}if(typeof t!=="function"){throw new TypeError("parseInputDate() sholud be as function")}n.parseInputDate=t;return r};r.disabledTimeIntervals=function(e){if(arguments.length===0){return n.disabledTimeIntervals?t.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals}if(!e){n.disabledTimeIntervals=false;J();return r}if(!(e instanceof Array)){throw new TypeError("disabledTimeIntervals() expects an array parameter")}n.disabledTimeIntervals=e;J();return r};r.disabledHours=function(e){if(arguments.length===0){return n.disabledHours?t.extend({},n.disabledHours):n.disabledHours}if(!e){n.disabledHours=false;J();return r}if(!(e instanceof Array)){throw new TypeError("disabledHours() expects an array parameter")}n.disabledHours=pt(e);n.enabledHours=false;if(n.useCurrent&&!n.keepInvalid){var i=0;while(!j(s,"h")){s.add(1,"h");if(i===24){throw"Tried 24 times to find a valid date"}i++}tt(s)}J();return r};r.enabledHours=function(e){if(arguments.length===0){return n.enabledHours?t.extend({},n.enabledHours):n.enabledHours}if(!e){n.enabledHours=false;J();return r}if(!(e instanceof Array)){throw new TypeError("enabledHours() expects an array parameter")}n.enabledHours=pt(e);n.disabledHours=false;if(n.useCurrent&&!n.keepInvalid){var i=0;while(!j(s,"h")){s.add(1,"h");if(i===24){throw"Tried 24 times to find a valid date"}i++}tt(s)}J();return r};r.viewDate=function(t){if(arguments.length===0){return o.clone()}if(!t){o=s.clone();return r}if(typeof t!=="string"&&!e.isMoment(t)&&!(t instanceof Date)){throw new TypeError("viewDate() parameter must be one of [string, moment or Date]")}o=nt(t);F();return r};if(i.is("input")){l=i}else{l=i.find(n.datepickerInput);if(l.length===0){l=i.find("input")}else if(!l.is("input")){throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element')}}if(i.hasClass("input-group")){if(i.find(".datepickerbutton").length===0){h=i.find(".input-group-addon")}else{h=i.find(".datepickerbutton")}}if(!n.inline&&!l.is("input")){throw new Error("Could not initialize DateTimePicker without an input element")}s=k();o=s.clone();t.extend(true,n,H());r.options(n);gt();ct();if(l.prop("disabled")){r.disable()}if(l.is("input")&&l.val().trim().length!==0){tt(nt(l.val().trim()))}else if(n.defaultDate&&l.attr("placeholder")===undefined){tt(n.defaultDate)}if(n.inline){ot()}return r};t.fn.datetimepicker=function(e){e=e||{};var n=Array.prototype.slice.call(arguments,1),r=true,s=["destroy","hide","show","toggle"],o;if(typeof e==="object"){return this.each(function(){var n=t(this),r;if(!n.data("DateTimePicker")){r=t.extend(true,{},t.fn.datetimepicker.defaults,e);n.data("DateTimePicker",i(n,r))}})}else if(typeof e==="string"){this.each(function(){var i=t(this),s=i.data("DateTimePicker");if(!s){throw new Error('bootstrap-datetimepicker("'+e+'") method was called on an element that is not using DateTimePicker')}o=s[e].apply(s,n);r=o===s});if(r||t.inArray(e,s)>-1){return this}return o}throw new TypeError("Invalid arguments for DateTimePicker: "+e)};t.fn.datetimepicker.defaults={timeZone:"",format:false,dayViewHeaderFormat:"MMMM YYYY",extraFormats:false,stepping:1,minDate:false,maxDate:false,useCurrent:true,collapse:true,locale:e.locale(),defaultDate:false,disabledDates:false,enabledDates:false,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:false,sideBySide:false,daysOfWeekDisabled:false,calendarWeeks:false,viewMode:"days",toolbarPlacement:"default",showTodayButton:false,showClear:false,showClose:false,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:false,keepOpen:false,focusOnShow:true,inline:false,keepInvalid:false,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().subtract(7,"d"))}else{this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(!t){this.show();return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().add(7,"d"))}else{this.date(e.clone().subtract(this.stepping(),"m"))}},"control up":function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().subtract(1,"y"))}else{this.date(e.clone().add(1,"h"))}},"control down":function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().add(1,"y"))}else{this.date(e.clone().subtract(1,"h"))}},left:function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().subtract(1,"d"))}},right:function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(!t){return}var e=this.date()||this.getMoment();if(t.find(".datepicker").is(":visible")){this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){if(!t){return}if(t.find(".timepicker").is(":visible")){t.find('.btn[data-action="togglePeriod"]').click()}},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:false,allowInputToggle:false,disabledTimeIntervals:false,disabledHours:false,enabledHours:false,viewDate:false};return t.fn.datetimepicker});if("undefined"==typeof jQuery)throw new Error("Jasny Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}void 0===t.support.transition&&(t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e()}))}(window.jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),t(window).on("resize",t.proxy(this.recalc,this))),this.options.autohide&&t(document).on("click",t.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};e.DEFAULTS={toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0},e.prototype.offset=function(){switch(this.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},e.prototype.calcPlacement=function(){function e(t,e){if("auto"===r.css(e))return t;if("auto"===r.css(t))return e;var i=parseInt(r.css(t),10),n=parseInt(r.css(e),10);return i>n?e:t}if("auto"!==this.options.placement)return void(this.placement=this.options.placement);this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var i=t(window).width()/this.$element.width(),n=t(window).height()/this.$element.height(),r=this.$element;this.placement=i>=n?e("left","right"):e("top","bottom"),"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")},e.prototype.opposite=function(t){switch(t){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},e.prototype.getCanvasElements=function(){var e=this.options.canvas?t(this.options.canvas):this.$element,i=e.find("*").filter(function(){return"fixed"===t(this).css("position")}).not(this.options.exclude);return e.add(i)},e.prototype.slide=function(e,i,n){if(!t.support.transition){var r={};return r[this.placement]="+="+i,e.animate(r,350,n)}var s=this.placement,o=this.opposite(s);e.each(function(){"auto"!==t(this).css(s)&&t(this).css(s,(parseInt(t(this).css(s),10)||0)+i),"auto"!==t(this).css(o)&&t(this).css(o,(parseInt(t(this).css(o),10)||0)-i)}),this.$element.one(t.support.transition.end,n).emulateTransitionEnd(350)},e.prototype.disableScrolling=function(){var e=t("body").width(),i="padding-"+this.opposite(this.placement);if(void 0===t("body").data("offcanvas-style")&&t("body").data("offcanvas-style",t("body").attr("style")),t("body").css("overflow","hidden"),t("body").width()>e){var n=parseInt(t("body").css(i),10)+t("body").width()-e;setTimeout(function(){t("body").css(i,n)},1)}},e.prototype.show=function(){if(!this.state){var e=t.Event("show.bs.offcanvas");if(this.$element.trigger(e),!e.isDefaultPrevented()){this.state="slide-in",this.calcPlacement();var i=this.getCanvasElements(),n=this.placement,r=this.opposite(n),s=this.offset();-1!==i.index(this.$element)&&(t(this.$element).data("offcanvas-style",t(this.$element).attr("style")||""),this.$element.css(n,-1*s),this.$element.css(n)),i.addClass("canvas-sliding").each(function(){void 0===t(this).data("offcanvas-style")&&t(this).data("offcanvas-style",t(this).attr("style")||""),"static"===t(this).css("position")&&t(this).css("position","relative"),"auto"!==t(this).css(n)&&"0px"!==t(this).css(n)||"auto"!==t(this).css(r)&&"0px"!==t(this).css(r)||t(this).css(n,0)}),this.options.disableScrolling&&this.disableScrolling();var o=function(){"slide-in"==this.state&&(this.state="slid",i.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas"))};setTimeout(t.proxy(function(){this.$element.addClass("in"),this.slide(i,s,t.proxy(o,this))},this),1)}}},e.prototype.hide=function(){if("slid"===this.state){var e=t.Event("hide.bs.offcanvas");if(this.$element.trigger(e),!e.isDefaultPrevented()){this.state="slide-out";var i=t(".canvas-slid"),n=(this.placement,-1*this.offset()),r=function(){"slide-out"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass("in"),i.removeClass("canvas-sliding"),i.add(this.$element).add("body").each(function(){t(this).attr("style",t(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas"))};i.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout(t.proxy(function(){this.slide(i,n,t.proxy(r,this))},this),1)}}},e.prototype.toggle=function(){"slide-in"!==this.state&&"slide-out"!==this.state&&this["slid"===this.state?"hide":"show"]()},e.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo(t("body"))},e.prototype.recalc=function(){if("none"!==this.$calcClone.css("display")&&("slid"===this.state||"slide-in"===this.state)){this.state=null,this.placement=null;var e=this.getCanvasElements();this.$element.removeClass("in"),e.removeClass("canvas-slid"),e.add(this.$element).add("body").each(function(){t(this).attr("style",t(this).data("offcanvas-style")).removeData("offcanvas-style")})}},e.prototype.autohide=function(e){0===t(e.target).closest(this.$element).length&&this.hide()};var i=t.fn.offcanvas;t.fn.offcanvas=function(i){return this.each(function(){var n=t(this),r=n.data("bs.offcanvas"),s=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);r||n.data("bs.offcanvas",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.offcanvas.Constructor=e,t.fn.offcanvas.noConflict=function(){return t.fn.offcanvas=i,this},t(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(e){var i,n=t(this),r=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(r),o=s.data("bs.offcanvas"),a=o?"toggle":n.data();e.stopPropagation(),o?o.toggle():s.offcanvas(a)})}(window.jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.$element.on("click.bs.rowlink","td:not(.rowlink-skip)",t.proxy(this.click,this))};e.DEFAULTS={target:"a"},e.prototype.click=function(e){var i=t(e.currentTarget).closest("tr").find(this.options.target)[0];if(t(e.target)[0]!==i)if(e.preventDefault(),i.click)i.click();else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n)}};var i=t.fn.rowlink;t.fn.rowlink=function(i){return this.each(function(){var n=t(this),r=n.data("rowlink");r||n.data("rowlink",r=new e(this,i))})},t.fn.rowlink.Constructor=e,t.fn.rowlink.noConflict=function(){return t.fn.rowlink=i,this},t(document).on("click.bs.rowlink.data-api",'[data-link="row"]',function(e){if(0===t(e.target).closest(".rowlink-skip").length){var i=t(this);i.data("rowlink")||(i.rowlink(i.data()),t(e.target).trigger("click.bs.rowlink"))}})}(window.jQuery),+function(t){"use strict";var e=void 0!==window.orientation,i=navigator.userAgent.toLowerCase().indexOf("android")>-1,n="Microsoft Internet Explorer"==window.navigator.appName,r=function(e,n){i||(this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.mask=String(this.options.mask),this.init(),this.listen(),this.checkVal())};r.DEFAULTS={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}},r.prototype.init=function(){var e=this.options.definitions,i=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,t.each(this.mask.split(""),t.proxy(function(t,n){"?"==n?(i--,this.partialPosition=t):e[n]?(this.tests.push(new RegExp(e[n])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=t.map(this.mask.split(""),t.proxy(function(t){return"?"!=t?e[t]?this.options.placeholder:t:void 0},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",t.proxy(function(){return t.map(this.buffer,function(t,e){return this.tests[e]&&t!=this.options.placeholder?t:null}).join("")},this))},r.prototype.listen=function(){if(!this.$element.attr("readonly")){var e=(n?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",t.proxy(this.unmask,this)).on("focus.bs.inputmask",t.proxy(this.focusEvent,this)).on("blur.bs.inputmask",t.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",t.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",t.proxy(this.keypressEvent,this)).on(e,t.proxy(this.pasteEvent,this))}},r.prototype.caret=function(t,e){if(0!==this.$element.length){if("number"==typeof t)return e="number"==typeof e?e:t,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(t,e);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select()}});if(this.$element[0].setSelectionRange)t=this.$element[0].selectionStart,e=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var i=document.selection.createRange();t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length}return{begin:t,end:e}}},r.prototype.seekNext=function(t){for(var e=this.mask.length;++t<=e&&!this.tests[t];);return t},r.prototype.seekPrev=function(t){for(;--t>=0&&!this.tests[t];);return t},r.prototype.shiftL=function(t,e){var i=this.mask.length;if(!(0>t)){for(var n=t,r=this.seekNext(e);i>n;n++)if(this.tests[n]){if(!(i>r&&this.tests[n].test(this.buffer[r])))break;this.buffer[n]=this.buffer[r],this.buffer[r]=this.options.placeholder,r=this.seekNext(r)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}},r.prototype.shiftR=function(t){for(var e=this.mask.length,i=t,n=this.options.placeholder;e>i;i++)if(this.tests[i]){var r=this.seekNext(i),s=this.buffer[i];if(this.buffer[i]=n,!(e>r&&this.tests[r].test(s)))break;n=s}},r.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")},r.prototype.focusEvent=function(){this.focusText=this.$element.val();var t=this.mask.length,e=this.checkVal();this.writeBuffer();var i=this,n=function(){e==t?i.caret(0,e):i.caret(e)};n(),setTimeout(n,50)},r.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger("change")},r.prototype.keydownEvent=function(t){var i=t.which;if(8==i||46==i||e&&127==i){var n=this.caret(),r=n.begin,s=n.end;return s-r===0&&(r=46!=i?this.seekPrev(r):s=this.seekNext(r-1),s=46==i?this.seekNext(s):s),this.clearBuffer(r,s),this.shiftL(r,s-1),!1}return 27==i?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},r.prototype.keypressEvent=function(t){var e=this.mask.length,i=t.which,n=this.caret();if(t.ctrlKey||t.altKey||t.metaKey||32>i)return!0;if(i){n.end-n.begin!==0&&(this.clearBuffer(n.begin,n.end),this.shiftL(n.begin,n.end-1));var r=this.seekNext(n.begin-1);if(e>r){var s=String.fromCharCode(i);if(this.tests[r].test(s)){this.shiftR(r),this.buffer[r]=s,this.writeBuffer();var o=this.seekNext(r);this.caret(o)}}return!1}},r.prototype.pasteEvent=function(){var t=this;setTimeout(function(){t.caret(t.checkVal(!0))},0)},r.prototype.clearBuffer=function(t,e){for(var i=this.mask.length,n=t;e>n&&i>n;n++)this.tests[n]&&(this.buffer[n]=this.options.placeholder)},r.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()},r.prototype.checkVal=function(t){for(var e=this.mask.length,i=this.$element.val(),n=-1,r=0,s=0;e>r;r++)if(this.tests[r]){for(this.buffer[r]=this.options.placeholder;s++<i.length;){var o=i.charAt(s-1);if(this.tests[r].test(o)){this.buffer[r]=o,n=r;break}}if(s>i.length)break}else this.buffer[r]==i.charAt(s)&&r!=this.partialPosition&&(s++,n=r);return!t&&n+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,e)):(t||n+1>=this.partialPosition)&&(this.writeBuffer(),t||this.$element.val(this.$element.val().substring(0,n+1))),this.partialPosition?r:this.firstNonMaskPos};var s=t.fn.inputmask;t.fn.inputmask=function(e){return this.each(function(){var i=t(this),n=i.data("inputmask");n||i.data("inputmask",n=new r(this,e))})},t.fn.inputmask.Constructor=r,t.fn.inputmask.noConflict=function(){return t.fn.inputmask=s,this},t(document).on("focus.bs.inputmask.data-api","[data-mask]",function(){var e=t(this);e.data("inputmask")||e.inputmask(e.data())})}(window.jQuery),+function(t){"use strict";var e="Microsoft Internet Explorer"==window.navigator.appName,i=function(e,i){if(this.$element=t(e),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||i.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=t('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var n=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==n&&"none"!==n&&this.$preview.css("line-height",n),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};i.prototype.listen=function(){this.$input.on("change.bs.fileinput",t.proxy(this.change,this)),t(this.$input[0].form).on("reset.bs.fileinput",t.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",t.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",t.proxy(this.clear,this))},i.prototype.change=function(e){var i=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(e.stopPropagation(),0===i.length)return void this.clear();this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var n=i[0];if(this.$preview.length>0&&("undefined"!=typeof n.type?n.type.match(/^image\/(gif|png|jpeg)$/):n.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var r=new FileReader,s=this.$preview,o=this.$element;r.onload=function(e){var r=t("<img>");r[0].src=e.target.result,i[0].result=e.target.result,o.find(".fileinput-filename").text(n.name),"none"!=s.css("max-height")&&r.css("max-height",parseInt(s.css("max-height"),10)-parseInt(s.css("padding-top"),10)-parseInt(s.css("padding-bottom"),10)-parseInt(s.css("border-top"),10)-parseInt(s.css("border-bottom"),10)),s.html(r),o.addClass("fileinput-exists").removeClass("fileinput-new"),o.trigger("change.bs.fileinput",i)},r.readAsDataURL(n)}else this.$element.find(".fileinput-filename").text(n.name),this.$preview.text(n.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")},i.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),e){var i=this.$input.clone(!0);this.$input.after(i),this.$input.remove(),this.$input=i}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==t&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},i.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},i.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()};var n=t.fn.fileinput;t.fn.fileinput=function(e){return this.each(function(){var n=t(this),r=n.data("fileinput");r||n.data("fileinput",r=new i(this,e)),"string"==typeof e&&r[e]()})},t.fn.fileinput.Constructor=i,t.fn.fileinput.noConflict=function(){return t.fn.fileinput=n,this},t(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(e){var i=t(this);if(!i.data("fileinput")){i.fileinput(i.data());var n=t(e.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');n.length>0&&(e.preventDefault(),n.trigger("click.bs.fileinput"))}})}(window.jQuery);(function(){var t,e,i,n,r,s,o,a,l=[].slice,h={}.hasOwnProperty,u=function(t,e){for(var i in e){if(h.call(e,i))t[i]=e[i]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t};o=function(){};e=function(){function t(){}t.prototype.addEventListener=t.prototype.on;t.prototype.on=function(t,e){this._callbacks=this._callbacks||{};if(!this._callbacks[t]){this._callbacks[t]=[]}this._callbacks[t].push(e);return this};t.prototype.emit=function(){var t,e,i,n,r,s;n=arguments[0],t=2<=arguments.length?l.call(arguments,1):[];this._callbacks=this._callbacks||{};i=this._callbacks[n];if(i){for(r=0,s=i.length;r<s;r++){e=i[r];e.apply(this,t)}}return this};t.prototype.removeListener=t.prototype.off;t.prototype.removeAllListeners=t.prototype.off;t.prototype.removeEventListener=t.prototype.off;t.prototype.off=function(t,e){var i,n,r,s,o;if(!this._callbacks||arguments.length===0){this._callbacks={};return this}n=this._callbacks[t];if(!n){return this}if(arguments.length===1){delete this._callbacks[t];return this}for(r=s=0,o=n.length;s<o;r=++s){i=n[r];if(i===e){n.splice(r,1);break}}return this};return t}();t=function(t){var i,n;u(r,t);r.prototype.Emitter=e;r.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];r.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return o},forceFallback:false,fallback:function(){var t,e,i,n,s,o;this.element.className=""+this.element.className+" dz-browser-not-supported";o=this.element.getElementsByTagName("div");for(n=0,s=o.length;n<s;n++){t=o[n];if(/(^| )dz-message($| )/.test(t.className)){e=t;t.className="dz-message";continue}}if(!e){e=r.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(e)}i=e.getElementsByTagName("span")[0];if(i){if(i.textContent!=null){i.textContent=this.options.dictFallbackMessage}else if(i.innerText!=null){i.innerText=this.options.dictFallbackMessage}}return this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height};i=t.width/t.height;e.optWidth=this.options.thumbnailWidth;e.optHeight=this.options.thumbnailHeight;if(e.optWidth==null&&e.optHeight==null){e.optWidth=e.srcWidth;e.optHeight=e.srcHeight}else if(e.optWidth==null){e.optWidth=i*e.optHeight}else if(e.optHeight==null){e.optHeight=1/i*e.optWidth}n=e.optWidth/e.optHeight;if(t.height<e.optHeight||t.width<e.optWidth){e.trgHeight=e.srcHeight;e.trgWidth=e.srcWidth}else{if(i>n){e.srcHeight=t.height;e.srcWidth=e.srcHeight*n}else{e.srcWidth=t.width;e.srcHeight=e.srcWidth/n}}e.srcX=(t.width-e.srcWidth)/2;e.srcY=(t.height-e.srcHeight)/2;return e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:o,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,i,n,s,o,a,l,h,u,c,d,f,p;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){t.previewElement=r.createElement(this.options.previewTemplate.trim());t.previewTemplate=t.previewElement;this.previewsContainer.appendChild(t.previewElement);c=t.previewElement.querySelectorAll("[data-dz-name]");for(s=0,l=c.length;s<l;s++){e=c[s];e.textContent=this._renameFilename(t.name)}d=t.previewElement.querySelectorAll("[data-dz-size]");for(o=0,h=d.length;o<h;o++){e=d[o];e.innerHTML=this.filesize(t.size)}if(this.options.addRemoveLinks){t._removeLink=r.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");t.previewElement.appendChild(t._removeLink)}i=function(e){return function(i){i.preventDefault();i.stopPropagation();if(t.status===r.UPLOADING){return r.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)})}else{if(e.options.dictRemoveFileConfirmation){return r.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)})}else{return e.removeFile(t)}}}}(this);f=t.previewElement.querySelectorAll("[data-dz-remove]");p=[];for(a=0,u=f.length;a<u;a++){n=f[a];p.push(n.addEventListener("click",i))}return p}},removedfile:function(t){var e;if(t.previewElement){if((e=t.previewElement)!=null){e.parentNode.removeChild(t.previewElement)}}return this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,r,s;if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");s=t.previewElement.querySelectorAll("[data-dz-thumbnail]");for(n=0,r=s.length;n<r;n++){i=s[n];i.alt=t.name;i.src=e}return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(t,e){var i,n,r,s,o;if(t.previewElement){t.previewElement.classList.add("dz-error");if(typeof e!=="String"&&e.error){e=e.error}s=t.previewElement.querySelectorAll("[data-dz-errormessage]");o=[];for(n=0,r=s.length;n<r;n++){i=s[n];o.push(i.textContent=e)}return o}},errormultiple:o,processing:function(t){if(t.previewElement){t.previewElement.classList.add("dz-processing");if(t._removeLink){return t._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:o,uploadprogress:function(t,e,i){var n,r,s,o,a;if(t.previewElement){o=t.previewElement.querySelectorAll("[data-dz-uploadprogress]");a=[];for(r=0,s=o.length;r<s;r++){n=o[r];if(n.nodeName==="PROGRESS"){a.push(n.value=e)}else{a.push(n.style.width=""+e+"%")}}return a}},totaluploadprogress:o,sending:o,sendingmultiple:o,success:function(t){if(t.previewElement){return t.previewElement.classList.add("dz-success")}},successmultiple:o,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:o,complete:function(t){if(t._removeLink){t._removeLink.textContent=this.options.dictRemoveFile}if(t.previewElement){return t.previewElement.classList.add("dz-complete")}},completemultiple:o,maxfilesexceeded:o,maxfilesreached:o,queuecomplete:o,addedfiles:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'};i=function(){var t,e,i,n,r,s,o;n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[];for(s=0,o=i.length;s<o;s++){e=i[s];for(t in e){r=e[t];n[t]=r}}return n};function r(t,e){var n,s,o;this.element=t;this.version=r.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&this.element.nodeType!=null)){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}r.instances.push(this);this.element.dropzone=this;n=(o=r.optionsForElement(this.element))!=null?o:{};this.options=i({},this.defaultOptions,n,e!=null?e:{});if(this.options.forceFallback||!r.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((s=this.getExistingFallback())&&s.parentNode){s.parentNode.removeChild(s)}if(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=r.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=r.getElements(this.options.clickable,"clickable")}}this.init()}r.prototype.getAcceptedFiles=function(){var t,e,i,n,r;n=this.files;r=[];for(e=0,i=n.length;e<i;e++){t=n[e];if(t.accepted){r.push(t)}}return r};r.prototype.getRejectedFiles=function(){var t,e,i,n,r;n=this.files;r=[];for(e=0,i=n.length;e<i;e++){t=n[e];if(!t.accepted){r.push(t)}}return r};r.prototype.getFilesWithStatus=function(t){var e,i,n,r,s;r=this.files;s=[];for(i=0,n=r.length;i<n;i++){e=r[i];if(e.status===t){s.push(e)}}return s};r.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(r.QUEUED)};r.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(r.UPLOADING)};r.prototype.getAddedFiles=function(){return this.getFilesWithStatus(r.ADDED)};r.prototype.getActiveFiles=function(){var t,e,i,n,s;n=this.files;s=[];for(e=0,i=n.length;e<i;e++){t=n[e];if(t.status===r.UPLOADING||t.status===r.QUEUED){s.push(t)}}return s};r.prototype.init=function(){var t,e,i,n,s,o,a;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(r.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){i=function(t){return function(){if(t.hiddenFileInput){t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput)}t.hiddenFileInput=document.createElement("input");t.hiddenFileInput.setAttribute("type","file");if(t.options.maxFiles==null||t.options.maxFiles>1){t.hiddenFileInput.setAttribute("multiple","multiple")}t.hiddenFileInput.className="dz-hidden-input";if(t.options.acceptedFiles!=null){t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles)}if(t.options.capture!=null){t.hiddenFileInput.setAttribute("capture",t.options.capture)}t.hiddenFileInput.style.visibility="hidden";t.hiddenFileInput.style.position="absolute";t.hiddenFileInput.style.top="0";t.hiddenFileInput.style.left="0";t.hiddenFileInput.style.height="0";t.hiddenFileInput.style.width="0";document.querySelector(t.options.hiddenInputContainer).appendChild(t.hiddenFileInput);return t.hiddenFileInput.addEventListener("change",function(){var e,n,r,s;n=t.hiddenFileInput.files;if(n.length){for(r=0,s=n.length;r<s;r++){e=n[r];t.addFile(e)}}t.emit("addedfiles",n);return i()})}}(this);i()}this.URL=(o=window.URL)!=null?o:window.webkitURL;a=this.events;for(n=0,s=a.length;n<s;n++){t=a[n];this.on(t,this.options[t])}this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this));this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this));this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this));this.on("complete",function(t){return function(e){if(t.getAddedFiles().length===0&&t.getUploadingFiles().length===0&&t.getQueuedFiles().length===0){return setTimeout(function(){return t.emit("queuecomplete")},0)}}}(this));e=function(t){t.stopPropagation();if(t.preventDefault){return t.preventDefault()}else{return t.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(i){e(i);return t.emit("dragenter",i)}}(this),dragover:function(t){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(t){}i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy";e(i);return t.emit("dragover",i)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(i){e(i);return t.drop(i)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}];this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(i){if(e!==t.element||(i.target===t.element||r.elementInside(i.target,t.element.querySelector(".dz-message")))){t.hiddenFileInput.click()}return true}}})}}(this));this.enable();return this.options.init.call(this)};r.prototype.destroy=function(){var t;this.disable();this.removeAllFiles(true);if((t=this.hiddenFileInput)!=null?t.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return r.instances.splice(r.instances.indexOf(this),1)};r.prototype.updateTotalUploadProgress=function(){var t,e,i,n,r,s,o,a;n=0;i=0;t=this.getActiveFiles();if(t.length){a=this.getActiveFiles();for(s=0,o=a.length;s<o;s++){e=a[s];n+=e.upload.bytesSent;i+=e.upload.total}r=100*n/i}else{r=100}return this.emit("totaluploadprogress",r,i,n)};r.prototype._getParamName=function(t){if(typeof this.options.paramName==="function"){return this.options.paramName(t)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")}};r.prototype._renameFilename=function(t){if(typeof this.options.renameFilename!=="function"){return t}return this.options.renameFilename(t)};r.prototype.getFallbackForm=function(){var t,e,i,n;if(t=this.getExistingFallback()){return t}i='<div class="dz-fallback">';if(this.options.dictFallbackText){i+="<p>"+this.options.dictFallbackText+"</p>"}i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';e=r.createElement(i);if(this.element.tagName!=="FORM"){n=r.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');n.appendChild(e)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return n!=null?n:e};r.prototype.getExistingFallback=function(){var t,e,i,n,r,s;e=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++){e=t[i];if(/(^| )fallback($| )/.test(e.className)){return e}}};s=["div","form"];for(n=0,r=s.length;n<r;n++){i=s[n];if(t=e(this.element.getElementsByTagName(i))){return t}}};r.prototype.setupEventListeners=function(){var t,e,i,n,r,s,o;s=this.listeners;o=[];for(n=0,r=s.length;n<r;n++){t=s[n];o.push(function(){var n,r;n=t.events;r=[];for(e in n){i=n[e];r.push(t.element.addEventListener(e,i,false))}return r}())}return o};r.prototype.removeEventListeners=function(){var t,e,i,n,r,s,o;s=this.listeners;o=[];for(n=0,r=s.length;n<r;n++){t=s[n];o.push(function(){var n,r;n=t.events;r=[];for(e in n){i=n[e];r.push(t.element.removeEventListener(e,i,false))}return r}())}return o};r.prototype.disable=function(){var t,e,i,n,r;this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")});this.removeEventListeners();n=this.files;r=[];for(e=0,i=n.length;e<i;e++){t=n[e];r.push(this.cancelUpload(t))}return r};r.prototype.enable=function(){this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")});return this.setupEventListeners()};r.prototype.filesize=function(t){var e,i,n,r,s,o,a,l;n=0;r="b";if(t>0){o=["TB","GB","MB","KB","b"];for(i=a=0,l=o.length;a<l;i=++a){s=o[i];e=Math.pow(this.options.filesizeBase,4-i)/10;if(t>=e){n=t/Math.pow(this.options.filesizeBase,4-i);r=s;break}}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+r};r.prototype._updateMaxFilesReachedClass=function(){if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};r.prototype.drop=function(t){var e,i;if(!t.dataTransfer){return}this.emit("drop",t);e=t.dataTransfer.files;this.emit("addedfiles",e);if(e.length){i=t.dataTransfer.items;if(i&&i.length&&i[0].webkitGetAsEntry!=null){this._addFilesFromItems(i)}else{this.handleFiles(e)}}};r.prototype.paste=function(t){var e,i;if((t!=null?(i=t.clipboardData)!=null?i.items:void 0:void 0)==null){return}this.emit("paste",t);e=t.clipboardData.items;if(e.length){return this._addFilesFromItems(e)}};r.prototype.handleFiles=function(t){var e,i,n,r;r=[];for(i=0,n=t.length;i<n;i++){e=t[i];r.push(this.addFile(e))}return r};r.prototype._addFilesFromItems=function(t){var e,i,n,r,s;s=[];for(n=0,r=t.length;n<r;n++){i=t[n];if(i.webkitGetAsEntry!=null&&(e=i.webkitGetAsEntry())){if(e.isFile){s.push(this.addFile(i.getAsFile()))}else if(e.isDirectory){s.push(this._addFilesFromDirectory(e,e.name))}else{s.push(void 0)}}else if(i.getAsFile!=null){if(i.kind==null||i.kind==="file"){s.push(this.addFile(i.getAsFile()))}else{s.push(void 0)}}else{s.push(void 0)}}return s};r.prototype._addFilesFromDirectory=function(t,e){var i,n,r;i=t.createReader();n=function(t){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(t):void 0:void 0};r=function(t){return function(){return i.readEntries(function(i){var n,s,o;if(i.length>0){for(s=0,o=i.length;s<o;s++){n=i[s];if(n.isFile){n.file(function(i){if(t.options.ignoreHiddenFiles&&i.name.substring(0,1)==="."){return}i.fullPath=""+e+"/"+i.name;return t.addFile(i)})}else if(n.isDirectory){t._addFilesFromDirectory(n,""+e+"/"+n.name)}}r()}return null},n)}}(this);return r()};r.prototype.accept=function(t,e){if(t.size>this.options.maxFilesize*1024*1024){return e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else if(!r.isValidFile(t,this.options.acceptedFiles)){return e(this.options.dictInvalidFileType)}else if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",t)}else{return this.options.accept.call(this,t,e)}};r.prototype.addFile=function(t){t.upload={progress:0,total:t.size,bytesSent:0};this.files.push(t);t.status=r.ADDED;this.emit("addedfile",t);this._enqueueThumbnail(t);return this.accept(t,function(e){return function(i){if(i){t.accepted=false;e._errorProcessing([t],i)}else{t.accepted=true;if(e.options.autoQueue){e.enqueueFile(t)}}return e._updateMaxFilesReachedClass()}}(this))};r.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++){e=t[i];this.enqueueFile(e)}return null};r.prototype.enqueueFile=function(t){if(t.status===r.ADDED&&t.accepted===true){t.status=r.QUEUED;if(this.options.autoProcessQueue){return setTimeout(function(t){return function(){return t.processQueue()}}(this),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};r.prototype._thumbnailQueue=[];r.prototype._processingThumbnail=false;r.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(t);return setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)}};r.prototype._processThumbnailQueue=function(){if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){t._processingThumbnail=false;return t._processThumbnailQueue()}}(this))};r.prototype.removeFile=function(t){if(t.status===r.UPLOADING){this.cancelUpload(t)}this.files=a(this.files,t);this.emit("removedfile",t);if(this.files.length===0){return this.emit("reset")}};r.prototype.removeAllFiles=function(t){var e,i,n,s;if(t==null){t=false}s=this.files.slice();for(i=0,n=s.length;i<n;i++){e=s[i];if(e.status!==r.UPLOADING||t){this.removeFile(e)}}return null};r.prototype.createThumbnail=function(t,e){var i;i=new FileReader;i.onload=function(n){return function(){if(t.type==="image/svg+xml"){n.emit("thumbnail",t,i.result);if(e!=null){e()}return}return n.createThumbnailFromUrl(t,i.result,e)}}(this);return i.readAsDataURL(t)};r.prototype.createThumbnailFromUrl=function(t,e,i,n){var r;r=document.createElement("img");if(n){r.crossOrigin=n}r.onload=function(e){return function(){var n,o,a,l,h,u,c,d;t.width=r.width;t.height=r.height;a=e.options.resize.call(e,t);if(a.trgWidth==null){a.trgWidth=a.optWidth}if(a.trgHeight==null){a.trgHeight=a.optHeight}n=document.createElement("canvas");o=n.getContext("2d");n.width=a.trgWidth;n.height=a.trgHeight;s(o,r,(h=a.srcX)!=null?h:0,(u=a.srcY)!=null?u:0,a.srcWidth,a.srcHeight,(c=a.trgX)!=null?c:0,(d=a.trgY)!=null?d:0,a.trgWidth,a.trgHeight);l=n.toDataURL("image/png");e.emit("thumbnail",t,l);if(i!=null){return i()}}}(this);if(i!=null){r.onerror=i}return r.src=e};r.prototype.processQueue=function(){var t,e,i,n;e=this.options.parallelUploads;i=this.getUploadingFiles().length;t=i;if(i>=e){return}n=this.getQueuedFiles();if(!(n.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(n.slice(0,e-i))}else{while(t<e){if(!n.length){return}this.processFile(n.shift());t++}}};r.prototype.processFile=function(t){return this.processFiles([t])};r.prototype.processFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++){e=t[i];e.processing=true;e.status=r.UPLOADING;this.emit("processing",e)}if(this.options.uploadMultiple){this.emit("processingmultiple",t)}return this.uploadFiles(t)};r.prototype._getFilesWithXhr=function(t){var e,i;return i=function(){var i,n,r,s;r=this.files;s=[];for(i=0,n=r.length;i<n;i++){e=r[i];if(e.xhr===t){s.push(e)}}return s}.call(this)};r.prototype.cancelUpload=function(t){var e,i,n,s,o,a,l;if(t.status===r.UPLOADING){i=this._getFilesWithXhr(t.xhr);for(n=0,o=i.length;n<o;n++){e=i[n];e.status=r.CANCELED}t.xhr.abort();for(s=0,a=i.length;s<a;s++){e=i[s];this.emit("canceled",e)}if(this.options.uploadMultiple){this.emit("canceledmultiple",i)}}else if((l=t.status)===r.ADDED||l===r.QUEUED){t.status=r.CANCELED;this.emit("canceled",t);if(this.options.uploadMultiple){this.emit("canceledmultiple",[t])}}if(this.options.autoProcessQueue){return this.processQueue()}};n=function(){var t,e;e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[];if(typeof e==="function"){return e.apply(this,t)}return e};r.prototype.uploadFile=function(t){return this.uploadFiles([t])};r.prototype.uploadFiles=function(t){var e,s,o,a,l,h,u,c,d,f,p,g,m,v,y,b,w,x,_,C,k,S,T,D,M,P,E,I,A,H,R,L,F,$;_=new XMLHttpRequest;for(C=0,D=t.length;C<D;C++){e=t[C];e.xhr=_}g=n(this.options.method,t);w=n(this.options.url,t);_.open(g,w,true);_.withCredentials=!!this.options.withCredentials;y=null;o=function(i){return function(){var n,r,s;s=[];for(n=0,r=t.length;n<r;n++){e=t[n];s.push(i._errorProcessing(t,y||i.options.dictResponseError.replace("{{statusCode}}",_.status),_))}return s}}(this);b=function(i){return function(n){var r,s,o,a,l,h,u,c,d;if(n!=null){s=100*n.loaded/n.total;for(o=0,h=t.length;o<h;o++){e=t[o];e.upload={progress:s,total:n.total,bytesSent:n.loaded}}}else{r=true;s=100;for(a=0,u=t.length;a<u;a++){e=t[a];if(!(e.upload.progress===100&&e.upload.bytesSent===e.upload.total)){r=false}e.upload.progress=s;e.upload.bytesSent=e.upload.total}if(r){return}}d=[];for(l=0,c=t.length;l<c;l++){e=t[l];d.push(i.emit("uploadprogress",e,s,e.upload.bytesSent))}return d}}(this);_.onload=function(e){return function(i){var n;if(t[0].status===r.CANCELED){return}if(_.readyState!==4){return}y=_.responseText;if(_.getResponseHeader("content-type")&&~_.getResponseHeader("content-type").indexOf("application/json")){try{y=JSON.parse(y)}catch(t){i=t;y="Invalid JSON response from server."}}b();if(!(200<=(n=_.status)&&n<300)){return o()}else{return e._finished(t,y,i)}}}(this);_.onerror=function(e){return function(){if(t[0].status===r.CANCELED){return}return o()}}(this);v=(A=_.upload)!=null?A:_;v.onprogress=b;h={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){i(h,this.options.headers)}for(a in h){l=h[a];if(l){_.setRequestHeader(a,l)}}s=new FormData;if(this.options.params){H=this.options.params;for(p in H){x=H[p];s.append(p,x)}}for(k=0,M=t.length;k<M;k++){e=t[k];this.emit("sending",e,_,s)}if(this.options.uploadMultiple){this.emit("sendingmultiple",t,_,s)}if(this.element.tagName==="FORM"){R=this.element.querySelectorAll("input, textarea, select, button");for(S=0,P=R.length;S<P;S++){c=R[S];d=c.getAttribute("name");f=c.getAttribute("type");if(c.tagName==="SELECT"&&c.hasAttribute("multiple")){L=c.options;for(T=0,E=L.length;T<E;T++){m=L[T];if(m.selected){s.append(d,m.value)}}}else if(!f||(F=f.toLowerCase())!=="checkbox"&&F!=="radio"||c.checked){s.append(d,c.value)}}}for(u=I=0,$=t.length-1;0<=$?I<=$:I>=$;u=0<=$?++I:--I){s.append(this._getParamName(u),t[u],this._renameFilename(t[u].name))}return this.submitRequest(_,s,t)};r.prototype.submitRequest=function(t,e,i){return t.send(e)};r.prototype._finished=function(t,e,i){var n,s,o;for(s=0,o=t.length;s<o;s++){n=t[s];n.status=r.SUCCESS;this.emit("success",n,e,i);this.emit("complete",n)}if(this.options.uploadMultiple){this.emit("successmultiple",t,e,i);this.emit("completemultiple",t)}if(this.options.autoProcessQueue){return this.processQueue()}};r.prototype._errorProcessing=function(t,e,i){var n,s,o;for(s=0,o=t.length;s<o;s++){n=t[s];n.status=r.ERROR;this.emit("error",n,e,i);this.emit("complete",n)}if(this.options.uploadMultiple){this.emit("errormultiple",t,e,i);this.emit("completemultiple",t)}if(this.options.autoProcessQueue){return this.processQueue()}};return r}(e);t.version="4.3.0";t.options={};t.optionsForElement=function(e){if(e.getAttribute("id")){return t.options[i(e.getAttribute("id"))]}else{return void 0}};t.instances=[];t.forElement=function(t){if(typeof t==="string"){t=document.querySelector(t)}if((t!=null?t.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return t.dropzone};t.autoDiscover=true;t.discover=function(){var e,i,n,r,s,o;if(document.querySelectorAll){n=document.querySelectorAll(".dropzone")}else{n=[];e=function(t){var e,i,r,s;s=[];for(i=0,r=t.length;i<r;i++){e=t[i];if(/(^| )dropzone($| )/.test(e.className)){s.push(n.push(e))}else{s.push(void 0)}}return s};e(document.getElementsByTagName("div"));e(document.getElementsByTagName("form"))}o=[];for(r=0,s=n.length;r<s;r++){i=n[r];if(t.optionsForElement(i)!==false){o.push(new t(i))}else{o.push(void 0)}}return o};t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];t.isBrowserSupported=function(){var e,i,n,r,s;e=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList"in document.createElement("a"))){e=false}else{s=t.blacklistedBrowsers;for(n=0,r=s.length;n<r;n++){i=s[n];if(i.test(navigator.userAgent)){e=false;continue}}}}else{e=false}return e};a=function(t,e){var i,n,r,s;s=[];for(n=0,r=t.length;n<r;n++){i=t[n];if(i!==e){s.push(i)}}return s};i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})};t.createElement=function(t){var e;e=document.createElement("div");e.innerHTML=t;return e.childNodes[0]};t.elementInside=function(t,e){if(t===e){return true}while(t=t.parentNode){if(t===e){return true}}return false};t.getElement=function(t,e){var i;if(typeof t==="string"){i=document.querySelector(t)}else if(t.nodeType!=null){i=t}if(i==null){throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.")}return i};t.getElements=function(t,e){var i,n,r,s,o,a,l,h;if(t instanceof Array){r=[];try{for(s=0,a=t.length;s<a;s++){n=t[s];r.push(this.getElement(n,e))}}catch(t){i=t;r=null}}else if(typeof t==="string"){r=[];h=document.querySelectorAll(t);for(o=0,l=h.length;o<l;o++){n=h[o];r.push(n)}}else if(t.nodeType!=null){r=[t]}if(!(r!=null&&r.length)){throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return r};t.confirm=function(t,e,i){if(window.confirm(t)){return e()}else if(i!=null){return i()}};t.isValidFile=function(t,e){var i,n,r,s,o;if(!e){return true}e=e.split(",");n=t.type;i=n.replace(/\/.*$/,"");for(s=0,o=e.length;s<o;s++){r=e[s];r=r.trim();if(r.charAt(0)==="."){if(t.name.toLowerCase().indexOf(r.toLowerCase(),t.name.length-r.length)!==-1){return true}}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,"")){return true}}else{if(n===r){return true}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}}if(typeof module!=="undefined"&&module!==null){module.exports=t}else{window.Dropzone=t}t.ADDED="added";t.QUEUED="queued";t.ACCEPTED=t.QUEUED;t.UPLOADING="uploading";t.PROCESSING=t.UPLOADING;t.CANCELED="canceled";t.ERROR="error";t.SUCCESS="success";r=function(t){var e,i,n,r,s,o,a,l,h,u;a=t.naturalWidth;o=t.naturalHeight;i=document.createElement("canvas");i.width=1;i.height=o;n=i.getContext("2d");n.drawImage(t,0,0);r=n.getImageData(0,0,1,o).data;u=0;s=o;l=o;while(l>u){e=r[(l-1)*4+3];if(e===0){s=l}else{u=l}l=s+u>>1}h=l/o;if(h===0){return 1}else{return h}};s=function(t,e,i,n,s,o,a,l,h,u){var c;c=r(e);return t.drawImage(e,i,n,s,o,a,l,h,u/c)};n=function(t,e){var i,n,r,s,o,a,l,h,u;r=false;u=true;n=t.document;h=n.documentElement;i=n.addEventListener?"addEventListener":"attachEvent";l=n.addEventListener?"removeEventListener":"detachEvent";a=n.addEventListener?"":"on";s=function(i){if(i.type==="readystatechange"&&n.readyState!=="complete"){return}(i.type==="load"?t:n)[l](a+i.type,s,false);if(!r&&(r=true)){return e.call(t,i.type||i)}};o=function(){var t;try{h.doScroll("left")}catch(e){t=e;setTimeout(o,50);return}return s("poll")};if(n.readyState!=="complete"){if(n.createEventObject&&h.doScroll){try{u=!t.frameElement}catch(t){}if(u){o()}}n[i](a+"DOMContentLoaded",s,false);n[i](a+"readystatechange",s,false);return t[i](a+"load",s,false)}};t._autoDiscoverFunction=function(){if(t.autoDiscover){return t.discover()}};n(window,t._autoDiscoverFunction)}).call(this);(function(t,e,i){(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)})(function(n){"use strict";var r={},s,o,a,l,h,u,c,d,f,p,g,m,v,y,b,w,x,_,C,k,S,T,D,M,P,E,I,A,H,R,L,F,$=0;s=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new a("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new a("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new a("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},E='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',o=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(e=Array.prototype.slice.call(arguments,1,-1),e.unshift(t.prototype),n.extend.apply(n,e))):t.prototype=arguments[0],t.prototype.cls=t,t},n.SPFormatClass=a=o({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,n){var r=this,s=t,o,a,l,h,u;return this.format.replace(this.fre,function(){var t;return a=arguments[1],l=arguments[3],o=r.precre.exec(a),o?(u=o[2],a=o[1]):u=!1,h=s[a],h===i?"":l&&e&&e[l]?(t=e[l],t.get?e[l].get(h)||h:e[l][h]||h):(f(h)&&(n.get("numberFormatter")?h=n.get("numberFormatter")(h):h=y(h,u,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),h)})}}),n.spformat=function(t,e){return new a(t,e)},l=function(t,e,i){return t<e?e:t>i?i:t},h=function(t,i){var n;return i===2?(n=e.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*i+i)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1]):(n=(t.length*i+2)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1])},u=function(t){var e;switch(t){case"undefined":t=i;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},c=function(t){var e,i=[];for(e=t.length;e--;)i[e]=u(t[e]);return i},d=function(t,e){var i,n,r=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&r.push(t[i]);return r},f=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},y=function(t,e,i,r,s){var o,a;t=(e===!1?parseFloat(t).toString():t.toFixed(e)).split(""),o=(o=n.inArray(".",t))<0?t.length:o,o<t.length&&(t[o]=s);for(a=o-i;a>0;a-=i)t.splice(a,0,r);return t.join("")},p=function(t,e,i){var n;for(n=e.length;n--;){if(i&&e[n]===null)continue;if(e[n]!==t)return!1}return!0},g=function(t){var e=0,i;for(i=t.length;i--;)e+=typeof t[i]=="number"?t[i]:0;return e},v=function(t){return n.isArray(t)?t:[t]},m=function(e){var i;t.createStyleSheet?t.createStyleSheet().cssText=e:(i=t.createElement("style"),i.type="text/css",t.getElementsByTagName("head")[0].appendChild(i),i[typeof t.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=e)},n.fn.simpledraw=function(e,r,s,o){var a,l;if(s&&(a=this.data("_jqs_vcanvas")))return a;if(n.fn.sparkline.canvas===!1)return!1;if(n.fn.sparkline.canvas===i){var h=t.createElement("canvas");if(!h.getContext||!h.getContext("2d")){if(!t.namespaces||!!t.namespaces.v)return n.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.fn.sparkline.canvas=function(t,e,i,n){return new L(t,e,i)}}else n.fn.sparkline.canvas=function(t,e,i,n){return new R(t,e,i,n)}}return e===i&&(e=n(this).innerWidth()),r===i&&(r=n(this).innerHeight()),a=n.fn.sparkline.canvas(e,r,this,o),l=n(this).data("_jqs_mhandler"),l&&l.registerCanvas(a),a},n.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},n.RangeMapClass=b=o({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&typeof e=="string"&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=i[0].length===0?-Infinity:parseFloat(i[0]),i[1]=i[1].length===0?Infinity:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e=this.rangelist,n,r,s;if((s=this.map[t])!==i)return s;if(e)for(n=e.length;n--;){r=e[n];if(r[0]<=t&&r[1]>=t)return r[2]}return i}}),n.range_map=function(t){return new b(t)},w=o({init:function(t,e){var i=n(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=n(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(n.proxy(this.mouseenter,this)),e.mouseleave(n.proxy(this.mouseleave,this)),e.click(n.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(t){var e=n.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){n(t.body).unbind("mousemove.jqs"),n(t.body).bind("mousemove.jqs",n.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new x(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){n(t.body).unbind("mousemove.jqs");var e=this.splist,i=e.length,r=!1,s,o;this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null);for(o=0;o<i;o++)s=e[o],s.clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t=this.splist,e=t.length,i=!1,r=this.$canvas.offset(),s=this.currentPageX-r.left,o=this.currentPageY-r.top,a,l,h,u,c;if(!this.over)return;for(h=0;h<e;h++)l=t[h],u=l.setRegionHighlight(this.currentEl,s,o),u&&(i=!0);if(i){c=n.Event("sparklineRegionChange"),c.sparklines=this.splist,this.$el.trigger(c);if(this.tooltip){a="";for(h=0;h<e;h++)l=t[h],a+=l.getCurrentRegionTooltip();this.tooltip.setContent(a)}this.disableHighlight||this.canvas.render()}u===null&&this.mouseleave()}}),x=o({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i=e.get("tooltipClassname","jqstooltip"),r=this.sizeStyle,s;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),n("#jqssizetip").remove(),n("#jqstooltip").remove(),this.sizetip=n("<div/>",{id:"jqssizetip",style:r,class:i}),this.tooltip=n("<div/>",{id:"jqstooltip",class:i}).appendTo(this.container),s=this.tooltip.offset(),this.offsetLeft=s.left,this.offsetTop=s.top,this.hidden=!0,n(window).unbind("resize.jqs scroll.jqs"),n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop(),this.scrollLeft=n(window).scrollLeft(),this.scrollRight=this.scrollLeft+n(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t){this.tooltip.css("visibility","hidden"),this.hidden=!0;return}this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(t===i){if(this.mousex===i)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;if(!this.height||!this.width||this.hidden)return;e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e})},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=i,n(window).unbind("resize.jqs scroll.jqs")}}),I=function(){m(E)},n(I),F=[],n.fn.sparkline=function(e,r){return this.each(function(){var s=new n.fn.sparkline.options(this,r),o=n(this),a,l;a=function(){var r,a,l,h,u,c,d;if(e==="html"||e===i){d=this.getAttribute(s.get("tagValuesAttribute"));if(d===i||d===null)d=o.html();r=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else r=e;a=s.get("width")==="auto"?r.length*s.get("defaultPixelsPerValue"):s.get("width");if(s.get("height")==="auto"){if(!s.get("composite")||!n.data(this,"_jqs_vcanvas"))h=t.createElement("span"),h.innerHTML="a",o.html(h),l=n(h).innerHeight()||n(h).height(),n(h).remove(),h=null}else l=s.get("height");s.get("disableInteraction")?u=!1:(u=n.data(this,"_jqs_mhandler"),u?s.get("composite")||u.reset():(u=new w(this,s),n.data(this,"_jqs_mhandler",u)));if(s.get("composite")&&!n.data(this,"_jqs_vcanvas")){n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0));return}c=new(n.fn.sparkline[s.get("type")])(this,r,s,a,l),c.render(),u&&u.registerSparkline(c)};if(n(this).html()&&!s.get("disableHiddenCheck")&&n(this).is(":hidden")||!n(this).parents("body").length){if(!s.get("composite")&&n.data(this,"_jqs_pending"))for(l=F.length;l;l--)F[l-1][0]==this&&F.splice(l-1,1);F.push([this,a]),n.data(this,"_jqs_pending",!0)}else a.call(this)})},n.fn.sparkline.defaults=s(),n.sparkline_display_visible=function(){var t,e,i,r=[];for(e=0,i=F.length;e<i;e++)t=F[e][0],n(t).is(":visible")&&!n(t).parents().is(":hidden")?(F[e][1].call(t),n.data(F[e][0],"_jqs_pending",!1),r.push(e)):!n(t).closest("html").length&&!n.data(t,"_jqs_pending")&&(n.data(F[e][0],"_jqs_pending",!1),r.push(e));for(e=r.length;e;e--)F.splice(r[e-1],1)},n.fn.sparkline.options=o({init:function(t,e){var i,s,o,a;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},s=n.fn.sparkline.defaults,o=s.common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||o.tagOptionsPrefix),a=this.getTagSetting("type"),a===r?i=s[e.type||o.type]:i=s[a],this.mergedOptions=n.extend({},o,i,e)},getTagSetting:function(t){var e=this.tagOptionsPrefix,n,s,o,a;if(e===!1||e===i)return r;if(this.tagValCache.hasOwnProperty(t))n=this.tagValCache.key;else{n=this.tag.getAttribute(e+t);if(n===i||n===null)n=r;else if(n.substr(0,1)==="["){n=n.substr(1,n.length-2).split(",");for(s=n.length;s--;)n[s]=u(n[s].replace(/(^\s*)|(\s*$)/g,""))}else if(n.substr(0,1)==="{"){o=n.substr(1,n.length-2).split(","),n={};for(s=o.length;s--;)a=o[s].split(":",2),n[a[0].replace(/(^\s*)|(\s*$)/g,"")]=u(a[1].replace(/(^\s*)|(\s*$)/g,""))}else n=u(n);this.tagValCache.key=n}return n},get:function(t,e){var n=this.getTagSetting(t),s;return n!==r?n:(s=this.mergedOptions[t])===i?e:s}}),n.fn.sparkline._base=o({disabled:!1,init:function(t,e,r,s,o){this.el=t,this.$el=n(t),this.values=e,this.options=r,this.width=s,this.height=o,this.currentRegion=i},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(t,e){},setRegionHighlight:function(t,e,n){var r=this.currentRegion,s=!this.options.get("disableHighlight"),o;return e>this.canvasWidth||n>this.canvasHeight||e<0||n<0?null:(o=this.getRegion(t,e,n),r!==o?(r!==i&&s&&this.removeHighlight(),this.currentRegion=o,o!==i&&s&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==i?(this.removeHighlight(),this.currentRegion=i,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t=this.options,e="",r=[],s,o,l,h,u,c,d,f,p,g,m,v,y,b;if(this.currentRegion===i)return"";s=this.getCurrentRegionFields(),m=t.get("tooltipFormatter");if(m)return m(this,t,s);t.get("tooltipChartTitle")&&(e+='<div class="jqs jqstitle">'+t.get("tooltipChartTitle")+"</div>\n"),o=this.options.get("tooltipFormat");if(!o)return"";n.isArray(o)||(o=[o]),n.isArray(s)||(s=[s]),d=this.options.get("tooltipFormatFieldlist"),f=this.options.get("tooltipFormatFieldlistKey");if(d&&f){p=[];for(c=s.length;c--;)g=s[c][f],(b=n.inArray(g,d))!=-1&&(p[b]=s[c]);s=p}l=o.length,y=s.length;for(c=0;c<l;c++){v=o[c],typeof v=="string"&&(v=new a(v)),h=v.fclass||"jqsfield";for(b=0;b<y;b++)if(!s[b].isNull||!t.get("tooltipSkipNull"))n.extend(s[b],{prefix:t.get("tooltipPrefix"),suffix:t.get("tooltipSuffix")}),u=v.render(s[b],t.get("tooltipValueLookups"),t),r.push('<div class="'+h+'">'+u+"</div>")}return r.length?e+r.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var n=i.get("highlightColor"),r=i.get("highlightLighten"),s,o,a,h;if(n)return n;if(r){s=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t);if(s){a=[],o=t.length===4?16:1;for(h=0;h<3;h++)a[h]=l(e.round(parseInt(s[h+1],16)*o*r),0,255);return"rgb("+a.join(",")+")"}}return t}}),_={changeHighlight:function(t){var e=this.currentRegion,i=this.target,r=this.regionShapes[e],s;r&&(s=this.renderRegion(e,t),n.isArray(s)||n.isArray(r)?(i.replaceWithShapes(r,s),this.regionShapes[e]=n.map(s,function(t){return t.id})):(i.replaceWithShape(r,s),this.regionShapes[e]=s.id))},render:function(){var t=this.values,e=this.target,i=this.regionShapes,r,s,o,a;if(!this.cls._super.render.call(this))return;for(o=t.length;o--;){r=this.renderRegion(o);if(r)if(n.isArray(r)){s=[];for(a=r.length;a--;)r[a].append(),s.push(r[a].id);i[o]=s}else r.append(),i[o]=r.id;else i[o]=null}e.render()}},n.fn.sparkline.line=C=o(n.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){C._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,n){var r,s=this.regionMap;for(r=s.length;r--;)if(s[r]!==null&&e>=s[r][0]&&e<=s[r][1])return s[r][2];return i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.yvalues[t]===null,x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t=this.currentRegion,e=this.target,n=this.vertices[t],r=this.options,s=r.get("spotRadius"),o=r.get("highlightSpotColor"),a=r.get("highlightLineColor"),l,h;if(!n)return;s&&o&&(l=e.drawCircle(n[0],n[1],s,i,o),this.highlightSpotId=l.id,e.insertAfterShape(this.lastShapeId,l)),a&&(h=e.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,a),this.highlightLineId=h.id,e.insertAfterShape(this.lastShapeId,h))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t=this.values,i=t.length,n=this.xvalues,r=this.yvalues,s=this.yminmax,o,a,l,h,u;for(o=0;o<i;o++)a=t[o],l=typeof t[o]=="string",h=typeof t[o]=="object"&&t[o]instanceof Array,u=l&&t[o].split(":"),l&&u.length===2?(n.push(Number(u[0])),r.push(Number(u[1])),s.push(Number(u[1]))):h?(n.push(a[0]),r.push(a[1]),s.push(a[1])):(n.push(o),t[o]===null||t[o]==="null"?r.push(null):(r.push(Number(a)),s.push(Number(a))));this.options.get("xvalues")&&(n=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,s),this.miny=this.minyorg=e.min.apply(e,s),this.maxx=e.max.apply(e,n),this.minx=e.min.apply(e,n),this.xvalues=n,this.yvalues=r,this.yminmax=s},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),n=t.get("normalRangeMax");e!==i&&(e<this.miny&&(this.miny=e),n>this.maxy&&(this.maxy=n)),t.get("chartRangeMin")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,n,r,s,o){var a=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),h=n+e.round(r-r*((l-this.miny)/o)),u=e.round(r*(l-a)/o);this.target.drawRect(t,h,s,u,i,this.options.get("normalRangeColor")).append()},render:function(){var t=this.options,r=this.target,s=this.canvasWidth,o=this.canvasHeight,a=this.vertices,l=t.get("spotRadius"),h=this.regionMap,u,c,d,f,p,g,m,v,y,w,x,_,k,S,T,D,M,P,E,I,A,H,R,L,F;if(!C._super.render.call(this))return;this.scanValues(),this.processRangeOptions(),R=this.xvalues,L=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2)return;f=p=0,u=this.maxx-this.minx===0?1:this.maxx-this.minx,c=this.maxy-this.miny===0?1:this.maxy-this.miny,d=this.yvalues.length-1,l&&(s<l*4||o<l*4)&&(l=0);if(l){A=t.get("highlightSpotColor")&&!t.get("disableInteraction");if(A||t.get("minSpotColor")||t.get("spotColor")&&L[d]===this.miny)o-=e.ceil(l);if(A||t.get("maxSpotColor")||t.get("spotColor")&&L[d]===this.maxy)o-=e.ceil(l),f+=e.ceil(l);if(A||(t.get("minSpotColor")||t.get("maxSpotColor"))&&(L[0]===this.miny||L[0]===this.maxy))p+=e.ceil(l),s-=e.ceil(l);if(A||t.get("spotColor")||t.get("minSpotColor")||t.get("maxSpotColor")&&(L[d]===this.miny||L[d]===this.maxy))s-=e.ceil(l)}o--,t.get("normalRangeMin")!==i&&!t.get("drawNormalOnTop")&&this.drawNormalRange(p,f,o,s,c),m=[],v=[m],S=T=null,D=L.length;for(F=0;F<D;F++)y=R[F],x=R[F+1],w=L[F],_=p+e.round((y-this.minx)*(s/u)),k=F<D-1?p+e.round((x-this.minx)*(s/u)):s,T=_+(k-_)/2,h[F]=[S||0,T,F],S=T,w===null?F&&(L[F-1]!==null&&(m=[],v.push(m)),a.push(null)):(w<this.miny&&(w=this.miny),w>this.maxy&&(w=this.maxy),m.length||m.push([_,f+o]),g=[_,f+e.round(o-o*((w-this.miny)/c))],m.push(g),a.push(g));M=[],P=[],E=v.length;for(F=0;F<E;F++)m=v[F],m.length&&(t.get("fillColor")&&(m.push([m[m.length-1][0],f+o]),P.push(m.slice(0)),m.pop()),m.length>2&&(m[0]=[m[0][0],m[1][1]]),M.push(m));E=P.length;for(F=0;F<E;F++)r.drawShape(P[F],t.get("fillColor"),t.get("fillColor")).append();t.get("normalRangeMin")!==i&&t.get("drawNormalOnTop")&&this.drawNormalRange(p,f,o,s,c),E=M.length;for(F=0;F<E;F++)r.drawShape(M[F],t.get("lineColor"),i,t.get("lineWidth")).append();if(l&&t.get("valueSpots")){I=t.get("valueSpots"),I.get===i&&(I=new b(I));for(F=0;F<D;F++)H=I.get(L[F]),H&&r.drawCircle(p+e.round((R[F]-this.minx)*(s/u)),f+e.round(o-o*((L[F]-this.miny)/c)),l,i,H).append()}l&&t.get("spotColor")&&L[d]!==null&&r.drawCircle(p+e.round((R[R.length-1]-this.minx)*(s/u)),f+e.round(o-o*((L[d]-this.miny)/c)),l,i,t.get("spotColor")).append(),this.maxy!==this.minyorg&&(l&&t.get("minSpotColor")&&(y=R[n.inArray(this.minyorg,L)],r.drawCircle(p+e.round((y-this.minx)*(s/u)),f+e.round(o-o*((this.minyorg-this.miny)/c)),l,i,t.get("minSpotColor")).append()),l&&t.get("maxSpotColor")&&(y=R[n.inArray(this.maxyorg,L)],r.drawCircle(p+e.round((y-this.minx)*(s/u)),f+e.round(o-o*((this.maxyorg-this.miny)/c)),l,i,t.get("maxSpotColor")).append())),this.lastShapeId=r.getLastShapeId(),this.canvasTop=f,r.render()}}),n.fn.sparkline.bar=k=o(n.fn.sparkline._base,_,{type:"bar",init:function(t,r,s,o,a){var h=parseInt(s.get("barWidth"),10),f=parseInt(s.get("barSpacing"),10),p=s.get("chartRangeMin"),g=s.get("chartRangeMax"),m=s.get("chartRangeClip"),v=Infinity,y=-Infinity,w,x,_,C,S,T,D,M,P,E,I,A,H,R,L,F,$,z,N,O,B,W,j;k._super.init.call(this,t,r,s,o,a);for(T=0,D=r.length;T<D;T++){O=r[T],w=typeof O=="string"&&O.indexOf(":")>-1;if(w||n.isArray(O))L=!0,w&&(O=r[T]=c(O.split(":"))),O=d(O,null),x=e.min.apply(e,O),_=e.max.apply(e,O),x<v&&(v=x),_>y&&(y=_)}this.stacked=L,this.regionShapes={},this.barWidth=h,this.barSpacing=f,this.totalBarWidth=h+f,this.width=o=r.length*h+(r.length-1)*f,this.initTarget(),m&&(H=p===i?-Infinity:p,R=g===i?Infinity:g),S=[],C=L?[]:S;var q=[],Y=[];for(T=0,D=r.length;T<D;T++)if(L){F=r[T],r[T]=N=[],q[T]=0,C[T]=Y[T]=0;for($=0,z=F.length;$<z;$++)O=N[$]=m?l(F[$],H,R):F[$],O!==null&&(O>0&&(q[T]+=O),v<0&&y>0?O<0?Y[T]+=e.abs(O):C[T]+=O:C[T]+=e.abs(O-(O<0?y:v)),S.push(O))}else O=m?l(r[T],H,R):r[T],O=r[T]=u(O),O!==null&&S.push(O);this.max=A=e.max.apply(e,S),this.min=I=e.min.apply(e,S),this.stackMax=y=L?e.max.apply(e,q):A,this.stackMin=v=L?e.min.apply(e,S):I,s.get("chartRangeMin")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMin")<I)&&(I=s.get("chartRangeMin")),s.get("chartRangeMax")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMax")>A)&&(A=s.get("chartRangeMax")),this.zeroAxis=P=s.get("zeroAxis",!0),I<=0&&A>=0&&P?E=0:P==0?E=I:I>0?E=I:E=A,this.xaxisOffset=E,M=L?e.max.apply(e,C)+e.max.apply(e,Y):A-I,this.canvasHeightEf=P&&I<0?this.canvasHeight-2:this.canvasHeight-1,I<E?(W=L&&A>=0?y:A,B=(W-E)/M*this.canvasHeight,B!==e.ceil(B)&&(this.canvasHeightEf-=2,B=e.ceil(B))):B=this.canvasHeight,this.yoffset=B,n.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new b(this.colorMapByValue))),this.range=M},getRegion:function(t,n,r){var s=e.floor(n/this.totalBarWidth);return s<0||s>=this.values.length?i:s},getCurrentRegionFields:function(){var t=this.currentRegion,e=v(this.values[t]),i=[],n,r;for(r=e.length;r--;)n=e[r],i.push({isNull:n===null,value:n,color:this.calcColor(r,n,t),offset:t});return i},calcColor:function(t,e,r){var s=this.colorMapByIndex,o=this.colorMapByValue,a=this.options,l,h;return this.stacked?l=a.get("stackedBarColor"):l=e<0?a.get("negBarColor"):a.get("barColor"),e===0&&a.get("zeroColor")!==i&&(l=a.get("zeroColor")),o&&(h=o.get(e))?l=h:s&&s.length>r&&(l=s[r]),n.isArray(l)?l[t%l.length]:l},renderRegion:function(t,r){var s=this.values[t],o=this.options,a=this.xaxisOffset,l=[],h=this.range,u=this.stacked,c=this.target,d=t*this.totalBarWidth,f=this.canvasHeightEf,g=this.yoffset,m,v,y,b,w,x,_,C,k,S;s=n.isArray(s)?s:[s],_=s.length,C=s[0],b=p(null,s),S=p(a,s,!0);if(b)return o.get("nullColor")?(y=r?o.get("nullColor"):this.calcHighlightColor(o.get("nullColor"),o),m=g>0?g-1:g,c.drawRect(d,m,this.barWidth-1,0,y,y)):i;w=g;for(x=0;x<_;x++){C=s[x];if(u&&C===a){if(!S||k)continue;k=!0}h>0?v=e.floor(f*(e.abs(C-a)/h))+1:v=1,C<a||C===a&&g===0?(m=w,w+=v):(m=g-v,g-=v),y=this.calcColor(x,C,t),r&&(y=this.calcHighlightColor(y,o)),l.push(c.drawRect(d,m,this.barWidth-1,v-1,y,y))}return l.length===1?l[0]:l}}),n.fn.sparkline.tristate=S=o(n.fn.sparkline._base,_,{type:"tristate",init:function(t,e,r,s,o){var a=parseInt(r.get("barWidth"),10),l=parseInt(r.get("barSpacing"),10);S._super.init.call(this,t,e,r,s,o),this.regionShapes={},this.barWidth=a,this.barSpacing=l,this.totalBarWidth=a+l,this.values=n.map(e,Number),this.width=s=e.length*a+(e.length-1)*l,n.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new b(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i,n){return e.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i=this.values,n=this.options,r=this.colorMapByIndex,s=this.colorMapByValue,o,a;return s&&(a=s.get(t))?o=a:r&&r.length>e?o=r[e]:i[e]<0?o=n.get("negBarColor"):i[e]>0?o=n.get("posBarColor"):o=n.get("zeroBarColor"),o},renderRegion:function(t,i){var n=this.values,r=this.options,s=this.target,o,a,l,h,u,c;o=s.pixelHeight,l=e.round(o/2),h=t*this.totalBarWidth,n[t]<0?(u=l,a=l-1):n[t]>0?(u=0,a=l-1):(u=l-1,a=2),c=this.calcColor(n[t],t);if(c===null)return;return i&&(c=this.calcHighlightColor(c,r)),s.drawRect(h,u,this.barWidth-1,a-1,c,c)}}),n.fn.sparkline.discrete=T=o(n.fn.sparkline._base,_,{type:"discrete",init:function(t,r,s,o,a){T._super.init.call(this,t,r,s,o,a),this.regionShapes={},this.values=r=n.map(r,Number),this.min=e.min.apply(e,r),this.max=e.max.apply(e,r),this.range=this.max-this.min,this.width=o=s.get("width")==="auto"?r.length*2:this.width,this.interval=e.floor(o/r.length),this.itemWidth=o/r.length,s.get("chartRangeMin")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMin")<this.min)&&(this.min=s.get("chartRangeMin")),s.get("chartRangeMax")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMax")>this.max)&&(this.max=s.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight=s.get("lineHeight")==="auto"?e.round(this.canvasHeight*.3):s.get("lineHeight"))},getRegion:function(t,i,n){return e.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],offset:t}},renderRegion:function(t,i){var n=this.values,r=this.options,s=this.min,o=this.max,a=this.range,h=this.interval,u=this.target,c=this.canvasHeight,d=this.lineHeight,f=c-d,p,g,m,v;return g=l(n[t],s,o),v=t*h,p=e.round(f-f*((g-s)/a)),m=r.get("thresholdColor")&&g<r.get("thresholdValue")?r.get("thresholdColor"):r.get("lineColor"),i&&(m=this.calcHighlightColor(m,r)),u.drawLine(v,p,v,p+d,m)}}),n.fn.sparkline.bullet=D=o(n.fn.sparkline._base,{type:"bullet",init:function(t,n,r,s,o){var a,l,h;D._super.init.call(this,t,n,r,s,o),this.values=n=c(n),h=n.slice(),h[0]=h[0]===null?h[2]:h[0],h[1]=n[1]===null?h[2]:h[1],a=e.min.apply(e,n),l=e.max.apply(e,n),r.get("base")===i?a=a<0?a:0:a=r.get("base"),this.min=a,this.max=l,this.range=l-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=s=r.get("width")==="auto"?"4.0em":s,this.target=this.$el.simpledraw(s,o,r.get("composite")),n.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==i&&this.shapes[r]!==i?this.shapes[r]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.valueShapes[e],n;delete this.shapes[i];switch(e.substr(0,1)){case"r":n=this.renderRange(e.substr(1),t);break;case"p":n=this.renderPerformance(t);break;case"t":n=this.renderTarget(t)}this.valueShapes[e]=n.id,this.shapes[n.id]=e,this.target.replaceWithShape(i,n)},renderRange:function(t,i){var n=this.values[t],r=e.round(this.canvasWidth*((n-this.min)/this.range)),s=this.options.get("rangeColors")[t-2];return i&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,0,r-1,this.canvasHeight-1,s,s)},renderPerformance:function(t){var i=this.values[1],n=e.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("performanceColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,e.round(this.canvasHeight*.3),n-1,e.round(this.canvasHeight*.4)-1,r,r)},renderTarget:function(t){var i=this.values[0],n=e.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),r=e.round(this.canvasHeight*.1),s=this.canvasHeight-r*2,o=this.options.get("targetColor");return t&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(n,r,this.options.get("targetWidth")-1,s-1,o,o)},render:function(){var t=this.values.length,e=this.target,i,n;if(!D._super.render.call(this))return;for(i=2;i<t;i++)n=this.renderRange(i).append(),this.shapes[n.id]="r"+i,this.valueShapes["r"+i]=n.id;this.values[1]!==null&&(n=this.renderPerformance().append(),this.shapes[n.id]="p1",this.valueShapes.p1=n.id),this.values[0]!==null&&(n=this.renderTarget().append(),this.shapes[n.id]="t0",this.valueShapes.t0=n.id),e.render()}}),n.fn.sparkline.pie=M=o(n.fn.sparkline._base,{type:"pie",init:function(t,i,r,s,o){var a=0,l;M._super.init.call(this,t,i,r,s,o),this.shapes={},this.valueShapes={},this.values=i=n.map(i,Number),r.get("width")==="auto"&&(this.width=this.height);if(i.length>0)for(l=i.length;l--;)a+=i[l];this.total=a,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==i&&this.shapes[r]!==i?this.shapes[r]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,n){var r=this.target,s=this.options,o=this.radius,a=s.get("borderWidth"),l=s.get("offset"),h=2*e.PI,u=this.values,c=this.total,d=l?2*e.PI*(l/360):0,f,p,g,m,v;m=u.length;for(g=0;g<m;g++){f=d,p=d,c>0&&(p=d+h*(u[g]/c));if(t===g)return v=s.get("sliceColors")[g%s.get("sliceColors").length],n&&(v=this.calcHighlightColor(v,s)),r.drawPieSlice(o,o,o-a,f,p,i,v);d=p}},render:function(){var t=this.target,n=this.values,r=this.options,s=this.radius,o=r.get("borderWidth"),a,l;if(!M._super.render.call(this))return;o&&t.drawCircle(s,s,e.floor(s-o/2),r.get("borderColor"),i,o).append();for(l=n.length;l--;)n[l]&&(a=this.renderSlice(l).append(),this.valueShapes[l]=a.id,this.shapes[a.id]=l);t.render()}}),n.fn.sparkline.box=P=o(n.fn.sparkline._base,{type:"box",init:function(t,e,i,r,s){P._super.init.call(this,t,e,i,r,s),this.values=n.map(e,Number),this.width=i.get("width")==="auto"?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&t.push({field:"lo",value:this.loutlier}),this.routlier!==i&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t=this.target,n=this.values,r=n.length,s=this.options,o=this.canvasWidth,a=this.canvasHeight,l=s.get("chartRangeMin")===i?e.min.apply(e,n):s.get("chartRangeMin"),u=s.get("chartRangeMax")===i?e.max.apply(e,n):s.get("chartRangeMax"),c=0,d,f,p,g,m,v,y,b,w,x,_;if(!P._super.render.call(this))return;if(s.get("raw"))s.get("showOutliers")&&n.length>5?(f=n[0],d=n[1],g=n[2],m=n[3],v=n[4],y=n[5],b=n[6]):(d=n[0],g=n[1],m=n[2],v=n[3],y=n[4]);else{n.sort(function(t,e){return t-e}),g=h(n,1),m=h(n,2),v=h(n,3),p=v-g;if(s.get("showOutliers")){d=y=i;for(w=0;w<r;w++)d===i&&n[w]>g-p*s.get("outlierIQR")&&(d=n[w]),n[w]<v+p*s.get("outlierIQR")&&(y=n[w]);f=n[0],b=n[r-1]}else d=n[0],y=n[r-1]}this.quartiles=[g,m,v],this.lwhisker=d,this.rwhisker=y,this.loutlier=f,this.routlier=b,_=o/(u-l+1),s.get("showOutliers")&&(c=e.ceil(s.get("spotRadius")),o-=2*e.ceil(s.get("spotRadius")),_=o/(u-l+1),f<d&&t.drawCircle((f-l)*_+c,a/2,s.get("spotRadius"),s.get("outlierLineColor"),s.get("outlierFillColor")).append(),b>y&&t.drawCircle((b-l)*_+c,a/2,s.get("spotRadius"),s.get("outlierLineColor"),s.get("outlierFillColor")).append()),t.drawRect(e.round((g-l)*_+c),e.round(a*.1),e.round((v-g)*_),e.round(a*.8),s.get("boxLineColor"),s.get("boxFillColor")).append(),t.drawLine(e.round((d-l)*_+c),e.round(a/2),e.round((g-l)*_+c),e.round(a/2),s.get("lineColor")).append(),t.drawLine(e.round((d-l)*_+c),e.round(a/4),e.round((d-l)*_+c),e.round(a-a/4),s.get("whiskerColor")).append(),t.drawLine(e.round((y-l)*_+c),e.round(a/2),e.round((v-l)*_+c),e.round(a/2),s.get("lineColor")).append(),t.drawLine(e.round((y-l)*_+c),e.round(a/4),e.round((y-l)*_+c),e.round(a-a/4),s.get("whiskerColor")).append(),t.drawLine(e.round((m-l)*_+c),e.round(a*.1),e.round((m-l)*_+c),e.round(a*.9),s.get("medianColor")).append(),s.get("target")&&(x=e.ceil(s.get("spotRadius")),t.drawLine(e.round((s.get("target")-l)*_+c),e.round(a/2-x),e.round((s.get("target")-l)*_+c),e.round(a/2+x),s.get("targetColor")).append(),t.drawLine(e.round((s.get("target")-l)*_+c-x),e.round(a/2),e.round((s.get("target")-l)*_+c+x),e.round(a/2),s.get("targetColor")).append()),t.render()}}),A=o({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),H=o({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){if(!t)return;this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),n.data(i,"_jqs_vcanvas",this)},drawLine:function(t,e,i,n,r,s){return this.drawShape([[t,e],[i,n]],r,s)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,s){return this._genShape("Circle",[t,e,i,n,r,s])},drawPieSlice:function(t,e,i,n,r,s,o){return this._genShape("PieSlice",[t,e,i,n,r,s,o])},drawRect:function(t,e,i,n,r,s){return this._genShape("Rect",[t,e,i,n,r,s])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){n(e).html(t)},_calculatePixelDims:function(t,e,i){var r;r=this._pxregex.exec(e),r?this.pixelHeight=r[1]:this.pixelHeight=n(i).height(),r=this._pxregex.exec(t),r?this.pixelWidth=r[1]:this.pixelWidth=n(i).width()},_genShape:function(t,e){var i=$++;return e.unshift(i),new A(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),R=o(H,{init:function(e,r,s,o){R._super.init.call(this,e,r,s),this.canvas=t.createElement("canvas"),s[0]&&(s=s[0]),n.data(s,"_jqs_vcanvas",this),n(this.canvas).css({display:"inline-block",width:e,height:r,verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(e,r,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=o,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i,n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,n){var r=this.canvas.getContext("2d");return t!==i&&(r.strokeStyle=t),r.lineWidth=n===i?1:n,e!==i&&(r.fillStyle=e),r},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i},_drawShape:function(t,e,n,r,s){var o=this._getContext(n,r,s),a,l;o.beginPath(),o.moveTo(e[0][0]+.5,e[0][1]+.5);for(a=1,l=e.length;a<l;a++)o.lineTo(e[a][0]+.5,e[a][1]+.5);n!==i&&o.stroke(),r!==i&&o.fill(),this.targetX!==i&&this.targetY!==i&&o.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,n,r,s,o,a,l){var h=this._getContext(o,a,l);h.beginPath(),h.arc(n,r,s,0,2*e.PI,!1),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),o!==i&&h.stroke(),a!==i&&h.fill()},_drawPieSlice:function(t,e,n,r,s,o,a,l){var h=this._getContext(a,l);h.beginPath(),h.moveTo(e,n),h.arc(e,n,r,s,o,!1),h.lineTo(e,n),h.closePath(),a!==i&&h.stroke(),l&&h.fill(),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],s,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=this.shapeseq,n;this.shapes[e.id]=e;for(n=i.length;n--;)i[n]==t&&(i[n]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i=this.shapeseq,n={},r,s,o;for(s=t.length;s--;)n[t[s]]=!0;for(s=i.length;s--;)r=i[s],n[r]&&(i.splice(s,1),delete this.shapes[r],o=s);for(s=e.length;s--;)i.splice(o,0,e[s].id),this.shapes[e[s].id]=e[s]},insertAfterShape:function(t,e){var i=this.shapeseq,n;for(n=i.length;n--;)if(i[n]===t){i.splice(n+1,0,e.id),this.shapes[e.id]=e;return}},removeShapeId:function(t){var e=this.shapeseq,i;for(i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t=this.shapeseq,e=this.shapes,i=t.length,n=this._getContext(),r,s,o;n.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(o=0;o<i;o++)r=t[o],s=e[r],this["_draw"+s.type].apply(this,s.args);this.interact||(this.shapes={},this.shapeseq=[])}}),L=o(H,{init:function(e,i,r){var s;L._super.init.call(this,e,i,r),r[0]&&(r=r[0]),n.data(r,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,s='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"'+' style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",s),this.group=n(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,n,r,s){var o=[],a,l,h,u,c,d,f;for(f=0,d=e.length;f<d;f++)o[f]=""+e[f][0]+","+e[f][1];return a=o.splice(0,1),s=s===i?1:s,l=n===i?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+n+'" ',h=r===i?' filled="false"':' fillColor="'+r+'" filled="true" ',u=o[0]===o[o.length-1]?"x ":"",c='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+t+'" '+l+h+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+a+" l "+o.join(", ")+" "+u+'e">'+" </v:shape>",c},_drawCircle:function(t,e,n,r,s,o,a){var l,h,u;return e-=r,n-=r,l=s===i?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+s+'" ',h=o===i?' filled="false"':' fillColor="'+o+'" filled="true" ',u='<v:oval  id="jqsshape'+t+'" '+l+h+' style="position:absolute;top:'+n+"px; left:"+e+"px; width:"+r*2+"px; height:"+r*2+'px"></v:oval>',u},_drawPieSlice:function(t,n,r,s,o,a,l,h){var u,c,d,f,p,g,m,v;if(o===a)return"";a-o===2*e.PI&&(o=0,a=2*e.PI),c=n+e.round(e.cos(o)*s),d=r+e.round(e.sin(o)*s),f=n+e.round(e.cos(a)*s),p=r+e.round(e.sin(a)*s);if(c===f&&d===p){if(a-o<e.PI)return"";c=f=n+s,d=p=r}return c===f&&d===p&&a-o<e.PI?"":(u=[n-s,r-s,n+s,r+s,c,d,f,p],g=l===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',m=h===i?' filled="false"':' fillColor="'+h+'" filled="true" ',v='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+t+'" '+g+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+n+","+r+" wa "+u.join(", ")+' x e">'+" </v:shape>",v)},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],s,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=n("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=r},replaceWithShapes:function(t,e){var i=n("#jqsshape"+t[0]),r="",s=e.length,o;for(o=0;o<s;o++)r+=this["_draw"+e[o].type].apply(this,e[o].args);i[0].outerHTML=r;for(o=1;o<t.length;o++)n("#jqsshape"+t[o]).remove()},insertAfterShape:function(t,e){var i=n("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(t){var e=n("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){var n=t.id.substr(8);return n},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})})(document,Math);!function(t,e,i){"use strict";!function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){var i=e[o][1][t];return r(i?i:t)},u,u.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(n){var r,s,o,a,l=function(t){return t&&t.__esModule?t:{default:t}},h=n("./modules/handle-dom"),u=n("./modules/utils"),c=n("./modules/handle-swal-dom"),d=n("./modules/handle-click"),f=n("./modules/handle-key"),p=l(f),g=n("./modules/default-params"),m=l(g),v=n("./modules/set-params"),y=l(v);o=a=function(){function n(t){var e=o;return e[t]===i?m["default"][t]:e[t]}var o=arguments[0];if(h.addClass(e.body,"stop-scrolling"),c.resetInput(),o===i)return u.logStr("SweetAlert expects at least 1 attribute!"),!1;var l=u.extend({},m["default"]);switch(typeof o){case"string":l.title=o,l.text=arguments[1]||"",l.type=arguments[2]||"";break;case"object":if(o.title===i)return u.logStr('Missing "title" argument!'),!1;l.title=o.title;for(var f in m["default"])l[f]=n(f);l.confirmButtonText=l.showCancelButton?"Confirm":m["default"].confirmButtonText,l.confirmButtonText=n("confirmButtonText"),l.doneFunction=arguments[1]||null;break;default:return u.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof o),!1}y["default"](l),c.fixVerticalPosition(),c.openModal(arguments[1]);for(var g=c.getModal(),v=g.querySelectorAll("button"),b=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],w=function(t){return d.handleButton(t,l,g)},x=0;x<v.length;x++)for(var _=0;_<b.length;_++){var C=b[_];v[x][C]=w}c.getOverlay().onclick=w,r=t.onkeydown;var k=function(t){return p["default"](t,l,g)};t.onkeydown=k,t.onfocus=function(){setTimeout(function(){s!==i&&(s.focus(),s=i)},0)},a.enableButtons()},o.setDefaults=a.setDefaults=function(t){if(!t)throw new Error("userParams is required");if("object"!=typeof t)throw new Error("userParams has to be a object");u.extend(m["default"],t)},o.close=a.close=function(){var n=c.getModal();h.fadeOut(c.getOverlay(),5),h.fadeOut(n,5),h.removeClass(n,"showSweetAlert"),h.addClass(n,"hideSweetAlert"),h.removeClass(n,"visible");var o=n.querySelector(".sa-icon.sa-success");h.removeClass(o,"animate"),h.removeClass(o.querySelector(".sa-tip"),"animateSuccessTip"),h.removeClass(o.querySelector(".sa-long"),"animateSuccessLong");var a=n.querySelector(".sa-icon.sa-error");h.removeClass(a,"animateErrorIcon"),h.removeClass(a.querySelector(".sa-x-mark"),"animateXMark");var l=n.querySelector(".sa-icon.sa-warning");return h.removeClass(l,"pulseWarning"),h.removeClass(l.querySelector(".sa-body"),"pulseWarningIns"),h.removeClass(l.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var t=n.getAttribute("data-custom-class");h.removeClass(n,t)},300),h.removeClass(e.body,"stop-scrolling"),t.onkeydown=r,t.previousActiveElement&&t.previousActiveElement.focus(),s=i,clearTimeout(n.timeout),!0},o.showInputError=a.showInputError=function(t){var e=c.getModal(),i=e.querySelector(".sa-input-error");h.addClass(i,"show");var n=e.querySelector(".sa-error-container");h.addClass(n,"show"),n.querySelector("p").innerHTML=t,setTimeout(function(){o.enableButtons()},1),e.querySelector("input").focus()},o.resetInputError=a.resetInputError=function(t){if(t&&13===t.keyCode)return!1;var e=c.getModal(),i=e.querySelector(".sa-input-error");h.removeClass(i,"show");var n=e.querySelector(".sa-error-container");h.removeClass(n,"show")},o.disableButtons=a.disableButtons=function(){var t=c.getModal(),e=t.querySelector("button.confirm"),i=t.querySelector("button.cancel");e.disabled=!0,i.disabled=!0},o.enableButtons=a.enableButtons=function(){var t=c.getModal(),e=t.querySelector("button.confirm"),i=t.querySelector("button.cancel");e.disabled=!1,i.disabled=!1},"undefined"!=typeof t?t.sweetAlert=t.swal=o:u.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var n={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};i["default"]=n,e.exports=i["default"]},{}],3:[function(e,i,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./utils"),s=(e("./handle-swal-dom"),e("./handle-dom")),o=function(e,i,n){function o(t){p&&i.confirmButtonColor&&(f.style.backgroundColor=t)}var h,u,c,d=e||t.event,f=d.target||d.srcElement,p=-1!==f.className.indexOf("confirm"),g=-1!==f.className.indexOf("sweet-overlay"),m=s.hasClass(n,"visible"),v=i.doneFunction&&"true"===n.getAttribute("data-has-done-function");switch(p&&i.confirmButtonColor&&(h=i.confirmButtonColor,u=r.colorLuminance(h,-.04),c=r.colorLuminance(h,-.14)),d.type){case"mouseover":o(u);break;case"mouseout":o(h);break;case"mousedown":o(c);break;case"mouseup":o(u);break;case"focus":var y=n.querySelector("button.confirm"),b=n.querySelector("button.cancel");p?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var w=n===f,x=s.isDescendant(n,f);if(!w&&!x&&m&&!i.allowOutsideClick)break;p&&v&&m?a(n,i):v&&m||g?l(n,i):s.isDescendant(n,f)&&"BUTTON"===f.tagName&&sweetAlert.close()}},a=function(t,e){var i=!0;s.hasClass(t,"show-input")&&(i=t.querySelector("input").value,i||(i="")),e.doneFunction(i),e.closeOnConfirm&&sweetAlert.close(),e.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(t,e){var i=String(e.doneFunction).replace(/\s/g,""),n="function("===i.substring(0,9)&&")"!==i.substring(9,10);n&&e.doneFunction(!1),e.closeOnCancel&&sweetAlert.close()};n["default"]={handleButton:o,handleConfirm:a,handleCancel:l},i.exports=n["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(i,n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(t,e){return new RegExp(" "+e+" ").test(" "+t.className+" ")},o=function(t,e){s(t,e)||(t.className+=" "+e)},a=function(t,e){var i=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(s(t,e)){for(;i.indexOf(" "+e+" ")>=0;)i=i.replace(" "+e+" "," ");t.className=i.replace(/^\s+|\s+$/g,"")}},l=function(t){var i=e.createElement("div");return i.appendChild(e.createTextNode(t)),i.innerHTML},h=function(t){t.style.opacity="",t.style.display="block"},u=function(t){if(t&&!t.length)return h(t);for(var e=0;e<t.length;++e)h(t[e])},c=function(t){t.style.opacity="",t.style.display="none"},d=function(t){if(t&&!t.length)return c(t);for(var e=0;e<t.length;++e)c(t[e])},f=function(t,e){for(var i=e.parentNode;null!==i;){if(i===t)return!0;i=i.parentNode}return!1},p=function(t){t.style.left="-9999px",t.style.display="block";var e,i=t.clientHeight;return e="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(t).getPropertyValue("padding-top"),10):parseInt(t.currentStyle.padding),t.style.left="",t.style.display="none","-"+parseInt((i+e)/2)+"px"},g=function(t,e){if(+t.style.opacity<1){e=e||16,t.style.opacity=0,t.style.display="block";var i=+new Date,n=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){t.style.opacity=+t.style.opacity+(new Date-i)/100,i=+new Date,+t.style.opacity<1&&setTimeout(n,e)});n()}t.style.display="block"},m=function(t,e){e=e||16,t.style.opacity=1;var i=+new Date,n=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){t.style.opacity=+t.style.opacity-(new Date-i)/100,i=+new Date,+t.style.opacity>0?setTimeout(n,e):t.style.display="none"});n()},v=function(i){if("function"==typeof MouseEvent){var n=new MouseEvent("click",{view:t,bubbles:!1,cancelable:!0});i.dispatchEvent(n)}else if(e.createEvent){var r=e.createEvent("MouseEvents");r.initEvent("click",!1,!1),i.dispatchEvent(r)}else e.createEventObject?i.fireEvent("onclick"):"function"==typeof i.onclick&&i.onclick()},y=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):t.event&&t.event.hasOwnProperty("cancelBubble")&&(t.event.cancelBubble=!0)};r.hasClass=s,r.addClass=o,r.removeClass=a,r.escapeHtml=l,r._show=h,r.show=u,r._hide=c,r.hide=d,r.isDescendant=f,r.getTopMargin=p,r.fadeIn=g,r.fadeOut=m,r.fireClick=v,r.stopEventPropagation=y},{}],5:[function(e,n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=e("./handle-dom"),o=e("./handle-swal-dom"),a=function(e,n,r){var a=e||t.event,l=a.keyCode||a.which,h=r.querySelector("button.confirm"),u=r.querySelector("button.cancel"),c=r.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var d=a.target||a.srcElement,f=-1,p=0;p<c.length;p++)if(d===c[p]){f=p;break}9===l?(d=-1===f?h:f===c.length-1?c[0]:c[f+1],s.stopEventPropagation(a),d.focus(),n.confirmButtonColor&&o.setFocusStyle(d,n.confirmButtonColor)):13===l?("INPUT"===d.tagName&&(d=h,h.focus()),d=-1===f?h:i):27===l&&n.allowEscapeKey===!0?(d=u,s.fireClick(d,a)):d=i}};r["default"]=a,n.exports=r["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(i,n,r){var s=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var o=i("./utils"),a=i("./handle-dom"),l=i("./default-params"),h=s(l),u=i("./injected-html"),c=s(u),d=".sweet-alert",f=".sweet-overlay",p=function(){var t=e.createElement("div");for(t.innerHTML=c["default"];t.firstChild;)e.body.appendChild(t.firstChild)},g=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=e.querySelector(d);return t||(p(),t=g()),t}),m=function(){var t=g();return t?t.querySelector("input"):void 0},v=function(){return e.querySelector(f)},y=function(t,e){var i=o.hexToRgb(e);t.style.boxShadow="0 0 2px rgba("+i+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(i){var n=g();a.fadeIn(v(),10),a.show(n),a.addClass(n,"showSweetAlert"),a.removeClass(n,"hideSweetAlert"),t.previousActiveElement=e.activeElement;var r=n.querySelector("button.confirm");r.focus(),setTimeout(function(){a.addClass(n,"visible")},500);var s=n.getAttribute("data-timer");if("null"!==s&&""!==s){var o=i;n.timeout=setTimeout(function(){var t=(o||null)&&"true"===n.getAttribute("data-has-done-function");t?o(null):sweetAlert.close()},s)}},w=function(){var t=g(),e=m();a.removeClass(t,"show-input"),e.value=h["default"].inputValue,e.setAttribute("type",h["default"].inputType),e.setAttribute("placeholder",h["default"].inputPlaceholder),x()},x=function(t){if(t&&13===t.keyCode)return!1;var e=g(),i=e.querySelector(".sa-input-error");a.removeClass(i,"show");var n=e.querySelector(".sa-error-container");a.removeClass(n,"show")},_=function(){var t=g();t.style.marginTop=a.getTopMargin(g())};r.sweetAlertInitialize=p,r.getModal=g,r.getOverlay=v,r.getInput=m,r.setFocusStyle=y,r.openModal=b,r.resetInput=w,r.resetInputError=x,r.fixVerticalPosition=_},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var n='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';i["default"]=n,e.exports=i["default"]},{}],8:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("./utils"),s=t("./handle-swal-dom"),o=t("./handle-dom"),a=["error","warning","info","success","input","prompt"],l=function(t){var e=s.getModal(),n=e.querySelector("h2"),l=e.querySelector("p"),h=e.querySelector("button.cancel"),u=e.querySelector("button.confirm");if(n.innerHTML=t.html?t.title:o.escapeHtml(t.title).split("\n").join("<br>"),l.innerHTML=t.html?t.text:o.escapeHtml(t.text||"").split("\n").join("<br>"),t.text&&o.show(l),t.customClass)o.addClass(e,t.customClass),e.setAttribute("data-custom-class",t.customClass);else{var c=e.getAttribute("data-custom-class");o.removeClass(e,c),e.setAttribute("data-custom-class","")}if(o.hide(e.querySelectorAll(".sa-icon")),t.type&&!r.isIE8()){var d=function(){for(var n=!1,r=0;r<a.length;r++)if(t.type===a[r]){n=!0;break}if(!n)return logStr("Unknown alert type: "+t.type),{v:!1};var l=["success","error","warning","info"],h=i;-1!==l.indexOf(t.type)&&(h=e.querySelector(".sa-icon.sa-"+t.type),o.show(h));var u=s.getInput();switch(t.type){case"success":o.addClass(h,"animate"),o.addClass(h.querySelector(".sa-tip"),"animateSuccessTip"),o.addClass(h.querySelector(".sa-long"),"animateSuccessLong");break;case"error":o.addClass(h,"animateErrorIcon"),o.addClass(h.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":o.addClass(h,"pulseWarning"),o.addClass(h.querySelector(".sa-body"),"pulseWarningIns"),o.addClass(h.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":u.setAttribute("type",t.inputType),u.value=t.inputValue,u.setAttribute("placeholder",t.inputPlaceholder),o.addClass(e,"show-input"),setTimeout(function(){u.focus(),u.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof d)return d.v}if(t.imageUrl){var f=e.querySelector(".sa-icon.sa-custom");f.style.backgroundImage="url("+t.imageUrl+")",o.show(f);var p=80,g=80;if(t.imageSize){var m=t.imageSize.toString().split("x"),v=m[0],y=m[1];v&&y?(p=v,g=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+t.imageSize)}f.setAttribute("style",f.getAttribute("style")+"width:"+p+"px; height:"+g+"px")}e.setAttribute("data-has-cancel-button",t.showCancelButton),t.showCancelButton?h.style.display="inline-block":o.hide(h),e.setAttribute("data-has-confirm-button",t.showConfirmButton),t.showConfirmButton?u.style.display="inline-block":o.hide(u),t.cancelButtonText&&(h.innerHTML=o.escapeHtml(t.cancelButtonText)),t.confirmButtonText&&(u.innerHTML=o.escapeHtml(t.confirmButtonText)),t.confirmButtonColor&&(u.style.backgroundColor=t.confirmButtonColor,u.style.borderLeftColor=t.confirmLoadingButtonColor,u.style.borderRightColor=t.confirmLoadingButtonColor,s.setFocusStyle(u,t.confirmButtonColor)),e.setAttribute("data-allow-outside-click",t.allowOutsideClick);var b=t.doneFunction?!0:!1;e.setAttribute("data-has-done-function",b),t.animation?"string"==typeof t.animation?e.setAttribute("data-animation",t.animation):e.setAttribute("data-animation","pop"):e.setAttribute("data-animation","none"),e.setAttribute("data-timer",t.timer)};n["default"]=l,e.exports=n["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(e,i,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},s=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null},o=function(){return t.attachEvent&&!t.addEventListener},a=function(e){t.console&&t.console.log("SweetAlert: "+e)},l=function(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var i,n,r="#";for(n=0;3>n;n++)i=parseInt(t.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16),r+=("00"+i).substr(i.length);return r};n.extend=r,n.hexToRgb=s,n.isIE8=o,n.logStr=a,n.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document);!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?i=e:e={};var t,i,n;!function(e){function r(t,e){return w.call(t,e)}function s(t,e){var i,n,r,s,o,a,l,h,u,c,d,f=e&&e.split("/"),p=y.map,g=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(f=f.slice(0,f.length-1),t=t.split("/"),o=t.length-1,y.nodeIdCompat&&_.test(t[o])&&(t[o]=t[o].replace(_,"")),t=f.concat(t),u=0;u<t.length;u+=1)if(d=t[u],"."===d)t.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||g)&&p){for(i=t.split("/"),u=i.length;u>0;u-=1){if(n=i.slice(0,u).join("/"),f)for(c=f.length;c>0;c-=1)if(r=p[f.slice(0,c).join("/")],r&&(r=r[n])){s=r,a=u;break}if(s)break;!l&&g&&g[n]&&(l=g[n],h=u)}!s&&l&&(s=l,a=h),s&&(i.splice(0,a,s),t=i.join("/"))}return t}function o(t,i){return function(){return f.apply(e,x.call(arguments,0).concat([t,i]))}}function a(t){return function(e){return s(e,t)}}function l(t){return function(e){m[t]=e}}function h(t){if(r(v,t)){var i=v[t];delete v[t],b[t]=!0,d.apply(e,i)}if(!r(m,t)&&!r(b,t))throw new Error("No "+t);return m[t]}function u(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function c(t){return function(){return y&&y.config&&y.config[t]||{}}}var d,f,p,g,m={},v={},y={},b={},w=Object.prototype.hasOwnProperty,x=[].slice,_=/\.js$/;p=function(t,e){var i,n=u(t),r=n[0];return t=n[1],r&&(r=s(r,e),i=h(r)),r?t=i&&i.normalize?i.normalize(t,a(e)):s(t,e):(t=s(t,e),n=u(t),r=n[0],t=n[1],r&&(i=h(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:i}},g={require:function(t){return o(t)},exports:function(t){var e=m[t];return"undefined"!=typeof e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:c(t)}}},d=function(t,i,n,s){var a,u,c,d,f,y,w=[],x=typeof n;if(s=s||t,"undefined"===x||"function"===x){for(i=!i.length&&n.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if(d=p(i[f],s),u=d.f,"require"===u)w[f]=g.require(t);else if("exports"===u)w[f]=g.exports(t),y=!0;else if("module"===u)a=w[f]=g.module(t);else if(r(m,u)||r(v,u)||r(b,u))w[f]=h(u);else{if(!d.p)throw new Error(t+" missing "+u);d.p.load(d.n,o(s,!0),l(u),{}),w[f]=m[u]}c=n?n.apply(m[t],w):void 0,t&&(a&&a.exports!==e&&a.exports!==m[t]?m[t]=a.exports:c===e&&y||(m[t]=c))}else t&&(m[t]=n)},t=i=f=function(t,i,n,r,s){if("string"==typeof t)return g[t]?g[t](i):h(p(t,i).f);if(!t.splice){if(y=t,y.deps&&f(y.deps,y.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=r,r=s),r?d(e,t,i,n):setTimeout(function(){d(e,t,i,n)},4),f},f.config=function(t){return f(t)},t._defined=m,n=function(t,e,i){e.splice||(i=e,e=[]),r(m,t)||r(v,t)||(v[t]=[t,e,i])},n.amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=n}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var n in e){var r=e[n];"function"==typeof r&&"constructor"!==n&&i.push(n)}return i}var i={};i.Extend=function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},i.Decorate=function(t,i){function n(){var e=Array.prototype.unshift,n=i.prototype.constructor.length,r=t.prototype.constructor;n>0&&(e.call(arguments,t.prototype.constructor),r=i.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=n}var s=e(i),o=e(t);i.displayName=t.displayName,n.prototype=new r;for(var a=0;a<o.length;a++){var l=o[a];n.prototype[l]=t.prototype[l]}for(var h=function(t){var e=function(){};t in n.prototype&&(e=n.prototype[t]);var r=i.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),r.apply(this,arguments)}},u=0;u<s.length;u++){var c=s[u];n.prototype[c]=h(c)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;n>i;i++)t[i].apply(this,e)},i.Observable=n,i.generateChars=function(t){for(var e="",i=0;t>i;i++){var n=Math.floor(36*Math.random());e+=n.toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var r=0;r<i.length;r++){var s=i[r];s=s.substring(0,1).toLowerCase()+s.substring(1),s in n||(n[s]={}),r==i.length-1&&(n[s]=t[e]),n=n[s]}delete t[e]}}return t},i.hasScroll=function(e,i){var n=t(i),r=i.style.overflowX,s=i.style.overflowY;return r!==s||"hidden"!==s&&"visible"!==s?"scroll"===r||"scroll"===s?!0:n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth:!1},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,function(t){n=n.add(t)}),i=n}e.append(i)},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="treeitem" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);n.append(i(r(e.args))),this.$results.append(n)},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],r=this.option(n);e.push(r)}this.$results.append(e)},i.prototype.position=function(t,e){var i=e.find(".select2-results");i.append(t)},i.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},i.prototype.setClasses=function(){var e=this;this.data.current(function(i){var n=t.map(i,function(t){return t.id.toString()}),r=e.$results.find(".select2-results__option[aria-selected]");r.each(function(){var e=t(this),i=t.data(this,"data"),r=""+i.id;null!=i.element&&i.element.selected||null==i.element&&t.inArray(r,n)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var s=r.filter("[aria-selected=true]");s.length>0?s.first().trigger("mouseenter"):r.first().trigger("mouseenter")})},i.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(i.id=e._resultId),e.title&&(i.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]);for(var r in n){var s=n[r];i.setAttribute(r,s)}if(e.children){var o=t(i),a=document.createElement("strong");a.className="select2-results__group";{t(a)}this.template(e,a);for(var l=[],h=0;h<e.children.length;h++){var u=e.children[h],c=this.option(u);l.push(c)}var d=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});d.append(l),o.append(a),o.append(d)}else this.template(e,i);return t.data(i,"data",e),i},i.prototype.bind=function(e){var i=this,n=e.id+"-results";this.$results.attr("id",n),e.on("results:all",function(t){i.clear(),i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("results:append",function(t){i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("query",function(t){i.showLoading(t)}),e.on("select",function(){e.isOpen()&&i.setClasses()}),e.on("unselect",function(){e.isOpen()&&i.setClasses()}),e.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),e.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?i.trigger("close"):i.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var r=n-1;0===t.length&&(r=0);var s=e.eq(r);s.trigger("mouseenter");var o=i.$results.offset().top,a=s.offset().top,l=i.$results.scrollTop()+(a-o);0===r?i.$results.scrollTop(0):0>a-o&&i.$results.scrollTop(l)}}),e.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t),r=n+1;if(!(r>=e.length)){var s=e.eq(r);s.trigger("mouseenter");var o=i.$results.offset().top+i.$results.outerHeight(!1),a=s.offset().top+s.outerHeight(!1),l=i.$results.scrollTop()+a-o;0===r?i.$results.scrollTop(0):a>o&&i.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-i.$results.scrollTop()+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,s=t.deltaY<0&&n<=i.$results.height();r?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):s&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var n=t(this),r=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:e,data:r}):i.trigger("close")):void i.trigger("select",{originalEvent:e,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:e,element:t(this)})})},i.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),n=this.$results.offset().top,r=t.offset().top,s=this.$results.scrollTop()+(r-n),o=r-n;s-=2*t.outerHeight(!1),2>=i?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(s)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),s=n(e);null==s?i.style.display="none":"string"==typeof s?i.innerHTML=r(s):t(i).append(s)},i}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},n.prototype.bind=function(t){var e=this,n=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e.trigger("blur",t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",n),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},n.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var i=t(e.target),n=i.closest(".select2"),r=t(".select2.select2-container--open");r.each(function(){var e=t(this);if(this!=n[0]){var i=e.data("element");i.select2("close")}})})},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){var i=e.find(".selection");i.append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i){function n(){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},n.prototype.bind=function(t){var e=this;n.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("selection:update",function(t){e.update(t.data)})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t){var e=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(e(t))},n.prototype.selectionContainer=function(){return t("<span></span>")},n.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.display(e),n=this.$selection.find(".select2-selection__rendered");n.empty().append(i),n.prop("title",e.title||e.text)},n}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function n(){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(){var e=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(i){var n=t(this),r=n.parent(),s=r.data("data");e.trigger("unselect",{originalEvent:i,data:s})})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t){var e=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(e(t))},n.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var r=t[n],s=this.display(r),o=this.selectionContainer();o.append(s),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");i.appendMany(a,e)}},n}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id,n=e.length>1;if(n||i)return t.call(this,e);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function i(){}return i.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),r=0;r<n.length;r++){var s={data:n[r]};if(this.trigger("unselect",s),s.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},i.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||(i.which==e.DELETE||i.which==e.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=t('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return n},n.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus()}),e.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val(""),r.$search.focus()}),e.on("enable",function(){r.$search.prop("disabled",!1)}),e.on("disable",function(){r.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r.trigger("blur",t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===i.BACKSPACE&&""===r.$search.val()){var n=r.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var s=n.data("data");r.searchRemoveChoice(s),t.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(){r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(t){r.handleSearch(t)})},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.trigger("open"),this.$search.val(e.text+" ")},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},n}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,n){var r=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];e.call(this,i,n),i.on("*",function(e,i){if(-1!==t.inArray(e,s)){i=i||{};var n=t.Event("select2:"+e,{params:i});r.$element.trigger(n),-1!==t.inArray(e,o)&&(i.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){var t={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return t}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),n+=null!=i.id?"-"+i.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=i(this),r=n.item(t);e.push(r)}),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var r=[];t=[t],t.push.apply(t,n);for(var s=0;s<t.length;s++){var o=t[s].id;-1===i.inArray(o,r)&&r.push(o)}e.$element.val(r),e.$element.trigger("change")});else{var n=t.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,i(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(n){for(var r=[],s=0;s<n.length;s++){var o=n[s].id;o!==t.id&&-1===i.inArray(o,r)&&r.push(o)}e.$element.val(r),e.$element.trigger("change")})},n.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(t,e){var n=[],r=this,s=this.$element.children();s.each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var s=r.item(e),o=r.matches(t,s);null!==o&&n.push(o)}}),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=i(e),r=this._normalizeItem(t);return r.element=e,i.data(e,"data",r),n},n.prototype.item=function(t){var e={};if(e=i.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),r=[],s=0;s<n.length;s++){var o=i(n[s]),a=this.item(o);r.push(a)}e.children=r}return e=this._normalizeItem(e),e.element=t[0],i.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){i.isPlainObject(t)||(t={id:t,text:t}),t=i.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},n.prototype.matches=function(t,e){var i=this.options.get("matcher");return i(t,e)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return e.Extend(n,t),n.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){function n(t){return function(){return i(this).val()==t.id}}for(var r=this,s=this.$element.find("option"),o=s.map(function(){return r.item(i(this)).id}).get(),a=[],l=0;l<t.length;l++){var h=this._normalizeItem(t[l]);if(i.inArray(h.id,o)>=0){var u=s.filter(n(h)),c=this.item(u),d=(i.extend(!0,{},c,h),this.option(c));u.replaceWith(d)}else{var f=this.option(h);if(h.children){var p=this.convertToOptions(h.children);e.appendMany(f,p)}a.push(f)}}return a},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function n(e,i){this.ajaxOptions=this._applyDefaults(i.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),t.__super__.constructor.call(this,e,i)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return{q:t.term}},transport:function(t,e,n){var r=i.ajax(t);return r.then(e),r.fail(n),r}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){function n(){var n=s.transport(s,function(n){var s=r.processResults(n,t);r.options.get("debug")&&window.console&&console.error&&(s&&s.results&&i.isArray(s.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(s)},function(){});r._request=n}var r=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var s=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof s.url&&(s.url=s.url(t)),"function"==typeof s.data&&(s.data=s.data(t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,n){var r=n.get("tags"),s=n.get("createTag");if(void 0!==s&&(this.createTag=s),e.call(this,i,n),t.isArray(r))for(var o=0;o<r.length;o++){var a=r[o],l=this._normalizeItem(a),h=this.option(l);this.$element.append(h)}}return e.prototype.query=function(t,e,i){function n(t,s){for(var o=t.results,a=0;a<o.length;a++){var l=o[a],h=null!=l.children&&!n({results:l.children},!0),u=l.text===e.term;if(u||h)return s?!1:(t.data=o,void i(t))}if(s)return!0;var c=r.createTag(e);if(null!=c){var d=r.option(c);d.attr("data-select2-tag",!0),r.addOptions([d]),r.insertTag(o,c)}t.results=o,i(t)}var r=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,i):void t.call(this,e,n)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(){var e=(this._lastTag,this.$element.find("option[data-select2-tag]"));e.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(t,e,i){function n(t){r.select(t)}var r=this;e.term=e.term||"";var s=this.tokenizer(e,this.options,n);s.term!==e.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),e.term=s.term),t.call(this,e,i)},e.prototype.tokenizer=function(e,i,n,r){for(var s=n.get("tokenSeparators")||[],o=i.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<o.length;){var h=o[a];if(-1!==t.inArray(h,s)){var u=o.substr(0,a),c=t.extend({},i,{term:u}),d=l(c);r(d),o=o.substr(a+1)||"",a=0}else a++}return{term:o}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){var n=this;this.current(function(r){var s=null!=r?r.length:0;return n.maximumSelectionLength>0&&s>=n.maximumSelectionLength?void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):void t.call(n,e,i)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},e.prototype.bind=function(e,i,n){var r=this;e.call(this,i,n),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),i.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),i.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),i.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=r.showSearch(t);e?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide")}})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var r=e[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,i,n){var r=this;e.call(this,i,n),i.on("query",function(t){r.lastParams=t,r.loading=!0}),i.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);if(!r.loading&&e){var i=r.$results.offset().top+r.$results.outerHeight(!1),n=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1);i+50>=n&&r.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="option load-more" role="treeitem"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(t,e,i){this.$dropdownParent=i.get("dropdownParent")||document.body,t.call(this,e,i)}return i.prototype.bind=function(t,e,i){var n=this,r=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i){var n=this,r="scroll.select2."+i.id,s="resize.select2."+i.id,o="orientationchange.select2."+i.id,a=this.$container.parents().filter(e.hasScroll);a.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),a.on(r,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(r+" "+s+" "+o,function(){n._positionDropdown(),n._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i){var n="scroll.select2."+i.id,r="resize.select2."+i.id,s="orientationchange.select2."+i.id,o=this.$container.parents().filter(e.hasScroll);o.off(n),t(window).off(n+" "+r+" "+s)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),r=null,s=(this.$container.position(),this.$container.offset());s.bottom=s.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=s.top,o.bottom=s.top+o.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},h=l.top<s.top-a.height,u=l.bottom>s.bottom+a.height,c={left:s.left,top:o.bottom};i||n||(r="below"),u||!h||i?!h&&u&&i&&(r="below"):r="above",("above"==r||i&&"below"!==r)&&(c.top=o.top-a.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(c)},i.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,n=0;n<e.length;n++){var r=e[n];r.children?i+=t(r.children):i++}return i}function e(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return e.prototype.showSearch=function(e,i){return t(i.data.results)<this.minimumResultsForSearch?!1:e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(){n._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();t.length<1||this.trigger("select",{data:t.data("data")})},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close")},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){var e=t.minimum-t.input.length,i="Please enter "+e+" or more characters";return i},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,n,r,s,o,a,l,h,u,c,d,f,p,g,m,v,y,b,w,x,_,C,k,S,T,D,M){function P(){this.reset()}P.prototype.apply=function(c){if(c=t.extend({},this.defaults,c),null==c.dataAdapter){if(c.dataAdapter=null!=c.ajax?p:null!=c.data?f:d,c.minimumInputLength>0&&(c.dataAdapter=h.Decorate(c.dataAdapter,v)),c.maximumInputLength>0&&(c.dataAdapter=h.Decorate(c.dataAdapter,y)),c.maximumSelectionLength>0&&(c.dataAdapter=h.Decorate(c.dataAdapter,b)),c.tags&&(c.dataAdapter=h.Decorate(c.dataAdapter,g)),(null!=c.tokenSeparators||null!=c.tokenizer)&&(c.dataAdapter=h.Decorate(c.dataAdapter,m)),null!=c.query){var M=e(c.amdBase+"compat/query");c.dataAdapter=h.Decorate(c.dataAdapter,M)}if(null!=c.initSelection){var P=e(c.amdBase+"compat/initSelection");c.dataAdapter=h.Decorate(c.dataAdapter,P)}}if(null==c.resultsAdapter&&(c.resultsAdapter=i,null!=c.ajax&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,C)),null!=c.placeholder&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,_)),c.selectOnClose&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,T))),null==c.dropdownAdapter){if(c.multiple)c.dropdownAdapter=w;else{var E=h.Decorate(w,x);c.dropdownAdapter=E}if(0!==c.minimumResultsForSearch&&(c.dropdownAdapter=h.Decorate(c.dropdownAdapter,S)),c.closeOnSelect&&(c.dropdownAdapter=h.Decorate(c.dropdownAdapter,D)),null!=c.dropdownCssClass||null!=c.dropdownCss||null!=c.adaptDropdownCssClass){var I=e(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=h.Decorate(c.dropdownAdapter,I)}c.dropdownAdapter=h.Decorate(c.dropdownAdapter,k)}if(null==c.selectionAdapter){if(c.selectionAdapter=c.multiple?r:n,null!=c.placeholder&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,s)),c.allowClear&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,o)),c.multiple&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,a)),null!=c.containerCssClass||null!=c.containerCss||null!=c.adaptContainerCssClass){var A=e(c.amdBase+"compat/containerCss");c.selectionAdapter=h.Decorate(c.selectionAdapter,A)}c.selectionAdapter=h.Decorate(c.selectionAdapter,l)}if("string"==typeof c.language)if(c.language.indexOf("-")>0){var H=c.language.split("-"),R=H[0];c.language=[c.language,R]}else c.language=[c.language];if(t.isArray(c.language)){var L=new u;c.language.push("en");for(var F=c.language,$=0;$<F.length;$++){var z=F[$],N={};try{N=u.loadPath(z)}catch(t){try{z=this.defaults.amdLanguageBase+z,N=u.loadPath(z)}catch(t){c.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+z+'" could not be automatically loaded. A fallback will be used instead.');continue}}L.extend(N)}c.translations=L}else{var O=u.loadPath(this.defaults.amdLanguageBase+"en"),B=new u(c.language);B.extend(O),c.translations=B}return c},P.prototype.reset=function(){function e(t){function e(t){return c[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(n,r){if(""===t.trim(n.term))return r;if(r.children&&r.children.length>0){for(var s=t.extend(!0,{},r),o=r.children.length-1;o>=0;o--){var a=r.children[o],l=i(n,a);null==l&&s.children.splice(o,1)}return s.children.length>0?s:i(n,s)}var h=e(r.text).toUpperCase(),u=e(n.term).toUpperCase();return h.indexOf(u)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:M,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},P.prototype.set=function(e,i){var n=t.camelCase(e),r={};r[n]=i;var s=h._convertData(r);t.extend(this.defaults,s)};var E=new P;return E}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,n){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=i.apply(this.options),r&&r.is("input")){var s=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,s)}}return r.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=t.prop("dir")?t.prop("dir"):t.closest("[dir]").prop("dir")?t.closest("[dir]").prop("dir"):"ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r={};r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var s=e.extend(!0,{},r);s=n._convertData(s);for(var o in s)e.inArray(o,i)>-1||(e.isPlainObject(this.options[o])?e.extend(this.options[o],s[o]):this.options[o]=s[o]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,n){var r=function(t,i){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),r.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(t,this.options);var o=this.render();this._placeContainer(o);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var h=this.options.get("resultsAdapter");this.results=new h(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(r,i.Observable),r.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e="select2-"+e},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return 0>=r?"auto":r+"px"}if("style"==e){var s=t.attr("style");if("string"!=typeof s)return null;for(var o=s.split(";"),a=0,l=o.length;l>a;a+=1){var h=o[a].replace(/\s/g,""),u=h.match(i);if(null!==u&&u.length>=1)return u[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){t.each(i,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},r.prototype._registerSelectionEvents=function(){var e=this,i=["toggle"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("*",function(n,r){-1===t.inArray(n,i)&&e.trigger(n,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("focus",function(){t.$container.addClass("select2-container--focus")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open"),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===n.ENTER?(t.trigger("results:select"),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle"),e.preventDefault()):i===n.UP?(t.trigger("results:previous"),e.preventDefault()):i===n.DOWN?(t.trigger("results:next"),e.preventDefault()):(i===n.ESC||i===n.TAB)&&(t.close(),e.preventDefault()):(i===n.ENTER||i===n.SPACE||(i===n.DOWN||i===n.UP)&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},r.prototype.trigger=function(t,e){var i=r.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(t in n){var s=n[t],o={prevented:!1,name:t,args:e};if(i.call(this,s,o),o.prevented)return void(e.prevented=!0)}i.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},r.prototype.close=function(){this.isOpen()&&this.trigger("close")},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},r}),e.define("select2/compat/utils",["jquery"],function(t){function e(e,i,n){var r,s,o=[];r=t.trim(e.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&o.push(this)})),r=t.trim(i.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(s=n(this),null!=s&&o.push(s))})),e.attr("class",o.join(" "))}return{syncCssClasses:e}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function i(){return null}function n(){}return n.prototype.render=function(n){var r=n.call(this),s=this.options.get("containerCssClass")||"";t.isFunction(s)&&(s=s(this.$element));var o=this.options.get("adaptContainerCssClass");if(o=o||i,-1!==s.indexOf(":all:")){s=s.replace(":all","");var a=o;o=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,o),r.css(l),r.addClass(s),r},n}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function i(){return null}function n(){}return n.prototype.render=function(n){var r=n.call(this),s=this.options.get("dropdownCssClass")||"";t.isFunction(s)&&(s=s(this.$element));var o=this.options.get("adaptDropdownCssClass");if(o=o||i,-1!==s.indexOf(":all:")){s=s.replace(":all","");var a=o;o=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,o),r.css(l),r.addClass(s),r},n}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,t.call(this,e,i)}return e.prototype.current=function(e,i){var n=this;return this._isInitialized?void e.call(this,i):void this.initSelection.call(null,this.$element,function(e){n._isInitialized=!0,t.isArray(e)||(e=[e]),i(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(t){function e(t,e,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===e.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,i)}return e.prototype.current=function(e,i){function n(e,i){var r=[];return e.selected||-1!==t.inArray(e.id,i)?(e.selected=!0,r.push(e)):e.selected=!1,e.children&&r.push.apply(r,n(e.children,i)),r}for(var r=[],s=0;s<this._currentData.length;s++){var o=this._currentData[s];r.push.apply(r,n(o,this.$element.val().split(this._valueSeparator)))}i(r)},e.prototype.select=function(e,i){if(this.options.get("multiple")){var n=this.$element.val();n+=this._valueSeparator+i.id,this.$element.val(n),this.$element.trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},e.prototype.unselect=function(t,e){var i=this;e.selected=!1,this.current(function(t){for(var n=[],r=0;r<t.length;r++){var s=t[r];e.id!=s.id&&n.push(s.id)}i.$element.val(n.join(i._valueSeparator)),i.$element.trigger("change")})},e.prototype.query=function(t,e,i){for(var n=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r],o=this.matches(e,s);null!==o&&n.push(o)}i({results:n})},e.prototype.addOptions=function(e,i){var n=t.map(i,function(e){return t.data(e[0],"data")});this._currentData.push.apply(this._currentData,n)},e}),e.define("select2/compat/matcher",["jquery"],function(t){function e(e){function i(i,n){var r=t.extend(!0,{},n);if(null==i.term||""===t.trim(i.term))return r;if(n.children){for(var s=n.children.length-1;s>=0;s--){var o=n.children[s],a=e(i.term,o.text,o);a||r.children.splice(s,1)}if(r.children.length>0)return r}return e(i.term,n.text,n)?r:null}return i}return e}),e.define("select2/compat/query",[],function(){function t(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.callback=i;var n=this.options.get("query");n.call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,i){t.call(this,e,i)}return t.prototype.position=function(t,e,i){var n=i.find(".dropdown-wrapper");n.append(e),e.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(n.join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(n.join(" "),function(t){t.stopPropagation()})},t}),e.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(t,e,i,n){if(e("jquery.mousewheel"),null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){{var n=t.extend({},e,!0);new i(t(this),n)}}),this;if("string"==typeof e){var n=this.data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var s=Array.prototype.slice.call(arguments,1),o=n[e](s);return t.inArray(e,r)>-1?this:o}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i}),function(i){"function"==typeof e.define&&e.define.amd?e.define("jquery.mousewheel",["jquery"],i):"object"==typeof exports?module.exports=i:i(t)}(function(t){function e(e){var o=e||window.event,a=l.call(arguments,1),h=0,c=0,d=0,f=0,p=0,g=0;if(e=t.event.fix(o),e.type="mousewheel","detail"in o&&(d=-1*o.detail),"wheelDelta"in o&&(d=o.wheelDelta),"wheelDeltaY"in o&&(d=o.wheelDeltaY),"wheelDeltaX"in o&&(c=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(c=-1*d,d=0),h=0===d?c:d,"deltaY"in o&&(d=-1*o.deltaY,h=d),"deltaX"in o&&(c=o.deltaX,0===d&&(h=-1*c)),0!==d||0!==c){if(1===o.deltaMode){var m=t.data(this,"mousewheel-line-height");h*=m,d*=m,c*=m}else if(2===o.deltaMode){var v=t.data(this,"mousewheel-page-height");h*=v,d*=v,c*=v}if(f=Math.max(Math.abs(d),Math.abs(c)),(!s||s>f)&&(s=f,n(o,f)&&(s/=40)),n(o,f)&&(h/=40,c/=40,d/=40),h=Math[h>=1?"floor":"ceil"](h/s),c=Math[c>=1?"floor":"ceil"](c/s),d=Math[d>=1?"floor":"ceil"](d/s),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=e.clientX-y.left,g=e.clientY-y.top}return e.deltaX=c,e.deltaY=d,e.deltaFactor=s,e.offsetX=p,e.offsetY=g,e.deltaMode=0,a.unshift(e,h,c,d),r&&clearTimeout(r),r=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function i(){s=null}function n(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var r,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var h=o.length;h;)t.event.fixHooks[o[--h]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i});!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function($){"use strict";var func=function(){var t=function(t){return function(e){return t===e}},e=function(t,e){return t===e},i=function(t){return function(e,i){return e[t]===i[t]}},n=function(){return!0},r=function(){return!1},s=function(t){return function(){return!t.apply(t,arguments)}},o=function(t,e){return function(i){return t(i)&&e(i)}},a=function(t){return t},l=function(t,e){return function(){return t[e].apply(t,arguments)}},h=0,u=function(t){var e=++h+"";return t?t+e:e},c=function(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},d=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e},f=function(t,e){return e=e||"",e+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")},p=function(t,e,i){var n;return function(){var r=this,s=arguments,o=function(){n=null,i||t.apply(r,s)},a=i&&!n;clearTimeout(n),n=setTimeout(o,e),a&&t.apply(r,s)}};return{eq:t,eq2:e,peq2:i,ok:n,fail:r,self:a,not:s,and:o,invoke:l,uniqueId:u,rect2bnd:c,invertObject:d,namespaceToCamel:f,debounce:p}}(),list=function(){var t=function(t){return t[0]},e=function(t){return t[t.length-1]},i=function(t){return t.slice(0,t.length-1)},n=function(t){return t.slice(1)},r=function(t,e){for(var i=0,n=t.length;n>i;i++){var r=t[i];if(e(r))return r}},s=function(t,e){for(var i=0,n=t.length;n>i;i++)if(!e(t[i]))return!1;return!0},o=function(t,e){return $.inArray(e,t)},a=function(t,e){return-1!==o(t,e)},l=function(t,e){return e=e||func.self,t.reduce(function(t,i){return t+e(i)},0)},h=function(t){for(var e=[],i=-1,n=t.length;++i<n;)e[i]=t[i];return e},u=function(t){return!t||!t.length},c=function(i,r){if(!i.length)return[];var s=n(i);return s.reduce(function(t,i){var n=e(t);return r(e(n),i)?n[n.length]=i:t[t.length]=[i],t},[[t(i)]])},d=function(t){for(var e=[],i=0,n=t.length;n>i;i++)t[i]&&e.push(t[i]);return e},f=function(t){for(var e=[],i=0,n=t.length;n>i;i++)a(e,t[i])||e.push(t[i]);return e},p=function(t,e){var i=o(t,e);return-1===i?null:t[i+1]},g=function(t,e){var i=o(t,e);return-1===i?null:t[i-1]};return{head:t,last:e,initial:i,tail:n,prev:g,next:p,find:r,contains:a,all:s,sum:l,from:h,isEmpty:u,clusterBy:c,compact:d,unique:f}}(),isSupportAmd="function"==typeof define&&define.amd,isFontInstalled=function(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",i=$("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),n=i.css("fontFamily",e).width(),r=i.css("fontFamily",t+","+e).width();return i.remove(),n!==r},userAgent=navigator.userAgent,isMSIE=/MSIE|Trident/i.test(userAgent),browserVersion;if(isMSIE){var matches=/MSIE (\d+[.]\d+)/.exec(userAgent);matches&&(browserVersion=parseFloat(matches[1])),matches=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(userAgent),matches&&(browserVersion=parseFloat(matches[1]))}var isEdge=/Edge\/\d+/.test(userAgent),hasCodeMirror=!!window.CodeMirror;if(!hasCodeMirror&&isSupportAmd&&"undefined"!=typeof require)if("undefined"!=typeof require.resolve)try{require.resolve("codemirror"),hasCodeMirror=!0}catch(t){}else"undefined"!=typeof eval("require").specified&&(hasCodeMirror=eval("require").specified("codemirror"));var agent={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:isMSIE,isEdge:isEdge,isFF:!isEdge&&/firefox/i.test(userAgent),isPhantom:/PhantomJS/i.test(userAgent),isWebkit:!isEdge&&/webkit/i.test(userAgent),isChrome:!isEdge&&/chrome/i.test(userAgent),isSafari:!isEdge&&/safari/i.test(userAgent),browserVersion:browserVersion,jqueryVersion:parseFloat($.fn.jquery),isSupportAmd:isSupportAmd,hasCodeMirror:hasCodeMirror,isFontInstalled:isFontInstalled,isW3CRangeSupport:!!document.createRange},NBSP_CHAR=String.fromCharCode(160),ZERO_WIDTH_NBSP_CHAR="\ufeff",dom=function(){var t=function(t){return t&&$(t).hasClass("note-editable")},e=function(t){return t&&$(t).hasClass("note-control-sizing")},i=function(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}},n=function(t){return t&&3===t.nodeType},r=function(t){return t&&1===t.nodeType},s=function(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(t.nodeName.toUpperCase())},o=function(e){return t(e)?!1:e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())},a=function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},l=i("PRE"),h=i("LI"),u=function(t){return o(t)&&!h(t)},c=i("TABLE"),d=i("DATA"),f=function(t){return!(y(t)||p(t)||g(t)||o(t)||c(t)||v(t)||d(t))},p=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},g=i("HR"),m=function(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())},v=i("BLOCKQUOTE"),y=function(e){return m(e)||v(e)||t(e)},b=i("A"),w=function(t){return f(t)&&!!P(t,o)},x=function(t){return f(t)&&!P(t,o)},_=i("BODY"),C=function(t,e){return t.nextSibling===e||t.previousSibling===e},k=function(t,e){e=e||func.ok;var i=[];return t.previousSibling&&e(t.previousSibling)&&i.push(t.previousSibling),i.push(t),t.nextSibling&&e(t.nextSibling)&&i.push(t.nextSibling),i},S=agent.isMSIE&&agent.browserVersion<11?"&nbsp;":"<br>",T=function(t){return n(t)?t.nodeValue.length:t?t.childNodes.length:0},D=function(t){var e=T(t);return 0===e?!0:n(t)||1!==e||t.innerHTML!==S?list.all(t.childNodes,n)&&""===t.innerHTML?!0:!1:!0},M=function(t){s(t)||T(t)||(t.innerHTML=S)},P=function(e,i){for(;e;){if(i(e))return e;if(t(e))break;e=e.parentNode}return null},E=function(e,i){for(e=e.parentNode;e&&1===T(e);){if(i(e))return e;if(t(e))break;e=e.parentNode}return null},I=function(e,i){i=i||func.fail;var n=[];return P(e,function(e){return t(e)||n.push(e),i(e)}),n},A=function(t,e){var i=I(t);return list.last(i.filter(e))},H=function(t,e){for(var i=I(t),n=e;n;n=n.parentNode)if($.inArray(n,i)>-1)return n;return null},R=function(t,e){e=e||func.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.previousSibling;return i},L=function(t,e){e=e||func.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.nextSibling;return i},F=function(t,e){var i=[];return e=e||func.ok,function n(r){t!==r&&e(r)&&i.push(r);for(var s=0,o=r.childNodes.length;o>s;s++)n(r.childNodes[s])}(t),i},z=function(t,e){var i=t.parentNode,n=$("<"+e+">")[0];return i.insertBefore(n,t),n.appendChild(t),n},N=function(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t},O=function(t,e){return $.each(e,function(e,i){t.appendChild(i)}),t},B=function(t){return 0===t.offset},W=function(t){return t.offset===T(t.node)},j=function(t){return B(t)||W(t)},q=function(t,e){for(;t&&t!==e;){if(0!==G(t))return!1;t=t.parentNode}return!0},Y=function(t,e){if(!e)return!1;for(;t&&t!==e;){if(G(t)!==T(t.parentNode)-1)return!1;t=t.parentNode}return!0},U=function(t,e){return B(t)&&q(t.node,e)},V=function(t,e){return W(t)&&Y(t.node,e)},G=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},X=function(t){return!!(t&&t.childNodes&&t.childNodes.length)},K=function(e,i){var n,r;if(0===e.offset){if(t(e.node))return null;n=e.node.parentNode,r=G(e.node)}else X(e.node)?(n=e.node.childNodes[e.offset-1],r=T(n)):(n=e.node,r=i?0:e.offset-1);return{node:n,offset:r}},Q=function(e,i){var n,r;if(T(e.node)===e.offset){if(t(e.node))return null;n=e.node.parentNode,r=G(e.node)+1}else X(e.node)?(n=e.node.childNodes[e.offset],r=0):(n=e.node,r=i?T(e.node):e.offset+1);return{node:n,offset:r}},Z=function(t,e){return t.node===e.node&&t.offset===e.offset},J=function(t){if(n(t.node)||!X(t.node)||D(t.node))return!0;var e=t.node.childNodes[t.offset-1],i=t.node.childNodes[t.offset];return e&&!s(e)||i&&!s(i)?!1:!0},tt=function(t,e){for(;t;){if(e(t))return t;t=K(t)}return null},et=function(t,e){for(;t;){if(e(t))return t;t=Q(t)}return null},it=function(t){if(!n(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==NBSP_CHAR},nt=function(t,e,i,n){for(var r=t;r&&(i(r),!Z(r,e));){var s=n&&t.node!==r.node&&e.node!==r.node;r=Q(r,s)}},rt=function(t,e){var i=I(e,func.eq(t));return i.map(G).reverse()},st=function(t,e){for(var i=t,n=0,r=e.length;r>n;n++)i=i.childNodes.length<=e[n]?i.childNodes[i.childNodes.length-1]:i.childNodes[e[n]];return i},ot=function(t,e){var i=e&&e.isSkipPaddingBlankHTML,r=e&&e.isNotSplitEdgePoint;if(j(t)&&(n(t.node)||r)){if(B(t))return t.node;if(W(t))return t.node.nextSibling}if(n(t.node))return t.node.splitText(t.offset);var s=t.node.childNodes[t.offset],o=N(t.node.cloneNode(!1),t.node);return O(o,L(s)),i||(M(t.node),M(o)),o},at=function(t,e,i){var n=I(e.node,func.eq(t));return n.length?1===n.length?ot(e,i):n.reduce(function(t,n){return t===e.node&&(t=ot(e,i)),ot({node:n,offset:t?dom.position(t):T(n)},i)}):null},lt=function(t,e){var i,n,r=e?o:y,s=I(t.node,r),a=list.last(s)||t.node;r(a)?(i=s[s.length-2],n=a):(i=a,n=i.parentNode);var l=i&&at(i,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return l||n!==t.node||(l=t.node.childNodes[t.offset]),{rightNode:l,container:n}},ht=function(t){return document.createElement(t)},ut=function(t){return document.createTextNode(t)},ct=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var i=t.parentNode;if(!e){var n,r,s=[];for(n=0,r=t.childNodes.length;r>n;n++)s.push(t.childNodes[n]);for(n=0,r=s.length;r>n;n++)i.insertBefore(s[n],t)}i.removeChild(t)}},dt=function(e,i){for(;e&&!t(e)&&i(e);){var n=e.parentNode;ct(e),e=n}},ft=function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var i=ht(e);return t.style.cssText&&(i.style.cssText=t.style.cssText),O(i,list.from(t.childNodes)),N(i,t),ct(t),i},pt=i("TEXTAREA"),gt=function(t,e){var i=pt(t[0])?t.val():t.html();return e?i.replace(/[\n\r]/g,""):i},mt=function(t,e){var i=gt(t);if(e){var n=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(n,function(t,e,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!e,r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return t+(n||r?"\n":"")}),i=$.trim(i)}return i},vt=function(t){var e=$(t),i=e.offset(),n=e.outerHeight(!0);return{left:i.left,top:i.top+n}},yt=function(t,e){Object.keys(e).forEach(function(i){t.on(i,e[i])})},bt=function(t,e){Object.keys(e).forEach(function(i){t.off(i,e[i])})};return{NBSP_CHAR:NBSP_CHAR,ZERO_WIDTH_NBSP_CHAR:ZERO_WIDTH_NBSP_CHAR,blank:S,emptyPara:"<p>"+S+"</p>",makePredByNodeName:i,isEditable:t,isControlSizing:e,isText:n,isElement:r,isVoid:s,isPara:o,isPurePara:u,isHeading:a,isInline:f,isBlock:func.not(f),isBodyInline:x,isBody:_,isParaInline:w,isPre:l,isList:p,isTable:c,isData:d,isCell:m,isBlockquote:v,isBodyContainer:y,isAnchor:b,isDiv:i("DIV"),isLi:h,isBR:i("BR"),isSpan:i("SPAN"),isB:i("B"),isU:i("U"),isS:i("S"),isI:i("I"),isImg:i("IMG"),isTextarea:pt,isEmpty:D,isEmptyAnchor:func.and(b,D),isClosestSibling:C,withClosestSiblings:k,nodeLength:T,isLeftEdgePoint:B,isRightEdgePoint:W,isEdgePoint:j,isLeftEdgeOf:q,isRightEdgeOf:Y,isLeftEdgePointOf:U,isRightEdgePointOf:V,prevPoint:K,nextPoint:Q,isSamePoint:Z,isVisiblePoint:J,prevPointUntil:tt,nextPointUntil:et,isCharPoint:it,walkPoint:nt,ancestor:P,singleChildAncestor:E,listAncestor:I,lastAncestor:A,listNext:L,listPrev:R,listDescendant:F,commonAncestor:H,wrap:z,insertAfter:N,appendChildNodes:O,position:G,hasChildren:X,makeOffsetPath:rt,fromOffsetPath:st,splitTree:at,splitPoint:lt,create:ht,createText:ut,remove:ct,removeWhile:dt,replace:ft,html:mt,value:gt,posFromPlaceholder:vt,attachEvents:yt,detachEvents:bt}}(),Context=function(t,e){var i=this,n=$.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=e,this.initialize=function(){return this.layoutInfo=n.createLayout(t,e),this._initialize(),t.hide(),this},this.destroy=function(){this._destroy(),t.removeData("summernote"),n.removeLayout(t,this.layoutInfo)},this.reset=function(){var t=i.isDisabled();this.code(dom.emptyPara),this._destroy(),this._initialize(),t&&i.disable()},this._initialize=function(){var t=$.extend({},this.options.buttons);Object.keys(t).forEach(function(e){i.memo("button."+e,t[e])});var e=$.extend({},this.options.modules,$.summernote.plugins||{});Object.keys(e).forEach(function(t){i.module(t,e[t],!0)}),Object.keys(this.modules).forEach(function(t){i.initializeModule(t)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(t){i.removeModule(t)}),Object.keys(this.memos).forEach(function(t){i.removeMemo(t)})},this.code=function(e){var i=this.invoke("codeview.isActivated");return void 0===e?(this.invoke("codeview.sync"),i?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(i?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),t.val(e),this.triggerEvent("change",e),void 0)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var e=list.head(arguments),i=list.tail(list.from(arguments)),n=this.options.callbacks[func.namespaceToCamel(e,"on")];n&&n.apply(t[0],i),t.trigger("summernote."+e,i)},this.initializeModule=function(e){var i=this.modules[e];i.shouldInitialize=i.shouldInitialize||func.ok,i.shouldInitialize()&&(i.initialize&&i.initialize(),i.events&&dom.attachEvents(t,i.events))},this.module=function(t,e,i){return 1===arguments.length?this.modules[t]:(this.modules[t]=new e(this),void(i||this.initializeModule(t)))},this.removeModule=function(e){var i=this.modules[e];i.shouldInitialize()&&(i.events&&dom.detachEvents(t,i.events),i.destroy&&i.destroy()),delete this.modules[e]},this.memo=function(t,e){return 1===arguments.length?this.memos[t]:void(this.memos[t]=e)},this.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},this.createInvokeHandler=function(t,e){return function(n){n.preventDefault(),i.invoke(t,e||$(n.target).closest("[data-value]").data("value"))}},this.invoke=function(){var t=list.head(arguments),e=list.tail(list.from(arguments)),i=t.split("."),n=i.length>1,r=n&&list.head(i),s=n?list.last(i):list.head(i),o=this.modules[r||"editor"];return!r&&this[s]?this[s].apply(this,e):o&&o[s]&&o.shouldInitialize()?o[s].apply(o,e):void 0},this.initialize()};$.fn.extend({summernote:function(){var t=$.type(list.head(arguments)),e="string"===t,i="object"===t,n=i?list.head(arguments):{};n=$.extend({},$.summernote.options,n),n.langInfo=$.extend(!0,{},$.summernote.lang["en-US"],$.summernote.lang[n.lang]),n.icons=$.extend(!0,{},$.summernote.options.icons,n.icons),this.each(function(t,e){var i=$(e);if(!i.data("summernote")){var r=new Context(i,n);i.data("summernote",r),i.data("summernote").triggerEvent("init",r.layoutInfo)}});var r=this.first();if(r.length){var s=r.data("summernote");if(e)return s.invoke.apply(s,list.from(arguments));n.focus&&s.invoke("editor.focus")}return this}});var Renderer=function(t,e,i,n){this.render=function(r){var s=$(t);if(i&&i.contents&&s.html(i.contents),i&&i.className&&s.addClass(i.className),i&&i.data&&$.each(i.data,function(t,e){s.attr("data-"+t,e)}),i&&i.click&&s.on("click",i.click),e){var o=s.find(".note-children-container");e.forEach(function(t){t.render(o.length?o:s)})}return n&&n(s,i),i&&i.callback&&i.callback(s),r&&r.append(s),s}},renderer={create:function(t,e){return function(){var i=$.isArray(arguments[0])?arguments[0]:[],n="object"==typeof arguments[1]?arguments[1]:arguments[0];return n&&n.children&&(i=n.children),new Renderer(t,i,n,e)}}},editor=renderer.create('<div class="note-editor note-frame panel panel-default"/>'),toolbar=renderer.create('<div class="note-toolbar panel-heading"/>'),editingArea=renderer.create('<div class="note-editing-area"/>'),codable=renderer.create('<textarea class="note-codable"/>'),editable=renderer.create('<div class="note-editable panel-body" contentEditable="true"/>'),statusbar=renderer.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),airEditor=renderer.create('<div class="note-editor"/>'),airEditable=renderer.create('<div class="note-editable" contentEditable="true"/>'),buttonGroup=renderer.create('<div class="note-btn-group btn-group">'),button=renderer.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dropdown=renderer.create('<div class="dropdown-menu">',function(t,e){var i=$.isArray(e.items)?e.items.map(function(t){var i="string"==typeof t?t:t.value||"",n=e.template?e.template(t):t;return'<li><a href="#" data-value="'+i+'">'+n+"</a></li>"}).join(""):e.items;t.html(i)}),dropdownCheck=renderer.create('<div class="dropdown-menu note-check">',function(t,e){var i=$.isArray(e.items)?e.items.map(function(t){var i="string"==typeof t?t:t.value||"",n=e.template?e.template(t):t;return'<li><a href="#" data-value="'+i+'">'+icon(e.checkClassName)+" "+n+"</a></li>"}).join(""):e.items;t.html(i)}),palette=renderer.create('<div class="note-color-palette"/>',function(t,e){for(var i=[],n=0,r=e.colors.length;r>n;n++){for(var s=e.eventName,o=e.colors[n],a=[],l=0,h=o.length;h>l;l++){var u=o[l];a.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',s,'" ','data-value="',u,'" ','title="',u,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+a.join("")+"</div>")}t.html(i.join("")),t.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dialog=renderer.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(t,e){e.fade&&t.addClass("fade"),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),popover=renderer.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var i="undefined"!=typeof e.direction?e.direction:"bottom";t.addClass(i),e.hideArrow&&t.find(".arrow").hide()}),icon=function(t,e){return e=e||"i","<"+e+' class="'+t+'"/>'},ui={editor:editor,toolbar:toolbar,editingArea:editingArea,codable:codable,editable:editable,statusbar:statusbar,airEditor:airEditor,airEditable:airEditable,buttonGroup:buttonGroup,button:button,dropdown:dropdown,dropdownCheck:dropdownCheck,palette:palette,dialog:dialog,popover:popover,icon:icon,toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var i=(e.airMode?ui.airEditor([ui.editingArea([ui.airEditable()])]):ui.editor([ui.toolbar(),ui.editingArea([ui.codable(),ui.editable()]),ui.statusbar()])).render();return i.insertAfter(t),{note:t,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}};$.summernote=$.summernote||{lang:{}},$.extend($.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var key=function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(e){return list.contains([t.BACKSPACE,t.TAB,t.ENTER,t.SPACE],e)},isMove:function(e){return list.contains([t.LEFT,t.UP,t.RIGHT,t.DOWN],e)},nameFromCode:func.invertObject(t),code:t}}(),range=function(){var t=function(t,e){var i,n,r=t.parentElement(),s=document.body.createTextRange(),o=list.from(r.childNodes);for(i=0;i<o.length;i++)if(!dom.isText(o[i])){if(s.moveToElementText(o[i]),s.compareEndPoints("StartToStart",t)>=0)break;n=o[i]}if(0!==i&&dom.isText(o[i-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(n||r),a.collapse(!n),l=n?n.nextSibling:r.firstChild;var h=t.duplicate();h.setEndPoint("StartToStart",a);for(var u=h.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&dom.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),r=l,i=u}return{cont:r,offset:i}},e=function(t){var e=function(t,i){var n,r;if(dom.isText(t)){var s=dom.listPrev(t,func.not(dom.isText)),o=list.last(s).previousSibling;n=o||t.parentNode,i+=list.sum(list.tail(s),dom.nodeLength),r=!o}else{if(n=t.childNodes[i]||t,dom.isText(n))return e(n,0);i=0,r=!1}return{node:n,collapseToStart:r,offset:i}},i=document.body.createTextRange(),n=e(t.node,t.offset);return i.moveToElementText(n.node),i.collapse(n.collapseToStart),i.moveStart("character",n.offset),i},i=function(t,n,r,s){this.sc=t,this.so=n,this.ec=r,this.eo=s;var o=function(){if(agent.isW3CRangeSupport){var i=document.createRange();return i.setStart(t,n),i.setEnd(r,s),i}var o=e({node:t,offset:n});return o.setEndPoint("EndToEnd",e({node:r,offset:s})),o};this.getPoints=function(){return{sc:t,so:n,ec:r,eo:s}},this.getStartPoint=function(){return{node:t,offset:n}},this.getEndPoint=function(){return{node:r,offset:s}},this.select=function(){var t=o();if(agent.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},this.scrollIntoView=function(t){var e=$(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this},this.normalize=function(){var t=function(t,e){if(dom.isVisiblePoint(t)&&!dom.isEdgePoint(t)||dom.isVisiblePoint(t)&&dom.isRightEdgePoint(t)&&!e||dom.isVisiblePoint(t)&&dom.isLeftEdgePoint(t)&&e||dom.isVisiblePoint(t)&&dom.isBlock(t.node)&&dom.isEmpty(t.node))return t;var i=dom.ancestor(t.node,dom.isBlock);if((dom.isLeftEdgePointOf(t,i)||dom.isVoid(dom.prevPoint(t).node))&&!e||(dom.isRightEdgePointOf(t,i)||dom.isVoid(dom.nextPoint(t).node))&&e){if(dom.isVisiblePoint(t))return t;e=!e}var n=e?dom.nextPointUntil(dom.nextPoint(t),dom.isVisiblePoint):dom.prevPointUntil(dom.prevPoint(t),dom.isVisiblePoint);return n||t},e=t(this.getEndPoint(),!1),n=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new i(n.node,n.offset,e.node,e.offset)},this.nodes=function(t,e){t=t||func.ok;var i=e&&e.includeAncestor,n=e&&e.fullyContains,r=this.getStartPoint(),s=this.getEndPoint(),o=[],a=[];return dom.walkPoint(r,s,function(e){if(!dom.isEditable(e.node)){var r;n?(dom.isLeftEdgePoint(e)&&a.push(e.node),dom.isRightEdgePoint(e)&&list.contains(a,e.node)&&(r=e.node)):r=i?dom.ancestor(e.node,t):e.node,r&&t(r)&&o.push(r)}},!0),list.unique(o)},this.commonAncestor=function(){return dom.commonAncestor(t,r)},this.expand=function(e){var o=dom.ancestor(t,e),a=dom.ancestor(r,e);if(!o&&!a)return new i(t,n,r,s);var l=this.getPoints();return o&&(l.sc=o,l.so=0),a&&(l.ec=a,l.eo=dom.nodeLength(a)),new i(l.sc,l.so,l.ec,l.eo)},this.collapse=function(e){return e?new i(t,n,t,n):new i(r,s,r,s)},this.splitText=function(){var e=t===r,o=this.getPoints();return dom.isText(r)&&!dom.isEdgePoint(this.getEndPoint())&&r.splitText(s),dom.isText(t)&&!dom.isEdgePoint(this.getStartPoint())&&(o.sc=t.splitText(n),o.so=0,e&&(o.ec=o.sc,o.eo=s-n)),new i(o.sc,o.so,o.ec,o.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),e=t.nodes(null,{fullyContains:!0}),n=dom.prevPointUntil(t.getStartPoint(),function(t){return!list.contains(e,t.node)}),r=[];return $.each(e,function(t,e){var i=e.parentNode;n.node!==i&&1===dom.nodeLength(i)&&r.push(i),dom.remove(e,!1)}),$.each(r,function(t,e){dom.remove(e,!1)}),new i(n.node,n.offset,n.node,n.offset).normalize()};var a=function(e){return function(){var i=dom.ancestor(t,e);return!!i&&i===dom.ancestor(r,e)}};this.isOnEditable=a(dom.isEditable),this.isOnList=a(dom.isList),this.isOnAnchor=a(dom.isAnchor),this.isOnCell=a(dom.isCell),this.isOnData=a(dom.isData),this.isLeftEdgeOf=function(t){if(!dom.isLeftEdgePoint(this.getStartPoint()))return!1;var e=dom.ancestor(this.sc,t);return e&&dom.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return t===r&&n===s},this.wrapBodyInlineWithPara=function(){if(dom.isBodyContainer(t)&&dom.isEmpty(t))return t.innerHTML=dom.emptyPara,new i(t.firstChild,0,t.firstChild,0);var e=this.normalize();if(dom.isParaInline(t)||dom.isPara(t))return e;var n;if(dom.isInline(e.sc)){var r=dom.listAncestor(e.sc,func.not(dom.isInline));n=list.last(r),dom.isInline(n)||(n=r[r.length-2]||e.sc.childNodes[e.so])}else n=e.sc.childNodes[e.so>0?e.so-1:0];var s=dom.listPrev(n,dom.isParaInline).reverse();if(s=s.concat(dom.listNext(n.nextSibling,dom.isParaInline)),s.length){var o=dom.wrap(list.head(s),"p");dom.appendChildNodes(o,list.tail(s))}return this.normalize()},this.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),i=dom.splitPoint(e.getStartPoint(),dom.isInline(t));return i.rightNode?i.rightNode.parentNode.insertBefore(t,i.rightNode):i.container.appendChild(t),t},this.pasteHTML=function(t){var e=$("<div></div>").html(t)[0],i=list.from(e.childNodes),n=this.wrapBodyInlineWithPara().deleteContents();return i.reverse().map(function(t){return n.insertNode(t)}).reverse()},this.toString=function(){var t=o();return agent.isW3CRangeSupport?t.toString():t.text},this.getWordRange=function(t){var e=this.getEndPoint();if(!dom.isCharPoint(e))return this;var n=dom.prevPointUntil(e,function(t){return!dom.isCharPoint(t)});return t&&(e=dom.nextPointUntil(e,function(t){return!dom.isCharPoint(t)})),new i(n.node,n.offset,e.node,e.offset)},this.bookmark=function(e){return{s:{path:dom.makeOffsetPath(e,t),offset:n},e:{path:dom.makeOffsetPath(e,r),offset:s}}},this.paraBookmark=function(e){return{s:{path:list.tail(dom.makeOffsetPath(list.head(e),t)),offset:n},e:{path:list.tail(dom.makeOffsetPath(list.last(e),r)),offset:s}}},this.getClientRects=function(){var t=o();return t.getClientRects()}};return{create:function(t,e,n,r){if(4===arguments.length)return new i(t,e,n,r);if(2===arguments.length)return n=t,r=e,new i(t,e,n,r);var s=this.createFromSelection();return s||1!==arguments.length?s:(s=this.createFromNode(arguments[0]),s.collapse(dom.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var e,n,r,s;if(agent.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(dom.isBody(o.anchorNode))return null;var a=o.getRangeAt(0);e=a.startContainer,n=a.startOffset,r=a.endContainer,s=a.endOffset}else{var l=document.selection.createRange(),h=l.duplicate();h.collapse(!1);var u=l;u.collapse(!0);var c=t(u,!0),d=t(h,!1);dom.isText(c.node)&&dom.isLeftEdgePoint(c)&&dom.isTextNode(d.node)&&dom.isRightEdgePoint(d)&&d.node.nextSibling===c.node&&(c=d),e=c.cont,n=c.offset,r=d.cont,s=d.offset}return new i(e,n,r,s)},createFromNode:function(t){var e=t,i=0,n=t,r=dom.nodeLength(n);return dom.isVoid(e)&&(i=dom.listPrev(e).length-1,e=e.parentNode),dom.isBR(n)?(r=dom.listPrev(n).length-1,n=n.parentNode):dom.isVoid(n)&&(r=dom.listPrev(n).length,n=n.parentNode),this.create(e,i,n,r)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var n=dom.fromOffsetPath(t,e.s.path),r=e.s.offset,s=dom.fromOffsetPath(t,e.e.path),o=e.e.offset;return new i(n,r,s,o)},createFromParaBookmark:function(t,e){var n=t.s.offset,r=t.e.offset,s=dom.fromOffsetPath(list.head(e),t.s.path),o=dom.fromOffsetPath(list.last(e),t.e.path);return new i(s,n,o,r)}}}(),async=function(){var t=function(t){return $.Deferred(function(e){$.extend(new FileReader,{onload:function(t){var i=t.target.result;e.resolve(i)},onerror:function(){e.reject(this)}}).readAsDataURL(t)}).promise()},e=function(t){return $.Deferred(function(e){var i=$("<img>");i.one("load",function(){i.off("error abort"),e.resolve(i)}).one("error abort",function(){i.off("load").detach(),e.reject(i)}).css({display:"none"}).appendTo(document.body).attr("src",t)}).promise()};return{readFileAsDataURL:t,createImage:e}}(),History=function(t){var e=[],i=-1,n=t[0],r=function(){var e=range.create(n),i={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:t.html(),bookmark:e?e.bookmark(n):i}},s=function(e){null!==e.contents&&t.html(e.contents),null!==e.bookmark&&range.createFromBookmark(n,e.bookmark).select()};this.rewind=function(){t.html()!==e[i].contents&&this.recordUndo(),i=0,s(e[i])},this.reset=function(){e=[],i=-1,t.html(""),this.recordUndo()},this.undo=function(){t.html()!==e[i].contents&&this.recordUndo(),i>0&&(i--,s(e[i]))},this.redo=function(){e.length-1>i&&(i++,s(e[i]))},this.recordUndo=function(){i++,e.length>i&&(e=e.slice(0,i)),e.push(r())}},Style=function(){var t=function(t,e){if(agent.jqueryVersion<1.9){var i={};return $.each(e,function(e,n){i[n]=t.css(n)}),i}return t.css.call(t,e)};this.fromNode=function(e){var i=["font-family","font-size","text-align","list-style-type","line-height"],n=t(e,i)||{};return n["font-size"]=parseInt(n["font-size"],10),n},this.stylePara=function(t,e){$.each(t.nodes(dom.isPara,{includeAncestor:!0}),function(t,i){$(i).css(e)})},this.styleNodes=function(t,e){t=t.splitText();var i=e&&e.nodeName||"SPAN",n=!(!e||!e.expandClosestSibling),r=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(dom.create(i))];var s=dom.makePredByNodeName(i),o=t.nodes(dom.isText,{fullyContains:!0}).map(function(t){return dom.singleChildAncestor(t,s)||dom.wrap(t,i)});if(n){if(r){var a=t.nodes();s=func.and(s,function(t){return list.contains(a,t)})}return o.map(function(t){var e=dom.withClosestSiblings(t,s),i=list.head(e),n=list.tail(e);return $.each(n,function(t,e){dom.appendChildNodes(i,e.childNodes),dom.remove(e)}),list.head(e)})}return o},this.current=function(t){var e=$(dom.isElement(t.sc)?t.sc:t.sc.parentNode),i=this.fromNode(e);try{i=$.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(t){}if(t.isOnList()){var n=["circle","disc","disc-leading-zero","square"],r=$.inArray(i["list-style-type"],n)>-1;i["list-style"]=r?"unordered":"ordered"}else i["list-style"]="none";var s=dom.ancestor(t.sc,dom.isPara);if(s&&s.style["line-height"])i["line-height"]=s.style.lineHeight;else{var o=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=o.toFixed(1)}return i.anchor=t.isOnAnchor()&&dom.ancestor(t.sc,dom.isAnchor),i.ancestors=dom.listAncestor(t.sc,dom.isEditable),i.range=t,i}},Bullet=function(){var t=this;this.insertOrderedList=function(t){this.toggleList("OL",t)},this.insertUnorderedList=function(t){this.toggleList("UL",t)},this.indent=function(t){var e=this,i=range.create(t).wrapBodyInlineWithPara(),n=i.nodes(dom.isPara,{includeAncestor:!0}),r=list.clusterBy(n,func.peq2("parentNode"));$.each(r,function(t,i){var n=list.head(i);dom.isLi(n)?e.wrapList(i,n.parentNode.nodeName):$.each(i,function(t,e){$(e).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),i.select()},this.outdent=function(t){var e=this,i=range.create(t).wrapBodyInlineWithPara(),n=i.nodes(dom.isPara,{includeAncestor:!0}),r=list.clusterBy(n,func.peq2("parentNode"));$.each(r,function(t,i){var n=list.head(i);dom.isLi(n)?e.releaseList([i]):$.each(i,function(t,e){$(e).css("marginLeft",function(t,e){return e=parseInt(e,10)||0,e>25?e-25:""})})}),i.select()},this.toggleList=function(e,i){var n=range.create(i).wrapBodyInlineWithPara(),r=n.nodes(dom.isPara,{includeAncestor:!0}),s=n.paraBookmark(r),o=list.clusterBy(r,func.peq2("parentNode"));if(list.find(r,dom.isPurePara)){var a=[];$.each(o,function(i,n){a=a.concat(t.wrapList(n,e))}),r=a}else{var l=n.nodes(dom.isList,{includeAncestor:!0}).filter(function(t){return!$.nodeName(t,e)});l.length?$.each(l,function(t,i){dom.replace(i,e)}):r=this.releaseList(o,!0)}range.createFromParaBookmark(s,r).select()},this.wrapList=function(t,e){var i=list.head(t),n=list.last(t),r=dom.isList(i.previousSibling)&&i.previousSibling,s=dom.isList(n.nextSibling)&&n.nextSibling,o=r||dom.insertAfter(dom.create(e||"UL"),n);return t=t.map(function(t){return dom.isPurePara(t)?dom.replace(t,"LI"):t}),dom.appendChildNodes(o,t),s&&(dom.appendChildNodes(o,list.from(s.childNodes)),dom.remove(s)),t},this.releaseList=function(t,e){var i=[];return $.each(t,function(t,n){var r=list.head(n),s=list.last(n),o=e?dom.lastAncestor(r,dom.isList):r.parentNode,a=o.childNodes.length>1?dom.splitTree(o,{node:s.parentNode,offset:dom.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,l=dom.splitTree(o,{node:r.parentNode,offset:dom.position(r)},{isSkipPaddingBlankHTML:!0});n=e?dom.listDescendant(l,dom.isLi):list.from(l.childNodes).filter(dom.isLi),(e||!dom.isList(o.parentNode))&&(n=n.map(function(t){return dom.replace(t,"P")})),$.each(list.from(n).reverse(),function(t,e){dom.insertAfter(e,o)});var h=list.compact([o,l,a]);$.each(h,function(t,e){var i=[e].concat(dom.listDescendant(e,dom.isList));$.each(i.reverse(),function(t,e){dom.nodeLength(e)||dom.remove(e,!0)})}),i=i.concat(n)}),i}},Typing=function(){var t=new Bullet;this.insertTab=function(t,e){var i=dom.createText(new Array(e+1).join(dom.NBSP_CHAR));t=t.deleteContents(),t.insertNode(i,!0),t=range.create(i,e),t.select()},this.insertParagraph=function(e){var i=range.create(e);i=i.deleteContents(),i=i.wrapBodyInlineWithPara();var n,r=dom.ancestor(i.sc,dom.isPara);if(r){if(dom.isEmpty(r)&&dom.isLi(r))return void t.toggleList(r.parentNode.nodeName);if(dom.isEmpty(r)&&dom.isPara(r)&&dom.isBlockquote(r.parentNode))dom.insertAfter(r,r.parentNode),n=r;else{n=dom.splitTree(r,i.getStartPoint());var s=dom.listDescendant(r,dom.isEmptyAnchor);s=s.concat(dom.listDescendant(n,dom.isEmptyAnchor)),$.each(s,function(t,e){dom.remove(e)}),(dom.isHeading(n)||dom.isPre(n))&&dom.isEmpty(n)&&(n=dom.replace(n,"p"))}}else{var o=i.sc.childNodes[i.so];n=$(dom.emptyPara)[0],o?i.sc.insertBefore(n,o):i.sc.appendChild(n)}range.create(n,0).normalize().select().scrollIntoView(e)}},Table=function(){this.tab=function(t,e){var i=dom.ancestor(t.commonAncestor(),dom.isCell),n=dom.ancestor(i,dom.isTable),r=dom.listDescendant(n,dom.isCell),s=list[e?"prev":"next"](r,i);s&&range.create(s,0).select()},this.createTable=function(t,e,i){for(var n,r=[],s=0;t>s;s++)r.push("<td>"+dom.blank+"</td>");n=r.join("");for(var o,a=[],l=0;e>l;l++)a.push("<tr>"+n+"</tr>");o=a.join("");var h=$("<table>"+o+"</table>");return i&&i.tableClassName&&h.addClass(i.tableClassName),h[0]}},KEY_BOGUS="bogus",Editor=function(t){var e=this,i=t.layoutInfo.note,n=t.layoutInfo.editor,r=t.layoutInfo.editable,s=t.options,o=s.langInfo,a=r[0],l=null,h=new Style,u=new Table,c=new Typing,d=new Bullet,f=new History(r);this.initialize=function(){r.on("keydown",function(i){i.keyCode===key.code.ENTER&&t.triggerEvent("enter",i),t.triggerEvent("keydown",i),i.isDefaultPrevented()||(s.shortcuts?e.handleKeyMap(i):e.preventDefaultEditableShortCuts(i))}).on("keyup",function(e){t.triggerEvent("keyup",e)}).on("focus",function(e){t.triggerEvent("focus",e)}).on("blur",function(e){t.triggerEvent("blur",e)}).on("mousedown",function(e){t.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.triggerEvent("mouseup",e)}).on("scroll",function(e){t.triggerEvent("scroll",e)}).on("paste",function(e){t.triggerEvent("paste",e)}),r.html(dom.html(i)||dom.emptyPara);var o=agent.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";r.on(o,func.debounce(function(){t.triggerEvent("change",r.html())},250)),n.on("focusin",function(e){t.triggerEvent("focusin",e)}).on("focusout",function(e){t.triggerEvent("focusout",e)}),s.airMode||(s.width&&n.outerWidth(s.width),s.height&&r.outerHeight(s.height),s.maxHeight&&r.css("max-height",s.maxHeight),s.minHeight&&r.css("min-height",s.minHeight)),f.recordUndo()},this.destroy=function(){r.off()},this.handleKeyMap=function(e){var i=s.keyMap[agent.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var r=key.nameFromCode[e.keyCode];r&&n.push(r);var o=i[n.join("+")];o?(e.preventDefault(),t.invoke(o)):key.isEdit(e.keyCode)&&this.afterCommand()},this.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&list.contains([66,73,85],t.keyCode)&&t.preventDefault()},this.createRange=function(){return this.focus(),range.create(a)},this.saveRange=function(t){l=this.createRange(),t&&l.collapse().select()},this.restoreRange=function(){l&&(l.select(),this.focus())},this.saveTarget=function(t){r.data("target",t)},this.clearTarget=function(){r.removeData("target")},this.restoreTarget=function(){return r.data("target")},this.currentStyle=function(){var t=range.create();return t&&(t=t.normalize()),t?h.current(t):h.fromNode(r)},this.styleFromNode=function(t){return h.fromNode(t)},this.undo=function(){t.triggerEvent("before.command",r.html()),f.undo(),t.triggerEvent("change",r.html())},t.memo("help.undo",o.help.undo),this.redo=function(){t.triggerEvent("before.command",r.html()),f.redo(),t.triggerEvent("change",r.html())},t.memo("help.redo",o.help.redo);for(var p=this.beforeCommand=function(){t.triggerEvent("before.command",r.html()),e.focus()},g=this.afterCommand=function(e){f.recordUndo(),e||t.triggerEvent("change",r.html())},m=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],v=0,y=m.length;y>v;v++)this[m[v]]=function(t){return function(e){p(),document.execCommand(t,!1,e),g(!0)}}(m[v]),t.memo("help."+m[v],o.help[m[v]]);this.tab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()?u.tab(t):(p(),c.insertTab(t,s.tabSize),g())},t.memo("help.tab",o.help.tab),this.untab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()&&u.tab(t,!0)},t.memo("help.untab",o.help.untab),this.wrapCommand=function(t){return function(){p(),t.apply(e,arguments),g()}},this.insertParagraph=this.wrapCommand(function(){c.insertParagraph(a)}),t.memo("help.insertParagraph",o.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){d.insertOrderedList(a)}),t.memo("help.insertOrderedList",o.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){d.insertUnorderedList(a)}),t.memo("help.insertUnorderedList",o.help.insertUnorderedList),this.indent=this.wrapCommand(function(){d.indent(a)}),t.memo("help.indent",o.help.indent),this.outdent=this.wrapCommand(function(){d.outdent(a)}),t.memo("help.outdent",o.help.outdent),this.insertImage=function(e,i){return async.createImage(e,i).then(function(t){p(),"function"==typeof i?i(t):("string"==typeof i&&t.attr("data-filename",i),t.css("width",Math.min(r.width(),t.width()))),t.show(),range.create(a).insertNode(t[0]),range.createFromNodeAfter(t[0]).select(),g()}).fail(function(e){t.triggerEvent("image.upload.error",e)})},this.insertImages=function(i){$.each(i,function(i,n){var r=n.name;s.maximumImageFileSize&&s.maximumImageFileSize<n.size?t.triggerEvent("image.upload.error",o.image.maximumFileSizeError):async.readFileAsDataURL(n).then(function(t){return e.insertImage(t,r)}).fail(function(){t.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(e){var i=s.callbacks;i.onImageUpload?t.triggerEvent("image.upload",e):this.insertImages(e)},this.insertNode=this.wrapCommand(function(t){var e=this.createRange();e.insertNode(t),range.createFromNodeAfter(t).select()}),this.insertText=this.wrapCommand(function(t){var e=this.createRange(),i=e.insertNode(dom.createText(t));range.create(i,dom.nodeLength(i)).select()}),this.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=range.createFromNode(dom.ancestor(t.sc,dom.isAnchor))),t.toString()},this.pasteHTML=this.wrapCommand(function(t){var e=this.createRange().pasteHTML(t);range.createFromNodeAfter(list.last(e)).select()}),this.formatBlock=this.wrapCommand(function(t){t=agent.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t)}),this.formatPara=function(){this.formatBlock("P")},t.memo("help.formatPara",o.help.formatPara);for(var v=1;6>=v;v++)this["formatH"+v]=function(t){return function(){this.formatBlock("H"+t)}}(v),t.memo("help.formatH"+v,o.help["formatH"+v]);this.fontSize=function(t){var e=this.createRange();if(e&&e.isCollapsed()){var i=h.styleNodes(e),n=list.head(i);$(i).css({"font-size":t+"px"}),n&&!dom.nodeLength(n)&&(n.innerHTML=dom.ZERO_WIDTH_NBSP_CHAR,range.createFromNodeAfter(n.firstChild).select(),r.data(KEY_BOGUS,n))}else p(),$(h.styleNodes(e)).css({"font-size":t+"px"}),g()},this.insertHorizontalRule=this.wrapCommand(function(){var t=this.createRange().insertNode(dom.create("HR"));t.nextSibling&&range.create(t.nextSibling,0).normalize().select()}),t.memo("help.insertHorizontalRule",o.help.insertHorizontalRule),this.removeBogus=function(){var t=r.data(KEY_BOGUS);if(t){var e=list.find(list.from(t.childNodes),dom.isText),i=e.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);-1!==i&&e.deleteData(i,1),dom.isEmpty(t)&&dom.remove(t),r.removeData(KEY_BOGUS)}},this.lineHeight=this.wrapCommand(function(t){h.stylePara(this.createRange(),{lineHeight:t})}),this.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=dom.ancestor(t.sc,dom.isAnchor);t=range.createFromNode(e),t.select(),p(),document.execCommand("unlink"),g()}},this.createLink=this.wrapCommand(function(t){var e=t.url,i=t.text,n=t.isNewWindow,r=t.range||this.createRange(),o=r.toString()!==i;"string"==typeof e&&(e=e.trim()),s.onCreateLink&&(e=s.onCreateLink(e));var a=[];if(o){r=r.deleteContents();var l=r.insertNode($("<A>"+i+"</A>")[0]);a.push(l)}else a=h.styleNodes(r,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});$.each(a,function(t,i){e=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(e)?e:"http://"+e,$(i).attr("href",e),n?$(i).attr("target","_blank"):$(i).removeAttr("target")});var u=range.createFromNodeBefore(list.head(a)),c=u.getStartPoint(),d=range.createFromNodeAfter(list.last(a)),f=d.getEndPoint();range.create(c.node,c.offset,f.node,f.offset).select()}),this.getLinkInfo=function(){var t=this.createRange().expand(dom.isAnchor),e=$(list.head(t.nodes(dom.isAnchor)));return{range:t,text:t.toString(),isNewWindow:e.length?"_blank"===e.attr("target"):!1,url:e.length?e.attr("href"):""}},this.color=this.wrapCommand(function(t){var e=t.foreColor,i=t.backColor;e&&document.execCommand("foreColor",!1,e),i&&document.execCommand("backColor",!1,i)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x"),i=this.createRange().deleteContents();i.insertNode(u.createTable(e[0],e[1],s))}),this.floatMe=this.wrapCommand(function(t){var e=$(this.restoreTarget());e.css("float",t)}),this.resize=this.wrapCommand(function(t){var e=$(this.restoreTarget());e.css({width:100*t+"%",height:""})}),this.resizeTo=function(t,e,i){var n;if(i){var r=t.y/t.x,s=e.data("ratio");n={width:s>r?t.x:t.y/s,height:s>r?t.x*s:t.y}}else n={width:t.x,height:t.y};e.css(n)},this.removeMedia=this.wrapCommand(function(){var e=$(this.restoreTarget()).detach();t.triggerEvent("media.delete",e,r)}),this.hasFocus=function(){return r.is(":focus")},this.focus=function(){this.hasFocus()||r.focus()},this.isEmpty=function(){return dom.isEmpty(r[0])||dom.emptyPara===r.html()},this.empty=function(){t.invoke("code",dom.emptyPara)}},Clipboard=function(t){var e=this,i=t.layoutInfo.editable;this.events={"summernote.keydown":function(i,n){e.needKeydownHook()&&(n.ctrlKey||n.metaKey)&&n.keyCode===key.code.V&&(t.invoke("editor.saveRange"),e.$paste.focus(),setTimeout(function(){e.pasteByHook()},0))}},this.needKeydownHook=function(){return agent.isMSIE&&agent.browserVersion>10||agent.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=$('<div tabindex="-1" />').attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),i.before(this.$paste),this.$paste.on("paste",function(e){t.triggerEvent("paste",e)})):i.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var e=this.$paste[0].firstChild;if(dom.isImg(e)){for(var i=e.src,n=atob(i.split(",")[1]),r=new Uint8Array(n.length),s=0;s<n.length;s++)r[s]=n.charCodeAt(s);var o=new Blob([r],{type:"image/png"});o.name="clipboard.png",t.invoke("editor.restoreRange"),t.invoke("editor.focus"),t.invoke("editor.insertImagesOrCallback",[o])}else{var a=$("<div />").html(this.$paste.html()).html();t.invoke("editor.restoreRange"),t.invoke("editor.focus"),a&&t.invoke("editor.pasteHTML",a)}this.$paste.empty()},this.pasteByEvent=function(e){var i=e.originalEvent.clipboardData;if(i&&i.items&&i.items.length){var n=list.head(i.items);"file"===n.kind&&-1!==n.type.indexOf("image/")&&t.invoke("editor.insertImagesOrCallback",[n.getAsFile()]),t.invoke("editor.afterCommand")}}},Dropzone=function(t){var e=$(document),i=t.layoutInfo.editor,n=t.layoutInfo.editable,r=t.options,s=r.langInfo,o={},a=$(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(i),l=function(){Object.keys(o).forEach(function(t){e.off(t.substr(2).toLowerCase(),o[t])}),o={}};this.initialize=function(){r.disableDragAndDrop?(o.onDrop=function(t){t.preventDefault()},e.on("drop",o.onDrop)):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var r=$(),l=a.find(".note-dropzone-message");o.onDragenter=function(e){var n=t.invoke("codeview.isActivated"),o=i.width()>0&&i.height()>0;n||r.length||!o||(i.addClass("dragover"),a.width(i.width()),a.height(i.height()),l.text(s.image.dragImageHere)),r=r.add(e.target)},o.onDragleave=function(t){r=r.not(t.target),r.length||i.removeClass("dragover")},o.onDrop=function(){r=$(),i.removeClass("dragover")},e.on("dragenter",o.onDragenter).on("dragleave",o.onDragleave).on("drop",o.onDrop),a.on("dragenter",function(){a.addClass("hover"),l.text(s.image.dropImage)}).on("dragleave",function(){a.removeClass("hover"),l.text(s.image.dragImageHere)}),a.on("drop",function(e){var i=e.originalEvent.dataTransfer;i&&i.files&&i.files.length?(e.preventDefault(),n.focus(),t.invoke("editor.insertImagesOrCallback",i.files)):$.each(i.types,function(e,n){var r=i.getData(n);n.toLowerCase().indexOf("text")>-1?t.invoke("editor.pasteHTML",r):$(r).each(function(){t.invoke("editor.insertNode",this)})})}).on("dragover",!1)},this.destroy=function(){l()}},CodeMirror;agent.hasCodeMirror&&(agent.isSupportAmd?require(["codemirror"],function(t){CodeMirror=t}):CodeMirror=window.CodeMirror);var Codeview=function(t){var e=t.layoutInfo.editor,i=t.layoutInfo.editable,n=t.layoutInfo.codable,r=t.options;this.sync=function(){var t=this.isActivated();t&&agent.hasCodeMirror&&n.data("cmEditor").save()},this.isActivated=function(){return e.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),t.triggerEvent("codeview.toggled")},this.activate=function(){if(n.val(dom.html(i,r.prettifyHtml)),n.height(i.height()),t.invoke("toolbar.updateCodeview",!0),e.addClass("codeview"),n.focus(),agent.hasCodeMirror){var s=CodeMirror.fromTextArea(n[0],r.codemirror);if(r.codemirror.tern){var o=new CodeMirror.TernServer(r.codemirror.tern);s.ternServer=o,s.on("cursorActivity",function(t){o.updateArgHints(t)})}s.setSize(null,i.outerHeight()),n.data("cmEditor",s)}},this.deactivate=function(){if(agent.hasCodeMirror){var s=n.data("cmEditor");n.val(s.getValue()),s.toTextArea()}var o=dom.value(n,r.prettifyHtml)||dom.emptyPara,a=i.html()!==o;i.html(o),i.height(r.height?n.height():"auto"),e.removeClass("codeview"),a&&t.triggerEvent("change",i.html(),i),i.focus(),t.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},EDITABLE_PADDING=24,Statusbar=function(t){var e=$(document),i=t.layoutInfo.statusbar,n=t.layoutInfo.editable,r=t.options;this.initialize=function(){r.airMode||r.disableResizeEditor||i.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var i=n.offset().top-e.scrollTop();e.on("mousemove",function(t){var e=t.clientY-(i+EDITABLE_PADDING);e=r.minheight>0?Math.max(e,r.minheight):e,e=r.maxHeight>0?Math.min(e,r.maxHeight):e,n.height(e)}).one("mouseup",function(){e.off("mousemove")})})},this.destroy=function(){i.off(),i.remove()}},Fullscreen=function(t){var e=t.layoutInfo.editor,i=t.layoutInfo.toolbar,n=t.layoutInfo.editable,r=t.layoutInfo.codable,s=$(window),o=$("html, body");this.toggle=function(){var a=function(t){n.css("height",t.h),r.css("height",t.h),r.data("cmeditor")&&r.data("cmeditor").setsize(null,t.h)};e.toggleClass("fullscreen"),this.isFullscreen()?(n.data("orgHeight",n.css("height")),s.on("resize",function(){a({h:s.height()-i.outerHeight()})}).trigger("resize"),o.css("overflow","hidden")):(s.off("resize"),a({h:n.data("orgHeight")}),o.css("overflow","visible")),t.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return e.hasClass("fullscreen")}},Handle=function(t){var e=this,i=$(document),n=t.layoutInfo.editingArea,r=t.options;this.events={"summernote.mousedown":function(t,i){e.update(i.target)&&i.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){e.update()}},this.initialize=function(){this.$handle=$(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',r.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',r.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(n),this.$handle.on("mousedown",function(n){if(dom.isControlSizing(n.target)){n.preventDefault(),n.stopPropagation();var r=e.$handle.find(".note-control-selection").data("target"),s=r.offset(),o=i.scrollTop();i.on("mousemove",function(i){t.invoke("editor.resizeTo",{x:i.clientX-s.left,y:i.clientY-(s.top-o)},r,!i.shiftKey),e.update(r[0])}).one("mouseup",function(e){e.preventDefault(),i.off("mousemove"),t.invoke("editor.afterCommand")}),r.data("ratio")||r.data("ratio",r.height()/r.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(e){var i=dom.isImg(e),n=this.$handle.find(".note-control-selection");if(t.invoke("imagePopover.update",e),i){var r=$(e),s=r.position(),o={w:r.outerWidth(!0),h:r.outerHeight(!0)};n.css({display:"block",left:s.left,top:s.top,width:o.w,height:o.h}).data("target",r);var a=o.w+"x"+o.h;n.find(".note-control-selection-info").text(a),t.invoke("editor.saveTarget",e)}else this.hide();return i},this.hide=function(){t.invoke("editor.clearTarget"),this.$handle.children().hide()}},AutoLink=function(t){var e=this,i="http://",n=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(t,i){i.isDefaultPrevented()||e.handleKeyup(i)},"summernote.keydown":function(t,i){e.handleKeydown(i)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),r=e.match(n);if(r&&(r[1]||r[2])){var s=r[1]?e:i+e,o=$("<a />").html(e).attr("href",s)[0];this.lastWordRange.insertNode(o),this.lastWordRange=null,t.invoke("editor.focus")}}},this.handleKeydown=function(e){if(list.contains([key.code.ENTER,key.code.SPACE],e.keyCode)){var i=t.invoke("editor.createRange").getWordRange();this.lastWordRange=i}},this.handleKeyup=function(t){list.contains([key.code.ENTER,key.code.SPACE],t.keyCode)&&this.replace()}},AutoSync=function(t){var e=t.layoutInfo.note;this.events={"summernote.change":function(){e.val(t.invoke("code"))}},this.shouldInitialize=function(){return dom.isTextarea(e[0])}},Placeholder=function(t){var e=this,i=t.layoutInfo.editingArea,n=t.options;this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}},this.shouldInitialize=function(){return!!n.placeholder},this.initialize=function(){this.$placeholder=$('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.invoke("focus")}).text(n.placeholder).prependTo(i)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var e=!t.invoke("codeview.isActivated")&&t.invoke("editor.isEmpty");this.$placeholder.toggle(e)}},Buttons=function(t){var e=this,i=$.summernote.ui,n=t.layoutInfo.toolbar,r=t.options,s=r.langInfo,o=func.invertObject(r.keyMap[agent.isMac?"mac":"pc"]),a=this.representShortcut=function(t){var e=o[t];return r.shortcuts&&e?(agent.isMac&&(e=e.replace("CMD","⌘").replace("SHIFT","⇧")),e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+e+")"):""};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(t){return e.fontInstalledMap.hasOwnProperty(t)||(e.fontInstalledMap[t]=agent.isFontInstalled(t)||list.contains(r.fontNamesIgnoreCheck,t)),e.fontInstalledMap[t]},this.addToolbarButtons=function(){t.memo("button.style",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.icon(r.icons.magic)+" "+i.icon(r.icons.caret,"span"),tooltip:s.style.style,data:{toggle:"dropdown"}}),i.dropdown({className:"dropdown-style",items:t.options.styleTags,template:function(t){"string"==typeof t&&(t={tag:t,title:s.style.hasOwnProperty(t)?s.style[t]:t});var e=t.tag,i=t.title,n=t.style?' style="'+t.style+'" ':"",r=t.className?' class="'+t.className+'"':"";return"<"+e+n+r+">"+i+"</"+e+">"},click:t.createInvokeHandler("editor.formatBlock")})]).render()}),t.memo("button.bold",function(){return i.button({className:"note-btn-bold",contents:i.icon(r.icons.bold),tooltip:s.font.bold+a("bold"),click:t.createInvokeHandler("editor.bold")}).render()}),t.memo("button.italic",function(){return i.button({className:"note-btn-italic",contents:i.icon(r.icons.italic),tooltip:s.font.italic+a("italic"),click:t.createInvokeHandler("editor.italic")}).render()}),t.memo("button.underline",function(){return i.button({className:"note-btn-underline",contents:i.icon(r.icons.underline),tooltip:s.font.underline+a("underline"),click:t.createInvokeHandler("editor.underline")}).render()}),t.memo("button.clear",function(){return i.button({contents:i.icon(r.icons.eraser),tooltip:s.font.clear+a("removeFormat"),click:t.createInvokeHandler("editor.removeFormat")}).render()}),t.memo("button.strikethrough",function(){return i.button({className:"note-btn-strikethrough",contents:i.icon(r.icons.strikethrough),tooltip:s.font.strikethrough+a("strikethrough"),click:t.createInvokeHandler("editor.strikethrough")}).render()}),t.memo("button.superscript",function(){return i.button({className:"note-btn-superscript",contents:i.icon(r.icons.superscript),tooltip:s.font.superscript,click:t.createInvokeHandler("editor.superscript")}).render()}),t.memo("button.subscript",function(){return i.button({className:"note-btn-subscript",contents:i.icon(r.icons.subscript),tooltip:s.font.subscript,click:t.createInvokeHandler("editor.subscript")}).render()}),t.memo("button.fontname",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+i.icon(r.icons.caret,"span"),tooltip:s.font.name,data:{toggle:"dropdown"}}),i.dropdownCheck({className:"dropdown-fontname",checkClassName:r.icons.menuCheck,items:r.fontNames.filter(e.isFontInstalled),template:function(t){return'<span style="font-family:'+t+'">'+t+"</span>"},click:t.createInvokeHandler("editor.fontName")})]).render()}),t.memo("button.fontsize",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+i.icon(r.icons.caret,"span"),tooltip:s.font.size,data:{toggle:"dropdown"}}),i.dropdownCheck({className:"dropdown-fontsize",checkClassName:r.icons.menuCheck,items:r.fontSizes,click:t.createInvokeHandler("editor.fontSize")})]).render()}),t.memo("button.color",function(){return i.buttonGroup({className:"note-color",children:[i.button({className:"note-current-color-button",contents:i.icon(r.icons.font+" note-recent-color"),tooltip:s.color.recent,click:function(e){var i=$(e.currentTarget);t.invoke("editor.color",{backColor:i.attr("data-backColor"),foreColor:i.attr("data-foreColor")})},callback:function(t){var e=t.find(".note-recent-color");e.css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),i.button({className:"dropdown-toggle",contents:i.icon(r.icons.caret,"span"),tooltip:s.color.more,data:{toggle:"dropdown"}}),i.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+s.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',s.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+s.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',s.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(t){t.find(".note-holder").each(function(){var t=$(this);t.append(i.palette({colors:r.colors,eventName:t.data("event")}).render())})},click:function(e){var i=$(e.target),n=i.data("event"),r=i.data("value");if(n&&r){var s="backColor"===n?"background-color":"color",o=i.closest(".note-color").find(".note-recent-color"),a=i.closest(".note-color").find(".note-current-color-button");o.css(s,r),a.attr("data-"+n,r),t.invoke("editor."+n,r)}}})]}).render()}),t.memo("button.ul",function(){return i.button({contents:i.icon(r.icons.unorderedlist),tooltip:s.lists.unordered+a("insertUnorderedList"),click:t.createInvokeHandler("editor.insertUnorderedList")}).render()}),t.memo("button.ol",function(){return i.button({contents:i.icon(r.icons.orderedlist),tooltip:s.lists.ordered+a("insertOrderedList"),click:t.createInvokeHandler("editor.insertOrderedList")}).render()});var n=i.button({contents:i.icon(r.icons.alignLeft),tooltip:s.paragraph.left+a("justifyLeft"),click:t.createInvokeHandler("editor.justifyLeft")}),o=i.button({contents:i.icon(r.icons.alignCenter),tooltip:s.paragraph.center+a("justifyCenter"),click:t.createInvokeHandler("editor.justifyCenter")}),l=i.button({contents:i.icon(r.icons.alignRight),tooltip:s.paragraph.right+a("justifyRight"),click:t.createInvokeHandler("editor.justifyRight")}),h=i.button({contents:i.icon(r.icons.alignJustify),tooltip:s.paragraph.justify+a("justifyFull"),click:t.createInvokeHandler("editor.justifyFull")}),u=i.button({contents:i.icon(r.icons.outdent),tooltip:s.paragraph.outdent+a("outdent"),click:t.createInvokeHandler("editor.outdent")}),c=i.button({contents:i.icon(r.icons.indent),tooltip:s.paragraph.indent+a("indent"),click:t.createInvokeHandler("editor.indent")});t.memo("button.justifyLeft",func.invoke(n,"render")),t.memo("button.justifyCenter",func.invoke(o,"render")),t.memo("button.justifyRight",func.invoke(l,"render")),t.memo("button.justifyFull",func.invoke(h,"render")),t.memo("button.outdent",func.invoke(u,"render")),t.memo("button.indent",func.invoke(c,"render")),t.memo("button.paragraph",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.icon(r.icons.alignLeft)+" "+i.icon(r.icons.caret,"span"),tooltip:s.paragraph.paragraph,data:{toggle:"dropdown"}}),i.dropdown([i.buttonGroup({className:"note-align",children:[n,o,l,h]}),i.buttonGroup({className:"note-list",children:[u,c]})])]).render()}),t.memo("button.height",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.icon(r.icons.textHeight)+" "+i.icon(r.icons.caret,"span"),tooltip:s.font.height,data:{toggle:"dropdown"}}),i.dropdownCheck({items:r.lineHeights,checkClassName:r.icons.menuCheck,className:"dropdown-line-height",click:t.createInvokeHandler("editor.lineHeight")})]).render()}),t.memo("button.table",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.icon(r.icons.table)+" "+i.icon(r.icons.caret,"span"),tooltip:s.table.table,data:{toggle:"dropdown"}}),i.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(i){var n=i.find(".note-dimension-picker-mousecatcher");n.css({width:r.insertTableMaxSize.col+"em",height:r.insertTableMaxSize.row+"em"}).mousedown(t.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler)}}).render()}),t.memo("button.link",function(){return i.button({contents:i.icon(r.icons.link),tooltip:s.link.link+a("linkDialog.show"),click:t.createInvokeHandler("linkDialog.show")}).render()}),t.memo("button.picture",function(){return i.button({contents:i.icon(r.icons.picture),tooltip:s.image.image,click:t.createInvokeHandler("imageDialog.show")}).render()}),t.memo("button.video",function(){return i.button({contents:i.icon(r.icons.video),tooltip:s.video.video,click:t.createInvokeHandler("videoDialog.show")}).render()}),t.memo("button.hr",function(){return i.button({contents:i.icon(r.icons.minus),tooltip:s.hr.insert+a("insertHorizontalRule"),click:t.createInvokeHandler("editor.insertHorizontalRule")}).render()}),t.memo("button.fullscreen",function(){return i.button({className:"btn-fullscreen",contents:i.icon(r.icons.arrowsAlt),tooltip:s.options.fullscreen,click:t.createInvokeHandler("fullscreen.toggle")}).render()}),t.memo("button.codeview",function(){return i.button({className:"btn-codeview",contents:i.icon(r.icons.code),tooltip:s.options.codeview,click:t.createInvokeHandler("codeview.toggle")}).render()}),t.memo("button.redo",function(){return i.button({contents:i.icon(r.icons.redo),tooltip:s.history.redo+a("redo"),click:t.createInvokeHandler("editor.redo")}).render()}),t.memo("button.undo",function(){return i.button({contents:i.icon(r.icons.undo),tooltip:s.history.undo+a("undo"),click:t.createInvokeHandler("editor.undo")}).render()}),t.memo("button.help",function(){return i.button({contents:i.icon(r.icons.question),tooltip:s.options.help,click:t.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){t.memo("button.imageSize100",function(){return i.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:s.image.resizeFull,click:t.createInvokeHandler("editor.resize","1")}).render()}),t.memo("button.imageSize50",function(){return i.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:s.image.resizeHalf,click:t.createInvokeHandler("editor.resize","0.5")}).render()}),t.memo("button.imageSize25",function(){return i.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:s.image.resizeQuarter,click:t.createInvokeHandler("editor.resize","0.25")}).render()}),t.memo("button.floatLeft",function(){return i.button({contents:i.icon(r.icons.alignLeft),tooltip:s.image.floatLeft,click:t.createInvokeHandler("editor.floatMe","left")}).render()}),t.memo("button.floatRight",function(){return i.button({contents:i.icon(r.icons.alignRight),tooltip:s.image.floatRight,click:t.createInvokeHandler("editor.floatMe","right")}).render()}),t.memo("button.floatNone",function(){return i.button({contents:i.icon(r.icons.alignJustify),tooltip:s.image.floatNone,click:t.createInvokeHandler("editor.floatMe","none")}).render()}),t.memo("button.removeMedia",function(){return i.button({contents:i.icon(r.icons.trash),tooltip:s.image.remove,click:t.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){t.memo("button.linkDialogShow",function(){return i.button({contents:i.icon(r.icons.link),tooltip:s.link.edit,click:t.createInvokeHandler("linkDialog.show")}).render()}),t.memo("button.unlink",function(){return i.button({contents:i.icon(r.icons.unlink),tooltip:s.link.unlink,click:t.createInvokeHandler("editor.unlink")}).render()})},this.build=function(e,n){for(var r=0,s=n.length;s>r;r++){for(var o=n[r],a=o[0],l=o[1],h=i.buttonGroup({className:"note-"+a}).render(),u=0,c=l.length;c>u;u++){var d=t.memo("button."+l[u]);d&&h.append("function"==typeof d?d(t):d)}h.appendTo(e)}},this.updateCurrentStyle=function(){var i=t.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===i["font-bold"]},".note-btn-italic":function(){return"italic"===i["font-italic"]},".note-btn-underline":function(){return"underline"===i["font-underline"]},".note-btn-subscript":function(){return"subscript"===i["font-subscript"]},".note-btn-superscript":function(){return"superscript"===i["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===i["font-strikethrough"]}}),i["font-family"]){var r=i["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),s=list.find(r,e.isFontInstalled);n.find(".dropdown-fontname li a").each(function(){var t=$(this).data("value")+""==s+"";this.className=t?"checked":""}),n.find(".note-current-fontname").text(s)}if(i["font-size"]){var o=i["font-size"];n.find(".dropdown-fontsize li a").each(function(){var t=$(this).data("value")+""==o+"";this.className=t?"checked":""}),n.find(".note-current-fontsize").text(o)}if(i["line-height"]){var a=i["line-height"];n.find(".dropdown-line-height li a").each(function(){var t=$(this).data("value")+""==a+"";this.className=t?"checked":""})}},this.updateBtnStates=function(t){$.each(t,function(t,e){i.toggleBtnActive(n.find(t),e())})},this.tableMoveHandler=function(t){var e,i=18,n=$(t.target.parentNode),s=n.next(),o=n.find(".note-dimension-picker-mousecatcher"),a=n.find(".note-dimension-picker-highlighted"),l=n.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var h=$(t.target).offset();e={x:t.pageX-h.left,y:t.pageY-h.top}}else e={x:t.offsetX,y:t.offsetY};var u={c:Math.ceil(e.x/i)||1,r:Math.ceil(e.y/i)||1};a.css({width:u.c+"em",height:u.r+"em"}),o.data("value",u.c+"x"+u.r),3<u.c&&u.c<r.insertTableMaxSize.col&&l.css({width:u.c+1+"em"}),3<u.r&&u.r<r.insertTableMaxSize.row&&l.css({height:u.r+1+"em"}),s.html(u.c+" x "+u.r)}},Toolbar=function(t){var e=$.summernote.ui,i=t.layoutInfo.note,n=t.layoutInfo.toolbar,r=t.options;this.shouldInitialize=function(){return!r.airMode},this.initialize=function(){r.toolbar=r.toolbar||[],r.toolbar.length?t.invoke("buttons.build",n,r.toolbar):n.hide(),r.toolbarContainer&&n.appendTo(r.toolbarContainer),i.on("summernote.keyup summernote.mouseup summernote.change",function(){t.invoke("buttons.updateCurrentStyle")}),t.invoke("buttons.updateCurrentStyle")},this.destroy=function(){n.children().remove()},this.updateFullscreen=function(t){e.toggleBtnActive(n.find(".btn-fullscreen"),t)},this.updateCodeview=function(t){e.toggleBtnActive(n.find(".btn-codeview"),t),t?this.deactivate():this.activate()},this.activate=function(t){var i=n.find("button");t||(i=i.not(".btn-codeview")),e.toggleBtn(i,!0)},this.deactivate=function(t){var i=n.find("button");t||(i=i.not(".btn-codeview")),e.toggleBtn(i,!1)}},LinkDialog=function(t){var e=this,i=$.summernote.ui,n=t.layoutInfo.editor,r=t.options,s=r.langInfo;this.initialize=function(){var t=r.dialogsInBody?$(document.body):n,e='<div class="form-group"><label>'+s.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+s.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(r.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+s.link.openInNewWindow+"</label></div>"),o='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+s.link.insert+"</button>";this.$dialog=i.dialog({className:"link-dialog",title:s.link.insert,fade:r.dialogsFade,body:e,footer:o}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===key.code.ENTER&&e.trigger("click")})},this.toggleLinkBtn=function(t,e,n){i.toggleBtn(t,e.val()&&n.val())},this.showLinkDialog=function(n){return $.Deferred(function(r){var s=e.$dialog.find(".note-link-text"),o=e.$dialog.find(".note-link-url"),a=e.$dialog.find(".note-link-btn"),l=e.$dialog.find("input[type=checkbox]");i.onDialogShown(e.$dialog,function(){t.triggerEvent("dialog.shown"),n.url||(n.url=n.text),s.val(n.text);var i=function(){e.toggleLinkBtn(a,s,o),n.text=s.val()};s.on("input",i).on("paste",function(){setTimeout(i,0)});var h=function(){e.toggleLinkBtn(a,s,o),n.text||s.val(o.val())};o.on("input",h).on("paste",function(){setTimeout(h,0)}).val(n.url).trigger("focus"),e.toggleLinkBtn(a,s,o),e.bindEnterKey(o,a),e.bindEnterKey(s,a),l.prop("checked",n.isNewWindow),a.one("click",function(t){t.preventDefault(),r.resolve({range:n.range,url:o.val(),text:s.val(),isNewWindow:l.is(":checked")}),e.$dialog.modal("hide")})}),i.onDialogHidden(e.$dialog,function(){s.off("input paste keypress"),o.off("input paste keypress"),a.off("click"),"pending"===r.state()&&r.reject()}),i.showDialog(e.$dialog)}).promise()},this.show=function(){var e=t.invoke("editor.getLinkInfo");t.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.invoke("editor.restoreRange"),t.invoke("editor.createLink",e)}).fail(function(){t.invoke("editor.restoreRange")})},t.memo("help.linkDialog.show",r.langInfo.help["linkDialog.show"])},LinkPopover=function(t){var e=this,i=$.summernote.ui,n=t.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.dialog.shown":function(){e.hide()}},this.shouldInitialize=function(){return!list.isEmpty(n.popover.link)},this.initialize=function(){this.$popover=i.popover({className:"note-link-popover",callback:function(t){var e=t.find(".popover-content");e.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,n.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!t.invoke("editor.hasFocus"))return void this.hide();var e=t.invoke("editor.createRange");if(e.isCollapsed()&&e.isOnAnchor()){var i=dom.ancestor(e.sc,dom.isAnchor),n=$(i).attr("href");this.$popover.find("a").attr("href",n).html(n);var r=dom.posFromPlaceholder(i);this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ImageDialog=function(t){var e=this,i=$.summernote.ui,n=t.layoutInfo.editor,r=t.options,s=r.langInfo;this.initialize=function(){var t=r.dialogsInBody?$(document.body):n,e="";if(r.maximumImageFileSize){var o=Math.floor(Math.log(r.maximumImageFileSize)/Math.log(1024)),a=1*(r.maximumImageFileSize/Math.pow(1024,o)).toFixed(2)+" "+" KMGTP"[o]+"B";e="<small>"+s.image.maximumFileSize+" : "+a+"</small>"}var l='<div class="form-group note-group-select-from-files"><label>'+s.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+e+'</div><div class="form-group note-group-image-url" style="overflow:auto;"><label>'+s.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',h='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+s.image.insert+"</button>";this.$dialog=i.dialog({title:s.image.insert,fade:r.dialogsFade,body:l,footer:h}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===key.code.ENTER&&e.trigger("click")})},this.show=function(){t.invoke("editor.saveRange"),this.showImageDialog().then(function(n){i.hideDialog(e.$dialog),t.invoke("editor.restoreRange"),"string"==typeof n?t.invoke("editor.insertImage",n):t.invoke("editor.insertImagesOrCallback",n)}).fail(function(){t.invoke("editor.restoreRange")})},this.showImageDialog=function(){return $.Deferred(function(n){var r=e.$dialog.find(".note-image-input"),s=e.$dialog.find(".note-image-url"),o=e.$dialog.find(".note-image-btn");i.onDialogShown(e.$dialog,function(){t.triggerEvent("dialog.shown"),r.replaceWith(r.clone().on("change",function(){n.resolve(this.files||this.value)}).val("")),o.click(function(t){t.preventDefault(),n.resolve(s.val())}),s.on("keyup paste",function(){var t=s.val();i.toggleBtn(o,t)}).val("").trigger("focus"),e.bindEnterKey(s,o)}),i.onDialogHidden(e.$dialog,function(){r.off("change"),s.off("keyup paste keypress"),o.off("click"),"pending"===n.state()&&n.reject()}),i.showDialog(e.$dialog)})}},ImagePopover=function(t){var e=$.summernote.ui,i=t.options;this.shouldInitialize=function(){return!list.isEmpty(i.popover.image)},this.initialize=function(){this.$popover=e.popover({className:"note-image-popover"}).render().appendTo("body");var n=this.$popover.find(".popover-content");t.invoke("buttons.build",n,i.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(t){if(dom.isImg(t)){var e=dom.posFromPlaceholder(t);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},VideoDialog=function(t){var e=this,i=$.summernote.ui,n=t.layoutInfo.editor,r=t.options,s=r.langInfo;this.initialize=function(){var t=r.dialogsInBody?$(document.body):n,e='<div class="form-group row-fluid"><label>'+s.video.url+' <small class="text-muted">'+s.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',o='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+s.video.insert+"</button>";this.$dialog=i.dialog({title:s.video.insert,fade:r.dialogsFade,body:e,footer:o}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===key.code.ENTER&&e.trigger("click")})},this.createVideoNode=function(t){var e,i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,n=t.match(i),r=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,s=t.match(r),o=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,a=t.match(o),l=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,h=t.match(l),u=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,c=t.match(u),d=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,f=t.match(d),p=/^.+.(mp4|m4v)$/,g=t.match(p),m=/^.+.(ogg|ogv)$/,v=t.match(m),y=/^.+.(webm)$/,b=t.match(y);if(n&&11===n[1].length){var w=n[1];e=$("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+w).attr("width","640").attr("height","360")}else if(s&&s[0].length)e=$("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+s[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(a&&a[0].length)e=$("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(h&&h[3].length)e=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+h[3]).attr("width","640").attr("height","360");else if(c&&c[2].length)e=$("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+c[2]).attr("width","640").attr("height","360");else if(f&&f[1].length)e=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+f[1]);else{if(!(g||v||b))return!1;e=$("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return e.addClass("note-video-clip"),e[0]},this.show=function(){var n=t.invoke("editor.getSelectedText");t.invoke("editor.saveRange"),this.showVideoDialog(n).then(function(n){i.hideDialog(e.$dialog),t.invoke("editor.restoreRange");var r=e.createVideoNode(n);r&&t.invoke("editor.insertNode",r)}).fail(function(){t.invoke("editor.restoreRange")})},this.showVideoDialog=function(n){return $.Deferred(function(r){var s=e.$dialog.find(".note-video-url"),o=e.$dialog.find(".note-video-btn");i.onDialogShown(e.$dialog,function(){t.triggerEvent("dialog.shown"),s.val(n).on("input",function(){i.toggleBtn(o,s.val())}).trigger("focus"),o.click(function(t){t.preventDefault(),r.resolve(s.val())}),e.bindEnterKey(s,o)}),i.onDialogHidden(e.$dialog,function(){s.off("input"),o.off("click"),"pending"===r.state()&&r.reject()}),i.showDialog(e.$dialog)})}},HelpDialog=function(t){var e=this,i=$.summernote.ui,n=t.layoutInfo.editor,r=t.options,s=r.langInfo;this.createShortCutList=function(){var e=r.keyMap[agent.isMac?"mac":"pc"];return Object.keys(e).map(function(i){var n=e[i],r=$('<div><div class="help-list-item"/></div>');return r.append($("<label><kbd>"+i+"</kdb></label>").css({width:180,"margin-right":10})).append($("<span/>").html(t.memo("help."+n)||n)),r.html()}).join("")},this.initialize=function(){var t=r.dialogsInBody?$(document.body):n,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.2</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=i.dialog({title:s.options.help,fade:r.dialogsFade,body:this.createShortCutList(),footer:e,callback:function(t){t.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return $.Deferred(function(n){i.onDialogShown(e.$dialog,function(){t.triggerEvent("dialog.shown"),n.resolve()}),i.showDialog(e.$dialog)}).promise()},this.show=function(){t.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.invoke("editor.restoreRange")})}},AirPopover=function(t){var e=this,i=$.summernote.ui,n=t.options,r=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){e.update()},"summernote.change summernote.dialog.shown":function(){e.hide()},"summernote.focusout":function(t,i){agent.isFF||i.relatedTarget&&dom.ancestor(i.relatedTarget,func.eq(e.$popover[0]))||e.hide()}},this.shouldInitialize=function(){return n.airMode&&!list.isEmpty(n.popover.air)},this.initialize=function(){this.$popover=i.popover({className:"note-air-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,n.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var e=t.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var i=list.last(e.range.getClientRects());if(i){var n=func.rect2bnd(i);this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-r,top:n.top+n.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},HintPopover=function(t){var e=this,i=$.summernote.ui,n=5,r=t.options.hint||[],s=t.options.hintDirection||"bottom",o=$.isArray(r)?r:[r];this.events={"summernote.keyup":function(t,i){i.isDefaultPrevented()||e.handleKeyup(i)},"summernote.keydown":function(t,i){e.handleKeydown(i)},"summernote.dialog.shown":function(){e.hide()}},this.shouldInitialize=function(){return o.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=i.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){e.$content.find(".active").removeClass("active"),$(this).addClass("active"),e.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var i=t.parent().next();i.length||(i=this.$content.find(".note-hint-group").first()),this.selectItem(i.find(".note-hint-item").first())}},this.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var i=t.parent().prev();i.length||(i=this.$content.find(".note-hint-group").last()),this.selectItem(i.find(".note-hint-item").last())}},this.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var i=this.nodeFromItem(e);this.lastWordRange.insertNode(i),range.createFromNode(i).collapse().select(),this.lastWordRange=null,this.hide(),t.invoke("editor.focus")}},this.nodeFromItem=function(t){var e=o[t.data("index")],i=t.data("item"),n=e.content?e.content(i):i;return"string"==typeof n&&(n=dom.createText(n)),n},this.createItemTemplates=function(t,e){var i=o[t];return e.map(function(e,n){var r=$('<div class="note-hint-item"/>');return r.append(i.template?i.template(e):e+""),r.data({index:t,item:e}),0===t&&0===n&&r.addClass("active"),r})},this.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===key.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===key.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===key.code.DOWN&&(t.preventDefault(),this.moveDown()))},this.searchKeyword=function(t,e,i){var n=o[t];if(n&&n.match.test(e)&&n.search){var r=n.match.exec(e);n.search(r[1],i)}else i()},this.createGroup=function(t,i){var n=$('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,i,function(i){i=i||[],i.length&&(n.html(e.createItemTemplates(t,i)),e.show())}),n},this.handleKeyup=function(i){if(list.contains([key.code.ENTER,key.code.UP,key.code.DOWN],i.keyCode)){if(i.keyCode===key.code.ENTER&&this.$popover.is(":visible"))return}else{var r=t.invoke("editor.createRange").getWordRange(),a=r.toString();if(o.length&&a){this.$content.empty();var l=func.rect2bnd(list.last(r.getClientRects()));l&&(this.$popover.hide(),this.lastWordRange=r,o.forEach(function(t,i){t.match.test(a)&&e.createGroup(i,a).appendTo(e.$content)}),"top"===s?this.$popover.css({left:l.left,top:l.top-this.$popover.outerHeight()-n}):this.$popover.css({left:l.left,top:l.top+l.height+n}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};$.summernote=$.extend($.summernote,{version:"0.8.2",ui:ui,dom:dom,plugins:{},options:{modules:{editor:Editor,clipboard:Clipboard,dropzone:Dropzone,codeview:Codeview,statusbar:Statusbar,fullscreen:Fullscreen,handle:Handle,hintPopover:HintPopover,autoLink:AutoLink,autoSync:AutoSync,placeholder:Placeholder,buttons:Buttons,toolbar:Toolbar,linkDialog:LinkDialog,linkPopover:LinkPopover,imageDialog:ImageDialog,imagePopover:ImagePopover,videoDialog:VideoDialog,helpDialog:HelpDialog,airPopover:AirPopover},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})});(function(t){var e="0.3.4",i="hasOwnProperty",n=/[\.\/]/,r="*",s=function(){},o=function(t,e){return t-e},a,l,h={n:{}},u=function(t,e){var i=h,n=l,r=Array.prototype.slice.call(arguments,2),s=u.listeners(t),c=0,d=!1,f,p=[],g={},m=[],v=a,y=[];a=t,l=0;for(var b=0,w=s.length;b<w;b++)"zIndex"in s[b]&&(p.push(s[b].zIndex),s[b].zIndex<0&&(g[s[b].zIndex]=s[b]));p.sort(o);while(p[c]<0){f=g[p[c++]],m.push(f.apply(e,r));if(l){l=n;return m}}for(b=0;b<w;b++){f=s[b];if("zIndex"in f)if(f.zIndex==p[c]){m.push(f.apply(e,r));if(l)break;do{c++,f=g[p[c]],f&&m.push(f.apply(e,r));if(l)break}while(f)}else g[f.zIndex]=f;else{m.push(f.apply(e,r));if(l)break}}l=n,a=v;return m.length?m:null};u.listeners=function(t){var e=t.split(n),i=h,s,o,a,l,u,c,d,f,p=[i],g=[];for(l=0,u=e.length;l<u;l++){f=[];for(c=0,d=p.length;c<d;c++){i=p[c].n,o=[i[e[l]],i[r]],a=2;while(a--)s=o[a],s&&(f.push(s),g=g.concat(s.f||[]))}p=f}return g},u.on=function(t,e){var i=t.split(n),r=h;for(var o=0,a=i.length;o<a;o++)r=r.n,!r[i[o]]&&(r[i[o]]={n:{}}),r=r[i[o]];r.f=r.f||[];for(o=0,a=r.f.length;o<a;o++)if(r.f[o]==e)return s;r.f.push(e);return function(t){+t==+t&&(e.zIndex=+t)}},u.stop=function(){l=1},u.nt=function(t){if(t)return new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(a);return a},u.off=u.unbind=function(t,e){var s=t.split(n),o,a,l,u,c,d,f,p=[h];for(u=0,c=s.length;u<c;u++)for(d=0;d<p.length;d+=l.length-2){l=[d,1],o=p[d].n;if(s[u]!=r)o[s[u]]&&l.push(o[s[u]]);else for(a in o)o[i](a)&&l.push(o[a]);p.splice.apply(p,l)}for(u=0,c=p.length;u<c;u++){o=p[u];while(o.n){if(e){if(o.f){for(d=0,f=o.f.length;d<f;d++)if(o.f[d]==e){o.f.splice(d,1);break}!o.f.length&&delete o.f}for(a in o.n)if(o.n[i](a)&&o.n[a].f){var g=o.n[a].f;for(d=0,f=g.length;d<f;d++)if(g[d]==e){g.splice(d,1);break}!g.length&&delete o.n[a].f}}else{delete o.f;for(a in o.n)o.n[i](a)&&o.n[a].f&&delete o.n[a].f}o=o.n}}},u.once=function(t,e){var i=function(){var n=e.apply(this,arguments);u.unbind(t,i);return n};return u.on(t,i)},u.version=e,u.toString=function(){return"You are running Eve "+e},typeof module!="undefined"&&module.exports?module.exports=u:typeof define!="undefined"?define("eve",[],function(){return u}):t.eve=u})(this),function(){function t(t){for(var e=0;e<Me.length;e++)Me[e].el.paper==t&&Me.splice(e--,1)}function e(t,e,i,r,s,a){i=lt(i);var l,h,u,c=[],d,f,p,g=t.ms,m={},v={},y={};if(r)for(x=0,C=Me.length;x<C;x++){var b=Me[x];if(b.el.id==e.id&&b.anim==t){b.percent!=i?(Me.splice(x,1),u=1):h=b,e.attr(b.totalOrigin);break}}else r=+v;for(var x=0,C=t.percents.length;x<C;x++){if(t.percents[x]==i||t.percents[x]>r*t.top){i=t.percents[x],f=t.percents[x-1]||0,g=g/t.top*(i-f),d=t.percents[x+1],l=t.anim[i];break}r&&e.attr(t.anim[t.percents[x]])}if(!!l){if(!h){for(var k in l)if(l[T](k))if(dt[T](k)||e.paper.customAttributes[T](k)){m[k]=e.attr(k),m[k]==null&&(m[k]=ct[k]),v[k]=l[k];switch(dt[k]){case G:y[k]=(v[k]-m[k])/g;break;case"colour":m[k]=w.getRGB(m[k]);var S=w.getRGB(v[k]);y[k]={r:(S.r-m[k].r)/g,g:(S.g-m[k].g)/g,b:(S.b-m[k].b)/g};break;case"path":var D=Kt(m[k],v[k]),M=D[1];m[k]=D[0],y[k]=[];for(x=0,C=m[k].length;x<C;x++){y[k][x]=[0];for(var P=1,E=m[k][x].length;P<E;P++)y[k][x][P]=(M[x][P]-m[k][x][P])/g}break;case"transform":var I=e._,A=ae(I[k],v[k]);if(A){m[k]=A.from,v[k]=A.to,y[k]=[],y[k].real=!0;for(x=0,C=m[k].length;x<C;x++){y[k][x]=[m[k][x][0]];for(P=1,E=m[k][x].length;P<E;P++)y[k][x][P]=(v[k][x][P]-m[k][x][P])/g}}else{var R=e.matrix||new o,L={_:{transform:I.transform},getBBox:function(){return e.getBBox(1)}};m[k]=[R.a,R.b,R.c,R.d,R.e,R.f],se(L,v[k]),v[k]=L._.transform,y[k]=[(L.matrix.a-R.a)/g,(L.matrix.b-R.b)/g,(L.matrix.c-R.c)/g,(L.matrix.d-R.d)/g,(L.matrix.e-R.e)/g,(L.matrix.f-R.f)/g]}break;case"csv":var F=$(l[k])[z](_),N=$(m[k])[z](_);if(k=="clip-rect"){m[k]=N,y[k]=[],x=N.length;while(x--)y[k][x]=(F[x]-m[k][x])/g}v[k]=F;break;default:F=[][H](l[k]),N=[][H](m[k]),y[k]=[],x=e.paper.customAttributes[k].length;while(x--)y[k][x]=((F[x]||0)-(N[x]||0))/g}}var O=l.easing,B=w.easing_formulas[O];if(!B){B=$(O).match(st);if(B&&B.length==5){var W=B;B=function(t){return n(t,+W[1],+W[2],+W[3],+W[4],g)}}else B=St}p=l.start||t.start||+new Date,b={anim:t,percent:i,timestamp:p,start:p+(t.del||0),status:0,initstatus:r||0,stop:!1,ms:g,easing:B,from:m,diff:y,to:v,el:e,callback:l.callback,prev:f,next:d,repeat:a||t.times,origin:e.attr(),totalOrigin:s},Me.push(b);if(r&&!h&&!u){b.stop=!0,b.start=new Date-g*r;if(Me.length==1)return Ee()}u&&(b.start=new Date-b.ms*r),Me.length==1&&Pe(Ee)}else h.initstatus=r,h.start=new Date-h.ms*r;eve("raphael.anim.start."+e.id,e,t)}}function i(t,e){var i=[],n={};this.ms=e,this.times=1;if(t){for(var r in t)t[T](r)&&(n[lt(r)]=t[r],i.push(lt(r)));i.sort(Ct)}this.anim=n,this.top=i[i.length-1],this.percents=i}function n(t,e,i,n,r,s){function o(t,e){var i,n,r,s,o,a;for(r=t,a=0;a<8;a++){s=l(r)-t;if(Y(s)<e)return r;o=(3*c*r+2*u)*r+h;if(Y(o)<1e-6)break;r=r-s/o}i=0,n=1,r=t;if(r<i)return i;if(r>n)return n;while(i<n){s=l(r);if(Y(s-t)<e)return r;t>s?i=r:n=r,r=(n-i)/2+i}return r}function a(t,e){var i=o(t,e);return((p*i+f)*i+d)*i}function l(t){return((c*t+u)*t+h)*t}var h=3*e,u=3*(n-e)-h,c=1-h-u,d=3*i,f=3*(r-i)-d,p=1-d-f;return a(t,1/(200*s))}function r(){return this.x+F+this.y+F+this.width+" × "+this.height}function s(){return this.x+F+this.y}function o(t,e,i,n,r,s){t!=null?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function a(t,e,i){t=w._path2curve(t),e=w._path2curve(e);var n,r,s,o,a,h,u,c,d,f,p=i?0:[];for(var g=0,m=t.length;g<m;g++){var v=t[g];if(v[0]=="M")n=a=v[1],r=h=v[2];else{v[0]=="C"?(d=[n,r].concat(v.slice(1)),n=d[6],r=d[7]):(d=[n,r,n,r,a,h,a,h],n=a,r=h);for(var y=0,b=e.length;y<b;y++){var x=e[y];if(x[0]=="M")s=u=x[1],o=c=x[2];else{x[0]=="C"?(f=[s,o].concat(x.slice(1)),s=f[6],o=f[7]):(f=[s,o,s,o,u,c,u,c],s=u,o=c);var _=l(d,f,i);if(i)p+=_;else{for(var C=0,k=_.length;C<k;C++)_[C].segment1=g,_[C].segment2=y,_[C].bez1=d,_[C].bez2=f;p=p.concat(_)}}}}}return p}function l(t,e,i){var n=w.bezierBBox(t),r=w.bezierBBox(e);if(!w.isBBoxIntersect(n,r))return i?0:[];var s=f.apply(0,t),o=f.apply(0,e),a=~~(s/5),l=~~(o/5),h=[],u=[],d={},p=i?0:[];for(var g=0;g<a+1;g++){var m=w.findDotsAtSegment.apply(w,t.concat(g/a));h.push({x:m.x,y:m.y,t:g/a})}for(g=0;g<l+1;g++)m=w.findDotsAtSegment.apply(w,e.concat(g/l)),u.push({x:m.x,y:m.y,t:g/l});for(g=0;g<a;g++)for(var v=0;v<l;v++){var y=h[g],b=h[g+1],x=u[v],_=u[v+1],C=Y(b.x-y.x)<.001?"y":"x",k=Y(_.x-x.x)<.001?"y":"x",S=c(y.x,y.y,b.x,b.y,x.x,x.y,_.x,_.y);if(S){if(d[S.x.toFixed(4)]==S.y.toFixed(4))continue;d[S.x.toFixed(4)]=S.y.toFixed(4);var T=y.t+Y((S[C]-y[C])/(b[C]-y[C]))*(b.t-y.t),D=x.t+Y((S[k]-x[k])/(_[k]-x[k]))*(_.t-x.t);T>=0&&T<=1&&D>=0&&D<=1&&(i?p++:p.push({x:S.x,y:S.y,t1:T,t2:D}))}}return p}function h(t,e){return l(t,e,1)}function u(t,e){return l(t,e)}function c(t,e,i,n,r,s,o,a){if(!(j(t,i)<q(r,o)||q(t,i)>j(r,o)||j(e,n)<q(s,a)||q(e,n)>j(s,a))){var l=(t*n-e*i)*(r-o)-(t-i)*(r*a-s*o),h=(t*n-e*i)*(s-a)-(e-n)*(r*a-s*o),u=(t-i)*(s-a)-(e-n)*(r-o);if(!u)return;var c=l/u,d=h/u,f=+c.toFixed(2),p=+d.toFixed(2);if(f<+q(t,i).toFixed(2)||f>+j(t,i).toFixed(2)||f<+q(r,o).toFixed(2)||f>+j(r,o).toFixed(2)||p<+q(e,n).toFixed(2)||p>+j(e,n).toFixed(2)||p<+q(s,a).toFixed(2)||p>+j(s,a).toFixed(2))return;return{x:c,y:d}}}function d(t,e,i,n,r,s,o,a,l){if(!(l<0||f(t,e,i,n,r,s,o,a)<l)){var h=1,u=h/2,c=h-u,d,p=.01;d=f(t,e,i,n,r,s,o,a,c);while(Y(d-l)>p)u/=2,c+=(d<l?1:-1)*u,d=f(t,e,i,n,r,s,o,a,c);return c}}function f(t,e,i,n,r,s,o,a,l){l==null&&(l=1),l=l>1?1:l<0?0:l;var h=l/2,u=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0;for(var g=0;g<u;g++){var m=h*c[g]+h,v=p(m,t,i,r,o),y=p(m,e,n,s,a),b=v*v+y*y;f+=d[g]*W.sqrt(b)}return h*f}function p(t,e,i,n,r){var s=-3*e+9*i-9*n+3*r,o=t*s+6*e-12*i+6*n;return t*o-3*e+3*i}function g(t,e){var i=[];for(var n=0,r=t.length;r-2*!e>n;n+=2){var s=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?s[3]={x:+t[0],y:+t[1]}:r-2==n&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?s[3]=s[2]:n||(s[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return i}function m(){return this.hex}function v(t,e,i){function n(){var r=Array.prototype.slice.call(arguments,0),s=r.join("␀"),o=n.cache=n.cache||{},a=n.count=n.count||[];if(o[T](s)){y(a,s);return i?i(o[s]):o[s]}a.length>=1e3&&delete o[a.shift()],a.push(s),o[s]=t[A](e,r);return i?i(o[s]):o[s]}return n}function y(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function b(t){if(Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[T](i)&&(e[i]=b(t[i]));return e}function w(t){if(w.is(t,"function"))return x?t():eve.on("raphael.DOMload",t);if(w.is(t,K))return w._engine.create[A](w,t.splice(0,3+w.is(t[0],G))).add(t);var e=Array.prototype.slice.call(arguments,0);if(w.is(e[e.length-1],"function")){var i=e.pop();return x?i.call(w._engine.create[A](w,e)):eve.on("raphael.DOMload",function(){i.call(w._engine.create[A](w,e))})}return w._engine.create[A](w,arguments)}w.version="2.1.0",w.eve=eve;var x,_=/[, ]+/,C={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},k=/\{(\d+)\}/g,S="prototype",T="hasOwnProperty",D={doc:document,win:window},M={was:Object.prototype[T].call(D.win,"Raphael"),is:D.win.Raphael},P=function(){this.ca=this.customAttributes={}},E,I="appendChild",A="apply",H="concat",R="createTouch"in D.doc,L="",F=" ",$=String,z="split",N="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[z](F),O={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},B=$.prototype.toLowerCase,W=Math,j=W.max,q=W.min,Y=W.abs,U=W.pow,V=W.PI,G="number",X="string",K="array",Q="toString",Z="fill",J=Object.prototype.toString,tt={},et="push",it=w._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,nt=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,rt={NaN:1,Infinity:1,"-Infinity":1},st=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,ot=W.round,at="setAttribute",lt=parseFloat,ht=parseInt,ut=$.prototype.toUpperCase,ct=w._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},dt=w._availableAnimAttrs={blur:G,"clip-rect":"csv",cx:G,cy:G,fill:"colour","fill-opacity":G,"font-size":G,height:G,opacity:G,path:"path",r:G,rx:G,ry:G,stroke:"colour","stroke-opacity":G,"stroke-width":G,transform:"transform",width:G,x:G,y:G},ft=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,pt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,gt={hs:1,rg:1},mt=/,?([achlmqrstvxz]),?/gi,vt=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,yt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,bt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,wt=w._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,xt={},_t=function(t,e){return t.key-e.key},Ct=function(t,e){return lt(t)-lt(e)},kt=function(){},St=function(t){return t},Tt=w._rectPath=function(t,e,i,n,r){if(r)return[["M",t+r,e],["l",i-r*2,0],["a",r,r,0,0,1,r,r],["l",0,n-r*2],["a",r,r,0,0,1,-r,r],["l",r*2-i,0],["a",r,r,0,0,1,-r,-r],["l",0,r*2-n],["a",r,r,0,0,1,r,-r],["z"]];return[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},Dt=function(t,e,i,n){n==null&&(n=i);return[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},Mt=w._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return Dt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return Dt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return Tt(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return Tt(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return Tt(e.x,e.y,e.width,e.height)}},Pt=w.mapPath=function(t,e){if(!e)return t;var i,n,r,s,o,a,l;t=Kt(t);for(r=0,o=t.length;r<o;r++){l=t[r];for(s=1,a=l.length;s<a;s+=2)i=e.x(l[s],l[s+1]),n=e.y(l[s],l[s+1]),l[s]=i,l[s+1]=n}return t};w._g=D,w.type=D.win.SVGAngle||D.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(w.type=="VML"){var Et=D.doc.createElement("div"),It;Et.innerHTML='<v:shape adj="1"/>',It=Et.firstChild,It.style.behavior="url(#default#VML)";if(!It||typeof It.adj!="object")return w.type=L;Et=null}w.svg=!(w.vml=w.type=="VML"),w._Paper=P,w.fn=E=P.prototype=w.prototype,w._id=0,w._oid=0,w.is=function(t,e){e=B.call(e);if(e=="finite")return!rt[T](+t);if(e=="array")return t instanceof Array;return e=="null"&&t===null||e==typeof t&&t!==null||e=="object"&&t===Object(t)||e=="array"&&Array.isArray&&Array.isArray(t)||J.call(t).slice(8,-1).toLowerCase()==e},w.angle=function(t,e,i,n,r,s){if(r==null){var o=t-i,a=e-n;if(!o&&!a)return 0;return(180+W.atan2(-a,-o)*180/V+360)%360}return w.angle(t,e,r,s)-w.angle(i,n,r,s)},w.rad=function(t){return t%360*V/180},w.deg=function(t){return t*180/V%360},w.snapTo=function(t,e,i){i=w.is(i,"finite")?i:10;if(w.is(t,K)){var n=t.length;while(n--)if(Y(t[n]-e)<=i)return t[n]}else{t=+t;var r=e%t;if(r<i)return e-r;if(r>t-i)return e-r+t}return e};var At=w.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=W.random()*16|0,i=t=="x"?e:e&3|8;return i.toString(16)});w.setWindow=function(t){eve("raphael.setWindow",w,D.win,t),D.win=t,D.doc=D.win.document,w._engine.initWin&&w._engine.initWin(D.win)};var Ht=function(t){if(w.vml){var e=/^\s+|\s+$/g,i;try{var n=new ActiveXObject("htmlfile");n.write("<body>"),n.close(),i=n.body}catch(t){i=createPopup().document.body}var r=i.createTextRange();Ht=v(function(t){try{i.style.color=$(t).replace(e,L);var n=r.queryCommandValue("ForeColor");n=(n&255)<<16|n&65280|(n&16711680)>>>16;return"#"+("000000"+n.toString(16)).slice(-6)}catch(t){return"none"}})}else{var s=D.doc.createElement("i");s.title="Raphaël Colour Picker",s.style.display="none",D.doc.body.appendChild(s),Ht=v(function(t){s.style.color=t;return D.doc.defaultView.getComputedStyle(s,L).getPropertyValue("color")})}return Ht(t)},Rt=function(){return"hsb("+[this.h,this.s,this.b]+")"},Lt=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ft=function(){return this.hex},$t=function(t,e,i){e==null&&w.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,e=t.g,t=t.r);if(e==null&&w.is(t,X)){var n=w.getRGB(t);t=n.r,e=n.g,i=n.b}if(t>1||e>1||i>1)t/=255,e/=255,i/=255;return[t,e,i]},zt=function(t,e,i,n){t*=255,e*=255,i*=255;var r={r:t,g:e,b:i,hex:w.rgb(t,e,i),toString:Ft};w.is(n,"finite")&&(r.opacity=n);return r};w.color=function(t){var e;w.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=w.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):w.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=w.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(w.is(t,"string")&&(t=w.getRGB(t)),w.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=w.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=w.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=Ft;return t},w.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,n=t.o),t*=360;var r,s,o,a,l;t=t%360/60,l=i*e,a=l*(1-Y(t%2-1)),r=s=o=i-l,t=~~t,r+=[l,a,0,0,a,l][t],s+=[a,l,l,a,0,0][t],o+=[0,0,a,l,l,a][t];return zt(r,s,o,n)},w.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h);if(t>1||e>1||i>1)t/=360,e/=100,i/=100;t*=360;var r,s,o,a,l;t=t%360/60,l=2*e*(i<.5?i:1-i),a=l*(1-Y(t%2-1)),r=s=o=i-l/2,t=~~t,r+=[l,a,0,0,a,l][t],s+=[a,l,l,a,0,0][t],o+=[0,0,a,l,l,a][t];return zt(r,s,o,n)},w.rgb2hsb=function(t,e,i){i=$t(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,s,o;s=j(t,e,i),o=s-q(t,e,i),n=o==0?null:s==t?(e-i)/o:s==e?(i-t)/o+2:(t-e)/o+4,n=(n+360)%6*60/360,r=o==0?0:o/s;return{h:n,s:r,b:s,toString:Rt}},w.rgb2hsl=function(t,e,i){i=$t(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,s,o,a,l;o=j(t,e,i),a=q(t,e,i),l=o-a,n=l==0?null:o==t?(e-i)/l:o==e?(i-t)/l+2:(t-e)/l+4,n=(n+360)%6*60/360,s=(o+a)/2,r=l==0?0:s<.5?l/(2*s):l/(2-2*s);return{h:n,s:r,l:s,toString:Lt}},w._path2string=function(){return this.join(",").replace(mt,"$1")};var Nt=w._preload=function(t,e){var i=D.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,D.doc.body.removeChild(this)},i.onerror=function(){D.doc.body.removeChild(this)},D.doc.body.appendChild(i),i.src=t};w.getRGB=v(function(t){if(!t||!!((t=$(t)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:m};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:m};!gt[T](t.toLowerCase().substring(0,2))&&t.charAt()!="#"&&(t=Ht(t));var e,i,n,r,s,o,a,l=t.match(nt);if(l){l[2]&&(r=ht(l[2].substring(5),16),n=ht(l[2].substring(3,5),16),i=ht(l[2].substring(1,3),16)),l[3]&&(r=ht((o=l[3].charAt(3))+o,16),n=ht((o=l[3].charAt(2))+o,16),i=ht((o=l[3].charAt(1))+o,16)),l[4]&&(a=l[4][z](pt),i=lt(a[0]),a[0].slice(-1)=="%"&&(i*=2.55),n=lt(a[1]),a[1].slice(-1)=="%"&&(n*=2.55),r=lt(a[2]),a[2].slice(-1)=="%"&&(r*=2.55),l[1].toLowerCase().slice(0,4)=="rgba"&&(s=lt(a[3])),a[3]&&a[3].slice(-1)=="%"&&(s/=100));if(l[5]){a=l[5][z](pt),i=lt(a[0]),a[0].slice(-1)=="%"&&(i*=2.55),n=lt(a[1]),a[1].slice(-1)=="%"&&(n*=2.55),r=lt(a[2]),a[2].slice(-1)=="%"&&(r*=2.55),(a[0].slice(-3)=="deg"||a[0].slice(-1)=="°")&&(i/=360),l[1].toLowerCase().slice(0,4)=="hsba"&&(s=lt(a[3])),a[3]&&a[3].slice(-1)=="%"&&(s/=100);return w.hsb2rgb(i,n,r,s)}if(l[6]){a=l[6][z](pt),i=lt(a[0]),a[0].slice(-1)=="%"&&(i*=2.55),n=lt(a[1]),a[1].slice(-1)=="%"&&(n*=2.55),r=lt(a[2]),a[2].slice(-1)=="%"&&(r*=2.55),(a[0].slice(-3)=="deg"||a[0].slice(-1)=="°")&&(i/=360),l[1].toLowerCase().slice(0,4)=="hsla"&&(s=lt(a[3])),a[3]&&a[3].slice(-1)=="%"&&(s/=100);return w.hsl2rgb(i,n,r,s)}l={r:i,g:n,b:r,toString:m},l.hex="#"+(16777216|r|n<<8|i<<16).toString(16).slice(1),w.is(s,"finite")&&(l.opacity=s);return l}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:m}},w),w.hsb=v(function(t,e,i){return w.hsb2rgb(t,e,i).hex}),w.hsl=v(function(t,e,i){return w.hsl2rgb(t,e,i).hex}),w.rgb=v(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),w.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b}));return i.hex},w.getColor.reset=function(){delete this.start},w.parsePathString=function(t){if(!t)return null;var e=Ot(t);if(e.arr)return Wt(e.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];w.is(t,K)&&w.is(t[0],K)&&(n=Wt(t)),n.length||$(t).replace(vt,function(t,e,r){var s=[],o=e.toLowerCase();r.replace(bt,function(t,e){e&&s.push(+e)}),o=="m"&&s.length>2&&(n.push([e][H](s.splice(0,2))),o="l",e=e=="m"?"l":"L");if(o=="r")n.push([e][H](s));else while(s.length>=i[o]){n.push([e][H](s.splice(0,i[o])));if(!i[o])break}}),n.toString=w._path2string,e.arr=Wt(n);return n},w.parseTransformString=v(function(t){if(!t)return null;var e={r:3,s:4,t:2,m:6},i=[];w.is(t,K)&&w.is(t[0],K)&&(i=Wt(t)),i.length||$(t).replace(yt,function(t,e,n){var r=[],s=B.call(e);n.replace(bt,function(t,e){e&&r.push(+e)}),i.push([e][H](r))}),i.toString=w._path2string;return i});var Ot=function(t){var e=Ot.ps=Ot.ps||{};e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[T](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])});return e[t]};w.findDotsAtSegment=function(t,e,i,n,r,s,o,a,l){var h=1-l,u=U(h,3),c=U(h,2),d=l*l,f=d*l,p=u*t+c*3*l*i+h*3*l*l*r+f*o,g=u*e+c*3*l*n+h*3*l*l*s+f*a,m=t+2*l*(i-t)+d*(r-2*i+t),v=e+2*l*(n-e)+d*(s-2*n+e),y=i+2*l*(r-i)+d*(o-2*r+i),b=n+2*l*(s-n)+d*(a-2*s+n),w=h*t+l*i,x=h*e+l*n,_=h*r+l*o,C=h*s+l*a,k=90-W.atan2(m-y,v-b)*180/V;(m>y||v<b)&&(k+=180);return{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:w,y:x},end:{x:_,y:C},alpha:k}},w.bezierBBox=function(t,e,i,n,r,s,o,a){w.is(t,"array")||(t=[t,e,i,n,r,s,o,a]);var l=Xt.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},w.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},w.isBBoxIntersect=function(t,e){var i=w.isPointInsideBBox;return i(e,t.x,t.y)||i(e,t.x2,t.y)||i(e,t.x,t.y2)||i(e,t.x2,t.y2)||i(t,e.x,e.y)||i(t,e.x2,e.y)||i(t,e.x,e.y2)||i(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},w.pathIntersection=function(t,e){return a(t,e)},w.pathIntersectionNumber=function(t,e){return a(t,e,1)},w.isPointInsidePath=function(t,e,i){var n=w.pathBBox(t);return w.isPointInsideBBox(n,e,i)&&a(t,[["M",e,i],["H",n.x2+10]],1)%2==1},w._removedFactory=function(t){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var Bt=w.pathBBox=function(t){var e=Ot(t);if(e.bbox)return e.bbox;if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Kt(t);var i=0,n=0,r=[],s=[],o;for(var a=0,l=t.length;a<l;a++){o=t[a];if(o[0]=="M")i=o[1],n=o[2],r.push(i),s.push(n);else{var h=Xt(i,n,o[1],o[2],o[3],o[4],o[5],o[6]);r=r[H](h.min.x,h.max.x),s=s[H](h.min.y,h.max.y),i=o[5],n=o[6]}}var u=q[A](0,r),c=q[A](0,s),d=j[A](0,r),f=j[A](0,s),p={x:u,y:c,x2:d,y2:f,width:d-u,height:f-c};e.bbox=b(p);return p},Wt=function(t){var e=b(t);e.toString=w._path2string;return e},jt=w._pathToRelative=function(t){var e=Ot(t);if(e.rel)return Wt(e.rel);if(!w.is(t,K)||!w.is(t&&t[0],K))t=w.parsePathString(t);var i=[],n=0,r=0,s=0,o=0,a=0;t[0][0]=="M"&&(n=t[0][1],r=t[0][2],s=n,o=r,a++,i.push(["M",n,r]));for(var l=a,h=t.length;l<h;l++){var u=i[l]=[],c=t[l];if(c[0]!=B.call(c[0])){u[0]=B.call(c[0]);switch(u[0]){case"a":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]-n).toFixed(3),u[7]=+(c[7]-r).toFixed(3);break;case"v":u[1]=+(c[1]-r).toFixed(3);break;case"m":s=c[1],o=c[2];default:for(var d=1,f=c.length;d<f;d++)u[d]=+(c[d]-(d%2?n:r)).toFixed(3)}}else{u=i[l]=[],c[0]=="m"&&(s=c[1]+n,o=c[2]+r);for(var p=0,g=c.length;p<g;p++)i[l][p]=c[p]}var m=i[l].length;switch(i[l][0]){case"z":n=s,r=o;break;case"h":n+=+i[l][m-1];break;case"v":r+=+i[l][m-1];break;default:n+=+i[l][m-2],r+=+i[l][m-1]}}i.toString=w._path2string,e.rel=Wt(i);return i},qt=w._pathToAbsolute=function(t){var e=Ot(t);if(e.abs)return Wt(e.abs);if(!w.is(t,K)||!w.is(t&&t[0],K))t=w.parsePathString(t);if(!t||!t.length)return[["M",0,0]];var i=[],n=0,r=0,s=0,o=0,a=0;t[0][0]=="M"&&(n=+t[0][1],r=+t[0][2],s=n,o=r,a++,i[0]=["M",n,r]);var l=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z";for(var h,u,c=a,d=t.length;c<d;c++){i.push(h=[]),u=t[c];if(u[0]!=ut.call(u[0])){h[0]=ut.call(u[0]);switch(h[0]){case"A":h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=+(u[6]+n),h[7]=+(u[7]+r);break;case"V":h[1]=+u[1]+r;break;case"H":h[1]=+u[1]+n;break;case"R":var f=[n,r][H](u.slice(1));for(var p=2,m=f.length;p<m;p++)f[p]=+f[p]+n,f[++p]=+f[p]+r;i.pop(),i=i[H](g(f,l));break;case"M":s=+u[1]+n,o=+u[2]+r;default:for(p=1,m=u.length;p<m;p++)h[p]=+u[p]+(p%2?n:r)}}else if(u[0]=="R")f=[n,r][H](u.slice(1)),i.pop(),i=i[H](g(f,l)),h=["R"][H](u.slice(-2));else for(var v=0,y=u.length;v<y;v++)h[v]=u[v];switch(h[0]){case"Z":n=s,r=o;break;case"H":n=h[1];break;case"V":r=h[1];break;case"M":s=h[h.length-2],o=h[h.length-1];default:n=h[h.length-2],r=h[h.length-1]}}i.toString=w._path2string,e.abs=Wt(i);return i},Yt=function(t,e,i,n){return[t,e,i,n,i,n]},Ut=function(t,e,i,n,r,s){var o=1/3,a=2/3;return[o*t+a*i,o*e+a*n,o*r+a*i,o*s+a*n,r,s]},Vt=function(t,e,i,n,r,s,o,a,l,h){var u=V*120/180,c=V/180*(+r||0),d=[],f,p=v(function(t,e,i){var n=t*W.cos(i)-e*W.sin(i),r=t*W.sin(i)+e*W.cos(i);return{x:n,y:r}});if(!h){f=p(t,e,-c),t=f.x,e=f.y,f=p(a,l,-c),a=f.x,l=f.y;var g=W.cos(V/180*r),m=W.sin(V/180*r),y=(t-a)/2,b=(e-l)/2,w=y*y/(i*i)+b*b/(n*n);w>1&&(w=W.sqrt(w),i=w*i,n=w*n);var x=i*i,_=n*n,C=(s==o?-1:1)*W.sqrt(Y((x*_-x*b*b-_*y*y)/(x*b*b+_*y*y))),k=C*i*b/n+(t+a)/2,S=C*-n*y/i+(e+l)/2,T=W.asin(((e-S)/n).toFixed(9)),D=W.asin(((l-S)/n).toFixed(9));T=t<k?V-T:T,D=a<k?V-D:D,T<0&&(T=V*2+T),D<0&&(D=V*2+D),o&&T>D&&(T=T-V*2),!o&&D>T&&(D=D-V*2)}else T=h[0],D=h[1],k=h[2],S=h[3];var M=D-T;if(Y(M)>u){var P=D,E=a,I=l;D=T+u*(o&&D>T?1:-1),a=k+i*W.cos(D),l=S+n*W.sin(D),d=Vt(a,l,i,n,r,0,o,E,I,[D,P,k,S])}M=D-T;var A=W.cos(T),R=W.sin(T),L=W.cos(D),F=W.sin(D),$=W.tan(M/4),N=4/3*i*$,O=4/3*n*$,B=[t,e],j=[t+N*R,e-O*A],q=[a+N*F,l-O*L],U=[a,l];j[0]=2*B[0]-j[0],j[1]=2*B[1]-j[1];if(h)return[j,q,U][H](d);d=[j,q,U][H](d).join()[z](",");var G=[];for(var X=0,K=d.length;X<K;X++)G[X]=X%2?p(d[X-1],d[X],c).y:p(d[X],d[X+1],c).x;return G},Gt=function(t,e,i,n,r,s,o,a,l){var h=1-l;return{x:U(h,3)*t+U(h,2)*3*l*i+h*3*l*l*r+U(l,3)*o,y:U(h,3)*e+U(h,2)*3*l*n+h*3*l*l*s+U(l,3)*a}},Xt=v(function(t,e,i,n,r,s,o,a){var l=r-2*i+t-(o-2*r+i),h=2*(i-t)-2*(r-i),u=t-i,c=(-h+W.sqrt(h*h-4*l*u))/2/l,d=(-h-W.sqrt(h*h-4*l*u))/2/l,f=[e,a],p=[t,o],g;Y(c)>"1e12"&&(c=.5),Y(d)>"1e12"&&(d=.5),c>0&&c<1&&(g=Gt(t,e,i,n,r,s,o,a,c),p.push(g.x),f.push(g.y)),d>0&&d<1&&(g=Gt(t,e,i,n,r,s,o,a,d),p.push(g.x),f.push(g.y)),l=s-2*n+e-(a-2*s+n),h=2*(n-e)-2*(s-n),u=e-n,c=(-h+W.sqrt(h*h-4*l*u))/2/l,d=(-h-W.sqrt(h*h-4*l*u))/2/l,Y(c)>"1e12"&&(c=.5),Y(d)>"1e12"&&(d=.5),c>0&&c<1&&(g=Gt(t,e,i,n,r,s,o,a,c),p.push(g.x),f.push(g.y)),d>0&&d<1&&(g=Gt(t,e,i,n,r,s,o,a,d),p.push(g.x),f.push(g.y));return{min:{x:q[A](0,p),y:q[A](0,f)},max:{x:j[A](0,p),y:j[A](0,f)}}}),Kt=w._path2curve=v(function(t,e){var i=!e&&Ot(t);if(!e&&i.curve)return Wt(i.curve);var n=qt(t),r=e&&qt(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(t,e){var i,n;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null);switch(t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][H](Vt[A](0,[e.x,e.y][H](t.slice(1))));break;case"S":i=e.x+(e.x-(e.bx||e.x)),n=e.y+(e.y-(e.by||e.y)),t=["C",i,n][H](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][H](Ut(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][H](Ut(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][H](Yt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][H](Yt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][H](Yt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][H](Yt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();var i=t[e];while(i.length)t.splice(e++,0,["C"][H](i.splice(0,6)));t.splice(e,1),c=j(n.length,r&&r.length||0)}},h=function(t,e,i,s,o){t&&e&&t[o][0]=="M"&&e[o][0]!="M"&&(e.splice(o,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=t[o][1],i.y=t[o][2],c=j(n.length,r&&r.length||0))};for(var u=0,c=j(n.length,r&&r.length||0);u<c;u++){n[u]=a(n[u],s),l(n,u),r&&(r[u]=a(r[u],o)),r&&l(r,u),h(n,r,s,o,u),h(r,n,o,s,u);var d=n[u],f=r&&r[u],p=d.length,g=r&&f.length;s.x=d[p-2],s.y=d[p-1],s.bx=lt(d[p-4])||s.x,s.by=lt(d[p-3])||s.y,o.bx=r&&(lt(f[g-4])||o.x),o.by=r&&(lt(f[g-3])||o.y),o.x=r&&f[g-2],o.y=r&&f[g-1]}r||(i.curve=Wt(n));return r?[n,r]:n},null,Wt),Qt=w._parseDots=v(function(t){var e=[];for(var i=0,n=t.length;i<n;i++){var r={},s=t[i].match(/^([^:]*):?([\d\.]*)/);r.color=w.getRGB(s[1]);if(r.color.error)return null;r.color=r.color.hex,s[2]&&(r.offset=s[2]+"%"),e.push(r)}for(i=1,n=e.length-1;i<n;i++)if(!e[i].offset){var o=lt(e[i-1].offset||0),a=0;for(var l=i+1;l<n;l++)if(e[l].offset){a=e[l].offset;break}a||(a=100,l=n),a=lt(a);var h=(a-o)/(l-i+1);for(;i<l;i++)o+=h,e[i].offset=o+"%"}return e}),Zt=w._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},Jt=w._tofront=function(t,e){e.top!==t&&(Zt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},te=w._toback=function(t,e){e.bottom!==t&&(Zt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},ee=w._insertafter=function(t,e,i){Zt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},ie=w._insertbefore=function(t,e,i){Zt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},ne=w.toMatrix=function(t,e){var i=Bt(t),n={_:{transform:L},getBBox:function(){return i}};se(n,e);return n.matrix},re=w.transformPath=function(t,e){return Pt(t,ne(t,e))},se=w._extractTransform=function(t,e){if(e==null)return t._.transform;e=$(e).replace(/\.{3}|\u2026/g,t._.transform||L);var i=w.parseTransformString(e),n=0,r=0,s=0,a=1,l=1,h=t._,u=new o;h.transform=i||[];if(i)for(var c=0,d=i.length;c<d;c++){var f=i[c],p=f.length,g=$(f[0]).toLowerCase(),m=f[0]!=g,v=m?u.invert():0,y,b,x,_,C;g=="t"&&p==3?m?(y=v.x(0,0),b=v.y(0,0),x=v.x(f[1],f[2]),_=v.y(f[1],f[2]),u.translate(x-y,_-b)):u.translate(f[1],f[2]):g=="r"?p==2?(C=C||t.getBBox(1),u.rotate(f[1],C.x+C.width/2,C.y+C.height/2),n+=f[1]):p==4&&(m?(x=v.x(f[2],f[3]),_=v.y(f[2],f[3]),u.rotate(f[1],x,_)):u.rotate(f[1],f[2],f[3]),n+=f[1]):g=="s"?p==2||p==3?(C=C||t.getBBox(1),u.scale(f[1],f[p-1],C.x+C.width/2,C.y+C.height/2),a*=f[1],l*=f[p-1]):p==5&&(m?(x=v.x(f[3],f[4]),_=v.y(f[3],f[4]),u.scale(f[1],f[2],x,_)):u.scale(f[1],f[2],f[3],f[4]),a*=f[1],l*=f[2]):g=="m"&&p==7&&u.add(f[1],f[2],f[3],f[4],f[5],f[6]),h.dirtyT=1,t.matrix=u}t.matrix=u,h.sx=a,h.sy=l,h.deg=n,h.dx=r=u.e,h.dy=s=u.f,a==1&&l==1&&!n&&h.bbox?(h.bbox.x+=+r,h.bbox.y+=+s):h.dirtyT=1},oe=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return t.length==4?[e,0,t[2],t[3]]:[e,0];case"s":return t.length==5?[e,1,1,t[3],t[4]]:t.length==3?[e,1,1]:[e,1]}},ae=w._equaliseTransform=function(t,e){e=$(e).replace(/\.{3}|\u2026/g,t),t=w.parseTransformString(t)||[],e=w.parseTransformString(e)||[];var i=j(t.length,e.length),n=[],r=[],s=0,o,a,l,h;for(;s<i;s++){l=t[s]||oe(e[s]),h=e[s]||oe(l);if(l[0]!=h[0]||l[0].toLowerCase()=="r"&&(l[2]!=h[2]||l[3]!=h[3])||l[0].toLowerCase()=="s"&&(l[3]!=h[3]||l[4]!=h[4]))return;n[s]=[],r[s]=[];for(o=0,a=j(l.length,h.length);o<a;o++)o in l&&(n[s][o]=l[o]),o in h&&(r[s][o]=h[o])}return{from:n,to:r}};w._getContainer=function(t,e,i,n){var r;r=n==null&&!w.is(t,"object")?D.doc.getElementById(t):t;if(r!=null){if(r.tagName)return e==null?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:e,height:i};return{container:1,x:t,y:e,width:i,height:n}}},w.pathToRelative=jt,w._engine={},w.path2curve=Kt,w.matrix=function(t,e,i,n,r,s){return new o(t,e,i,n,r,s)},function(t){function e(t){var e=W.sqrt(i(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}function i(t){return t[0]*t[0]+t[1]*t[1]}t.add=function(t,e,i,n,r,s){var a=[[],[],[]],l=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[t,i,r],[e,n,s],[0,0,1]],u,c,d,f;t&&t instanceof o&&(h=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]);for(u=0;u<3;u++)for(c=0;c<3;c++){f=0;for(d=0;d<3;d++)f+=l[u][d]*h[d][c];a[u][c]=f}this.a=a[0][0],this.b=a[1][0],this.c=a[0][1],this.d=a[1][1],this.e=a[0][2],this.f=a[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new o(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new o(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){e==null&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,e,i){t=w.rad(t),e=e||0,i=i||0;var n=+W.cos(t).toFixed(9),r=+W.sin(t).toFixed(9);this.add(n,r,-r,n,e,i),this.add(1,0,0,1,-e,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[$.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return w.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];t.scalex=W.sqrt(i(n[0])),e(n[0]),t.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*t.shear,n[1][1]-n[0][1]*t.shear],t.scaley=W.sqrt(i(n[1])),e(n[1]),t.shear/=t.scaley;var r=-n[0][1],s=n[1][1];s<0?(t.rotate=w.deg(W.acos(s)),r<0&&(t.rotate=360-t.rotate)):t.rotate=w.deg(W.asin(r)),t.isSimple=!+t.shear.toFixed(9)&&(t.scalex.toFixed(9)==t.scaley.toFixed(9)||!t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate;return t},t.toTransformString=function(t){var e=t||this[z]();if(e.isSimple){e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4);return(e.dx||e.dy?"t"+[e.dx,e.dy]:L)+(e.scalex!=1||e.scaley!=1?"s"+[e.scalex,e.scaley,0,0]:L)+(e.rotate?"r"+[e.rotate,0,0]:L)}return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(o.prototype);var le=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);navigator.vendor=="Apple Computer, Inc."&&(le&&le[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&le&&le[1]<8?E.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:E.safari=kt;var he=function(){this.returnValue=!1},ue=function(){return this.originalEvent.preventDefault()},ce=function(){this.cancelBubble=!0},de=function(){return this.originalEvent.stopPropagation()},fe=function(){if(D.doc.addEventListener)return function(t,e,i,n){var r=R&&O[e]?O[e]:e,s=function(r){var s=D.doc.documentElement.scrollTop||D.doc.body.scrollTop,o=D.doc.documentElement.scrollLeft||D.doc.body.scrollLeft,a=r.clientX+o,l=r.clientY+s;if(R&&O[T](e))for(var h=0,u=r.targetTouches&&r.targetTouches.length;h<u;h++)if(r.targetTouches[h].target==t){var c=r;r=r.targetTouches[h],r.originalEvent=c,r.preventDefault=ue,r.stopPropagation=de;break}return i.call(n,r,a,l)};t.addEventListener(r,s,!1);return function(){t.removeEventListener(r,s,!1);return!0}};if(D.doc.attachEvent)return function(t,e,i,n){var r=function(t){t=t||D.win.event;var e=D.doc.documentElement.scrollTop||D.doc.body.scrollTop,r=D.doc.documentElement.scrollLeft||D.doc.body.scrollLeft,s=t.clientX+r,o=t.clientY+e;t.preventDefault=t.preventDefault||he,t.stopPropagation=t.stopPropagation||ce;return i.call(n,t,s,o)};t.attachEvent("on"+e,r);var s=function(){t.detachEvent("on"+e,r);return!0};return s}}(),pe=[],ge=function(t){var e=t.clientX,i=t.clientY,n=D.doc.documentElement.scrollTop||D.doc.body.scrollTop,r=D.doc.documentElement.scrollLeft||D.doc.body.scrollLeft,s,o=pe.length;while(o--){s=pe[o];if(R){var a=t.touches.length,l;while(a--){l=t.touches[a];if(l.identifier==s.el._drag.id){e=l.clientX,i=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}}else t.preventDefault();var h=s.el.node,u,c=h.nextSibling,d=h.parentNode,f=h.style.display;D.win.opera&&d.removeChild(h),h.style.display="none",u=s.el.paper.getElementByPoint(e,i),h.style.display=f,D.win.opera&&(c?d.insertBefore(h,c):d.appendChild(h)),u&&eve("raphael.drag.over."+s.el.id,s.el,u),e+=r,i+=n,eve("raphael.drag.move."+s.el.id,s.move_scope||s.el,e-s.el._drag.x,i-s.el._drag.y,e,i,t)}},me=function(t){w.unmousemove(ge).unmouseup(me);var e=pe.length,i;while(e--)i=pe[e],i.el._drag={},eve("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,t);pe=[]},ve=w.el={};for(var ye=N.length;ye--;)(function(t){w[t]=ve[t]=function(e,i){w.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:fe(this.shape||this.node||D.doc,t,e,i||this)}));return this},w["un"+t]=ve["un"+t]=function(e){var i=this.events||[],n=i.length;while(n--)if(i[n].name==t&&i[n].f==e){i[n].unbind(),i.splice(n,1),!i.length&&delete this.events;return this}return this}})(N[ye]);ve.data=function(t,e){var i=xt[this.id]=xt[this.id]||{};if(arguments.length==1){if(w.is(t,"object")){for(var n in t)t[T](n)&&this.data(n,t[n]);return this}eve("raphael.data.get."+this.id,this,i[t],t);return i[t]}i[t]=e,eve("raphael.data.set."+this.id,this,e,t);return this},ve.removeData=function(t){t==null?xt[this.id]={}:xt[this.id]&&delete xt[this.id][t];return this},ve.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},ve.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var be=[];ve.drag=function(t,e,i,n,r,s){function o(o){(o.originalEvent||o).preventDefault();var a=D.doc.documentElement.scrollTop||D.doc.body.scrollTop,l=D.doc.documentElement.scrollLeft||D.doc.body.scrollLeft;this._drag.x=o.clientX+l,this._drag.y=o.clientY+a,this._drag.id=o.identifier,!pe.length&&w.mousemove(ge).mouseup(me),pe.push({el:this,move_scope:n,start_scope:r,end_scope:s}),e&&eve.on("raphael.drag.start."+this.id,e),t&&eve.on("raphael.drag.move."+this.id,t),i&&eve.on("raphael.drag.end."+this.id,i),eve("raphael.drag.start."+this.id,r||n||this,o.clientX+l,o.clientY+a,o)}this._drag={},be.push({el:this,start:o}),this.mousedown(o);return this},ve.onDragOver=function(t){t?eve.on("raphael.drag.over."+this.id,t):eve.unbind("raphael.drag.over."+this.id)},ve.undrag=function(){var t=be.length;while(t--)be[t].el==this&&(this.unmousedown(be[t].start),be.splice(t,1),eve.unbind("raphael.drag.*."+this.id));!be.length&&w.unmousemove(ge).unmouseup(me)},E.circle=function(t,e,i){var n=w._engine.circle(this,t||0,e||0,i||0);this.__set__&&this.__set__.push(n);return n},E.rect=function(t,e,i,n,r){var s=w._engine.rect(this,t||0,e||0,i||0,n||0,r||0);this.__set__&&this.__set__.push(s);return s},E.ellipse=function(t,e,i,n){var r=w._engine.ellipse(this,t||0,e||0,i||0,n||0);this.__set__&&this.__set__.push(r);return r},E.path=function(t){t&&!w.is(t,X)&&!w.is(t[0],K)&&(t+=L);var e=w._engine.path(w.format[A](w,arguments),this);this.__set__&&this.__set__.push(e);return e},E.image=function(t,e,i,n,r){var s=w._engine.image(this,t||"about:blank",e||0,i||0,n||0,r||0);this.__set__&&this.__set__.push(s);return s},E.text=function(t,e,i){var n=w._engine.text(this,t||0,e||0,$(i));this.__set__&&this.__set__.push(n);return n},E.set=function(t){!w.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new Ae(t);this.__set__&&this.__set__.push(e);return e},E.setStart=function(t){this.__set__=t||this.set()},E.setFinish=function(t){var e=this.__set__;delete this.__set__;return e},E.setSize=function(t,e){return w._engine.setSize.call(this,t,e)},E.setViewBox=function(t,e,i,n,r){return w._engine.setViewBox.call(this,t,e,i,n,r)},E.top=E.bottom=null,E.raphael=w;var we=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,r=i.documentElement,s=r.clientTop||n.clientTop||0,o=r.clientLeft||n.clientLeft||0,a=e.top+(D.win.pageYOffset||r.scrollTop||n.scrollTop)-s,l=e.left+(D.win.pageXOffset||r.scrollLeft||n.scrollLeft)-o;return{y:a,x:l}};E.getElementByPoint=function(t,e){var i=this,n=i.canvas,r=D.doc.elementFromPoint(t,e);if(D.win.opera&&r.tagName=="svg"){var s=we(n),o=n.createSVGRect();o.x=t-s.x,o.y=e-s.y,o.width=o.height=1;var a=n.getIntersectionList(o,null);a.length&&(r=a[a.length-1])}if(!r)return null;while(r.parentNode&&r!=n.parentNode&&!r.raphael)r=r.parentNode;r==i.canvas.parentNode&&(r=n),r=r&&r.raphael?i.getById(r.raphaelid):null;return r},E.getById=function(t){var e=this.bottom;while(e){if(e.id==t)return e;e=e.next}return null},E.forEach=function(t,e){var i=this.bottom;while(i){if(t.call(e,i)===!1)return this;i=i.next}return this},E.getElementsByPoint=function(t,e){var i=this.set();this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)});return i},ve.isPointInside=function(t,e){var i=this.realPath=this.realPath||Mt[this.type](this);return w.isPointInsidePath(i,t,e)},ve.getBBox=function(t){if(this.removed)return{};var e=this._;if(t){if(e.dirty||!e.bboxwt)this.realPath=Mt[this.type](this),e.bboxwt=Bt(this.realPath),e.bboxwt.toString=r,e.dirty=0;return e.bboxwt}if(e.dirty||e.dirtyT||!e.bbox){if(e.dirty||!this.realPath)e.bboxwt=0,this.realPath=Mt[this.type](this);e.bbox=Bt(Pt(this.realPath,this.matrix)),e.bbox.toString=r,e.dirty=e.dirtyT=0}return e.bbox},ve.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(t);return t},ve.glow=function(t){if(this.type=="text")return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),s=this.realPath||Mt[this.type](this);s=this.matrix?Pt(s,this.matrix):s;for(var o=1;o<i+1;o++)r.push(n.path(s).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*o).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var xe={},_e=function(t,e,i,n,r,s,o,a,l){return l==null?f(t,e,i,n,r,s,o,a):w.findDotsAtSegment(t,e,i,n,r,s,o,a,d(t,e,i,n,r,s,o,a,l))},Ce=function(t,e){return function(i,n,r){i=Kt(i);var s,o,a,l,h="",u={},c,d=0;for(var f=0,p=i.length;f<p;f++){a=i[f];if(a[0]=="M")s=+a[1],o=+a[2];else{l=_e(s,o,a[1],a[2],a[3],a[4],a[5],a[6]);if(d+l>n){if(e&&!u.start){c=_e(s,o,a[1],a[2],a[3],a[4],a[5],a[6],n-d),h+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y];if(r)return h;u.start=h,h=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,a[5],a[6]].join(),d+=l,s=+a[5],o=+a[6];continue}if(!t&&!e){c=_e(s,o,a[1],a[2],a[3],a[4],a[5],a[6],n-d);return{x:c.x,y:c.y,alpha:c.alpha}}}d+=l,s=+a[5],o=+a[6]}h+=a.shift()+a}u.end=h,c=t?d:e?u:w.findDotsAtSegment(s,o,a[0],a[1],a[2],a[3],a[4],a[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha});return c}},ke=Ce(1),Se=Ce(),Te=Ce(0,1);w.getTotalLength=ke,w.getPointAtLength=Se,w.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return Te(t,e).end;var n=Te(t,i,1);return e?Te(n,e).end:n},ve.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return ke(this.attrs.path)}},ve.getPointAtLength=function(t){if(this.type=="path")return Se(this.attrs.path,t)},ve.getSubpath=function(t,e){if(this.type=="path")return w.getSubpath(this.attrs.path,t,e)};var De=w.easing_formulas={linear:function(t){return t},"<":function(t){return U(t,1.7)},">":function(t){return U(t,.48)},"<>":function(t){var e=.48-t/1.04,i=W.sqrt(.1734+e*e),n=i-e,r=U(Y(n),1/3)*(n<0?-1:1),s=-i-e,o=U(Y(s),1/3)*(s<0?-1:1),a=r+o+.5;return(1-a)*3*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t=t-1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){if(t==!!t)return t;return U(2,-10*t)*W.sin((t-.075)*2*V/.3)+1},bounce:function(t){var e=7.5625,i=2.75,n;t<1/i?n=e*t*t:t<2/i?(t-=1.5/i,n=e*t*t+.75):t<2.5/i?(t-=2.25/i,n=e*t*t+.9375):(t-=2.625/i,n=e*t*t+.984375);return n}};De.easeIn=De["ease-in"]=De["<"],De.easeOut=De["ease-out"]=De[">"],De.easeInOut=De["ease-in-out"]=De["<>"],De["back-in"]=De.backIn,De["back-out"]=De.backOut;var Me=[],Pe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},Ee=function(){var t=+new Date,i=0;for(;i<Me.length;i++){var n=Me[i];if(n.el.removed||n.paused)continue;var r=t-n.start,s=n.ms,o=n.easing,a=n.from,l=n.diff,h=n.to,u=n.t,c=n.el,d={},f,p={},g;n.initstatus?(r=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*s,n.status=n.initstatus,delete n.initstatus,n.stop&&Me.splice(i--,1)):n.status=(n.prev+(n.percent-n.prev)*(r/s))/n.anim.top;if(r<0)continue;if(r<s){var m=o(r/s);for(var v in a)if(a[T](v)){switch(dt[v]){case G:f=+a[v]+m*s*l[v];break;case"colour":f="rgb("+[Ie(ot(a[v].r+m*s*l[v].r)),Ie(ot(a[v].g+m*s*l[v].g)),Ie(ot(a[v].b+m*s*l[v].b))].join(",")+")";break;case"path":f=[];for(var y=0,b=a[v].length;y<b;y++){f[y]=[a[v][y][0]];for(var x=1,_=a[v][y].length;x<_;x++)f[y][x]=+a[v][y][x]+m*s*l[v][y][x];f[y]=f[y].join(F)}f=f.join(F);break;case"transform":if(l[v].real){f=[];for(y=0,b=a[v].length;y<b;y++){f[y]=[a[v][y][0]];for(x=1,_=a[v][y].length;x<_;x++)f[y][x]=a[v][y][x]+m*s*l[v][y][x]}}else{var C=function(t){return+a[v][t]+m*s*l[v][t]};f=[["m",C(0),C(1),C(2),C(3),C(4),C(5)]]}break;case"csv":if(v=="clip-rect"){f=[],y=4;while(y--)f[y]=+a[v][y]+m*s*l[v][y]}break;default:var k=[][H](a[v]);f=[],y=c.paper.customAttributes[v].length;while(y--)f[y]=+k[y]+m*s*l[v][y]}d[v]=f}c.attr(d),function(t,e,i){setTimeout(function(){eve("raphael.anim.frame."+t,e,i)})}(c.id,c,n.anim)}else{(function(t,e,i){setTimeout(function(){eve("raphael.anim.frame."+e.id,e,i),eve("raphael.anim.finish."+e.id,e,i),w.is(t,"function")&&t.call(e)})})(n.callback,c,n.anim),c.attr(h),Me.splice(i--,1);if(n.repeat>1&&!n.next){for(g in h)h[T](g)&&(p[g]=n.totalOrigin[g]);n.el.attr(p),e(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&e(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}w.svg&&c&&c.paper&&c.paper.safari(),Me.length&&Pe(Ee)},Ie=function(t){return t>255?255:t<0?0:t};ve.animateWith=function(t,n,r,s,o,a){var l=this;if(l.removed){a&&a.call(l);return l}var h=r instanceof i?r:w.animation(r,s,o,a),u,c;e(h,l,h.percents[0],null,l.attr());for(var d=0,f=Me.length;d<f;d++)if(Me[d].anim==n&&Me[d].el==t){Me[f-1].start=Me[d].start;break}return l},ve.onAnimation=function(t){t?eve.on("raphael.anim.frame."+this.id,t):eve.unbind("raphael.anim.frame."+this.id);return this},i.prototype.delay=function(t){var e=new i(this.anim,this.ms);e.times=this.times,e.del=+t||0;return e},i.prototype.repeat=function(t){var e=new i(this.anim,this.ms);e.del=this.del,e.times=W.floor(j(t,0))||1;return e},w.animation=function(t,e,n,r){if(t instanceof i)return t;if(w.is(n,"function")||!n)r=r||n||null,n=null;t=Object(t),e=+e||0;var s={},o,a;for(a in t)t[T](a)&&lt(a)!=a&&lt(a)+"%"!=a&&(o=!0,s[a]=t[a]);if(!o)return new i(t,e);n&&(s.easing=n),r&&(s.callback=r);return new i({100:s},e)},ve.animate=function(t,n,r,s){var o=this;if(o.removed){s&&s.call(o);return o}var a=t instanceof i?t:w.animation(t,n,r,s);e(a,o,a.percents[0],null,o.attr());return o},ve.setTime=function(t,e){t&&e!=null&&this.status(t,q(e,t.ms)/t.ms);return this},ve.status=function(t,i){var n=[],r=0,s,o;if(i!=null){e(t,this,-1,q(i,1));return this}s=Me.length;for(;r<s;r++){o=Me[r];if(o.el.id==this.id&&(!t||o.anim==t)){if(t)return o.status;n.push({anim:o.anim,status:o.status})}}if(t)return 0;return n},ve.pause=function(t){for(var e=0;e<Me.length;e++)Me[e].el.id==this.id&&(!t||Me[e].anim==t)&&eve("raphael.anim.pause."+this.id,this,Me[e].anim)!==!1&&(Me[e].paused=!0);return this},ve.resume=function(t){for(var e=0;e<Me.length;e++)if(Me[e].el.id==this.id&&(!t||Me[e].anim==t)){var i=Me[e];eve("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},ve.stop=function(t){for(var e=0;e<Me.length;e++)Me[e].el.id==this.id&&(!t||Me[e].anim==t)&&eve("raphael.anim.stop."+this.id,this,Me[e].anim)!==!1&&Me.splice(e--,1);return this},eve.on("raphael.remove",t),eve.on("raphael.clear",t),ve.toString=function(){return"Raphaël’s object"};var Ae=function(t){this.items=[],this.length=0,this.type="set";if(t)for(var e=0,i=t.length;e<i;e++)t[e]&&(t[e].constructor==ve.constructor||t[e].constructor==Ae)&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},He=Ae.prototype;He.push=function(){var t,e;for(var i=0,n=arguments.length;i<n;i++)t=arguments[i],t&&(t.constructor==ve.constructor||t.constructor==Ae)&&(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},He.pop=function(){this.length&&delete this[this.length--];return this.items.pop()},He.forEach=function(t,e){for(var i=0,n=this.items.length;i<n;i++)if(t.call(e,this.items[i],i)===!1)return this;return this};for(var Re in ve)ve[T](Re)&&(He[Re]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][A](i,e)})}}(Re));He.attr=function(t,e){if(t&&w.is(t,K)&&w.is(t[0],"object"))for(var i=0,n=t.length;i<n;i++)this.items[i].attr(t[i]);else for(var r=0,s=this.items.length;r<s;r++)this.items[r].attr(t,e);return this},He.clear=function(){while(this.length)this.pop()},He.splice=function(t,e,i){t=t<0?j(this.length+t,0):t,e=j(0,q(this.length-t,e));var n=[],r=[],s=[],o;for(o=2;o<arguments.length;o++)s.push(arguments[o]);for(o=0;o<e;o++)r.push(this[t+o]);for(;o<this.length-t;o++)n.push(this[t+o]);var a=s.length;for(o=0;o<a+n.length;o++)this.items[t+o]=this[t+o]=o<a?s[o]:n[o-a];o=this.items.length=this.length-=e-a;while(this[o])delete this[o++];return new Ae(r)},He.exclude=function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]==t){this.splice(e,1);return!0}},He.animate=function(t,e,i,n){(w.is(i,"function")||!i)&&(n=i||null);var r=this.items.length,s=r,o,a=this,l;if(!r)return this;n&&(l=function(){!--r&&n.call(a)}),i=w.is(i,X)?i:l;var h=w.animation(t,e,i,l);o=this.items[--s].animate(h);while(s--)this.items[s]&&!this.items[s].removed&&this.items[s].animateWith(o,h,h);return this},He.insertAfter=function(t){var e=this.items.length;while(e--)this.items[e].insertAfter(t);return this},He.getBBox=function(){var t=[],e=[],i=[],n=[];for(var r=this.items.length;r--;)if(!this.items[r].removed){var s=this.items[r].getBBox();t.push(s.x),e.push(s.y),i.push(s.x+s.width),n.push(s.y+s.height)}t=q[A](0,t),e=q[A](0,e),i=j[A](0,i),n=j[A](0,n);return{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},He.clone=function(t){t=new Ae;for(var e=0,i=this.items.length;e<i;e++)t.push(this.items[e].clone());return t},He.toString=function(){return"Raphaël‘s set"},w.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[T](n)&&(e.face[n]=t.face[n]);this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e];if(!t.svg){e.face["units-per-em"]=ht(t.face["units-per-em"],10);for(var r in t.glyphs)if(t.glyphs[T](r)){var s=t.glyphs[r];e.glyphs[r]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"};if(s.k)for(var o in s.k)s[T](o)&&(e.glyphs[r].k[o]=s.k[o])}}return t},E.getFont=function(t,e,i,n){n=n||"normal",i=i||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400;if(!!w.fonts){var r=w.fonts[t];if(!r){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,L)+"(\\s|$)","i");for(var o in w.fonts)if(w.fonts[T](o)&&s.test(o)){r=w.fonts[o];break}}var a;if(r)for(var l=0,h=r.length;l<h;l++){a=r[l];if(a.face["font-weight"]==e&&(a.face["font-style"]==i||!a.face["font-style"])&&a.face["font-stretch"]==n)break}return a}},E.print=function(t,e,i,n,r,s,o){s=s||"middle",o=j(q(o||0,1),-1);var a=$(i)[z](L),l=0,h=0,u=L,c;w.is(n,i)&&(n=this.getFont(n));if(n){c=(r||16)/n.face["units-per-em"];var d=n.face.bbox[z](_),f=+d[0],p=d[3]-d[1],g=0,m=+d[1]+(s=="baseline"?p+ +n.face.descent:p/2);for(var v=0,y=a.length;v<y;v++){if(a[v]=="\n")l=0,x=0,h=0,g+=p;else{var b=h&&n.glyphs[a[v-1]]||{},x=n.glyphs[a[v]];l+=h?(b.w||n.w)+(b.k&&b.k[a[v]]||0)+n.w*o:0,h=1}x&&x.d&&(u+=w.transformPath(x.d,["t",l*c,g*c,"s",c,c,f,m,"t",(t-f)/c,(e-m)/c]))}}return this.path(u).attr({fill:"#000",stroke:"none"})},E.add=function(t){if(w.is(t,"array")){var e=this.set(),i=0,n=t.length,r;for(;i<n;i++)r=t[i]||{},C[T](r.type)&&e.push(this[r.type]().attr(r))}return e},w.format=function(t,e){var i=w.is(e,K)?[0][H](e):arguments;t&&w.is(t,X)&&i.length-1&&(t=t.replace(k,function(t,e){return i[++e]==null?L:i[e]}));return t||L},w.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var r=n;i.replace(e,function(t,e,i,n,s){e=e||n,r&&(e in r&&(r=r[e]),typeof r=="function"&&s&&(r=r()))}),r=(r==null||r==n?t:r)+"";return r};return function(e,n){return String(e).replace(t,function(t,e){return i(t,e,n)})}}(),w.ninja=function(){M.was?D.win.Raphael=M.is:delete Raphael;return w},w.st=He,function(t,e,i){function n(){/in/.test(t.readyState)?setTimeout(n,9):w.eve("raphael.DOMload")}t.readyState==null&&t.addEventListener&&(t.addEventListener(e,i=function(){t.removeEventListener(e,i,!1),t.readyState="complete"},!1),t.readyState="loading"),n()}(document,"DOMContentLoaded"),M.was?D.win.Raphael=w:Raphael=w,eve.on("raphael.DOMload",function(){x=!0})}(),window.Raphael.svg&&function(t){var e="hasOwnProperty",i=String,n=parseFloat,r=parseInt,s=Math,o=s.max,a=s.abs,l=s.pow,h=/[, ]+/,u=t.eve,c="",d=" ",f="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function(n,r){if(r){typeof n=="string"&&(n=m(n));for(var s in r)r[e](s)&&(s.substring(0,6)=="xlink:"?n.setAttributeNS(f,s.substring(6),i(r[s])):n.setAttribute(s,i(r[s])))}else n=t._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(e,r){var h="linear",u=e.id+r,d=.5,f=.5,p=e.node,g=e.paper,v=p.style,y=t._g.doc.getElementById(u);if(!y){r=i(r).replace(t._radial_gradient,function(t,e,i){h="radial";if(e&&i){d=n(e),f=n(i);var r=(f>.5)*2-1;l(d-.5,2)+l(f-.5,2)>.25&&(f=s.sqrt(.25-l(d-.5,2))*r+.5)&&f!=.5&&(f=f.toFixed(5)-1e-5*r)}return c}),r=r.split(/\s*\-\s*/);if(h=="linear"){var b=r.shift();b=-n(b);if(isNaN(b))return null;var w=[0,0,s.cos(t.rad(b)),s.sin(t.rad(b))],x=1/(o(a(w[2]),a(w[3]))||1);w[2]*=x,w[3]*=x,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var _=t._parseDots(r);if(!_)return null;u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient);if(!e.gradient){y=m(h+"Gradient",{id:u}),e.gradient=y,m(y,h=="radial"?{fx:d,fy:f}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var C=0,k=_.length;C<k;C++)y.appendChild(m("stop",{offset:_[C].offset?_[C].offset:C?"100%":"0%","stop-color":_[C].color||"#fff"}))}}m(p,{fill:"url(#"+u+")",opacity:1,"fill-opacity":1}),v.fill=c,v.opacity=1,v.fillOpacity=1;return 1},y=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(n,r,s){if(n.type=="path"){var o=i(r).toLowerCase().split("-"),a=n.paper,l=s?"end":"start",h=n.node,u=n.attrs,d=u["stroke-width"],f=o.length,v="classic",y,b,w,x,_,C=3,k=3,S=5;while(f--)switch(o[f]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":v=o[f];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":C=5;break;case"short":C=2}v=="open"?(C+=2,k+=2,S+=2,w=1,x=s?4:1,_={fill:"none",stroke:u.stroke}):(x=w=C/2,_={fill:u.stroke,stroke:"none"}),n._.arrows?s?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={};if(v!="none"){var T="raphael-marker-"+v,D="raphael-marker-"+l+v+C+k;t._g.doc.getElementById(T)?g[T]++:(a.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:p[v],id:T})),g[T]=1);var M=t._g.doc.getElementById(D),P;M?(g[D]++,P=M.getElementsByTagName("use")[0]):(M=m(m("marker"),{id:D,markerHeight:k,markerWidth:C,orient:"auto",refX:x,refY:k/2}),P=m(m("use"),{"xlink:href":"#"+T,transform:(s?"rotate(180 "+C/2+" "+k/2+") ":c)+"scale("+C/S+","+k/S+")","stroke-width":(1/((C/S+k/S)/2)).toFixed(4)}),M.appendChild(P),a.defs.appendChild(M),g[D]=1),m(P,_);var E=w*(v!="diamond"&&v!="oval");s?(y=n._.arrows.startdx*d||0,b=t.getTotalLength(u.path)-E*d):(y=E*d,b=t.getTotalLength(u.path)-(n._.arrows.enddx*d||0)),_={},_["marker-"+l]="url(#"+D+")";if(b||y)_.d=Raphael.getSubpath(u.path,y,b);m(h,_),n._.arrows[l+"Path"]=T,n._.arrows[l+"Marker"]=D,n._.arrows[l+"dx"]=E,n._.arrows[l+"Type"]=v,n._.arrows[l+"String"]=r}else s?(y=n._.arrows.startdx*d||0,b=t.getTotalLength(u.path)-y):(y=0,b=t.getTotalLength(u.path)-(n._.arrows.enddx*d||0)),n._.arrows[l+"Path"]&&m(h,{d:Raphael.getSubpath(u.path,y,b)}),delete n._.arrows[l+"Path"],delete n._.arrows[l+"Marker"],delete n._.arrows[l+"dx"],delete n._.arrows[l+"Type"],delete n._.arrows[l+"String"];for(_ in g)if(g[e](_)&&!g[_]){var I=t._g.doc.getElementById(_);I&&I.parentNode.removeChild(I)}}},w={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(t,e,n){e=w[i(e).toLowerCase()];if(e){var r=t.attrs["stroke-width"]||"1",s={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,o=[],a=e.length;while(a--)o[a]=e[a]*r+(a%2?1:-1)*s;m(t.node,{"stroke-dasharray":o.join(",")})}},_=function(n,s){var l=n.node,u=n.attrs,d=l.style.visibility;l.style.visibility="hidden";for(var p in s)if(s[e](p)){if(!t._availableAttrs[e](p))continue;var g=s[p];u[p]=g;switch(p){case"blur":n.blur(g);break;case"href":case"title":case"target":var w=l.parentNode;if(w.tagName.toLowerCase()!="a"){var _=m("a");w.insertBefore(_,l),_.appendChild(l),w=_}p=="target"?w.setAttributeNS(f,"show",g=="blank"?"new":g):w.setAttributeNS(f,p,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":b(n,g);break;case"arrow-end":b(n,g,1);break;case"clip-rect":var C=i(g).split(h);if(C.length==4){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var S=m("clipPath"),T=m("rect");S.id=t.createUUID(),m(T,{x:C[0],y:C[1],width:C[2],height:C[3]}),S.appendChild(T),n.paper.defs.appendChild(S),m(l,{"clip-path":"url(#"+S.id+")"}),n.clip=T}if(!g){var D=l.getAttribute("clip-path");if(D){var M=t._g.doc.getElementById(D.replace(/(^url\(#|\)$)/g,c));M&&M.parentNode.removeChild(M),m(l,{"clip-path":c}),delete n.clip}}break;case"path":n.type=="path"&&(m(l,{d:g?u.path=t._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1)));break;case"width":l.setAttribute(p,g),n._.dirty=1;if(u.fx)p="x",g=u.x;else break;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if(p=="rx"&&n.type=="rect")break;case"cx":l.setAttribute(p,g),n.pattern&&y(n),n._.dirty=1;break;case"height":l.setAttribute(p,g),n._.dirty=1;if(u.fy)p="y",g=u.y;else break;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if(p=="ry"&&n.type=="rect")break;case"cy":l.setAttribute(p,g),n.pattern&&y(n),n._.dirty=1;break;case"r":n.type=="rect"?m(l,{rx:g,ry:g}):l.setAttribute(p,g),n._.dirty=1;break;case"src":n.type=="image"&&l.setAttributeNS(f,"href",g);break;case"stroke-width":if(n._.sx!=1||n._.sy!=1)g/=o(a(n._.sx),a(n._.sy))||1;n.paper._vbSize&&(g*=n.paper._vbSize),l.setAttribute(p,g),u["stroke-dasharray"]&&x(n,u["stroke-dasharray"],s),n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"stroke-dasharray":x(n,g,s);break;case"fill":var P=i(g).match(t._ISURL);if(P){S=m("pattern");var E=m("image");S.id=t.createUUID(),m(S,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(E,{x:0,y:0,"xlink:href":P[1]}),S.appendChild(E),function(e){t._preload(P[1],function(){var t=this.offsetWidth,i=this.offsetHeight;m(e,{width:t,height:i}),m(E,{width:t,height:i}),n.paper.safari()})}(S),n.paper.defs.appendChild(S),m(l,{fill:"url(#"+S.id+")"}),n.pattern=S,n.pattern&&y(n);break}var I=t.getRGB(g);if(!I.error)delete s.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(s.opacity,"undefined")&&m(l,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(s["fill-opacity"],"undefined")&&m(l,{"fill-opacity":u["fill-opacity"]});else if((n.type=="circle"||n.type=="ellipse"||i(g).charAt()!="r")&&v(n,g)){if("opacity"in u||"fill-opacity"in u){var A=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(A){var H=A.getElementsByTagName("stop");m(H[H.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}I[e]("opacity")&&m(l,{"fill-opacity":I.opacity>1?I.opacity/100:I.opacity});case"stroke":I=t.getRGB(g),l.setAttribute(p,I.hex),p=="stroke"&&I[e]("opacity")&&m(l,{"stroke-opacity":I.opacity>1?I.opacity/100:I.opacity}),p=="stroke"&&n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"gradient":(n.type=="circle"||n.type=="ellipse"||i(g).charAt()!="r")&&v(n,g);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){A=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c)),A&&(H=A.getElementsByTagName("stop"),m(H[H.length-1],{"stop-opacity":g}));break};default:p=="font-size"&&(g=r(g,10)+"px");var R=p.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[R]=g,n._.dirty=1,l.setAttribute(p,g)}}k(n,s),l.style.visibility=d},C=1.2,k=function(n,s){if(n.type=="text"&&!!(s[e]("text")||s[e]("font")||s[e]("font-size")||s[e]("x")||s[e]("y"))){var o=n.attrs,a=n.node,l=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,c).getPropertyValue("font-size"),10):10;if(s[e]("text")){o.text=s.text;while(a.firstChild)a.removeChild(a.firstChild);var h=i(s.text).split("\n"),u=[],d;for(var f=0,p=h.length;f<p;f++)d=m("tspan"),f&&m(d,{dy:l*C,x:o.x}),d.appendChild(t._g.doc.createTextNode(h[f])),a.appendChild(d),u[f]=d}else{u=a.getElementsByTagName("tspan");for(f=0,p=u.length;f<p;f++)f?m(u[f],{dy:l*C,x:o.x}):m(u[0],{dy:0})}m(a,{x:o.x,y:o.y}),n._.dirty=1;var g=n._getBBox(),v=o.y-(g.y+g.height/2);v&&t.is(v,"finite")&&m(u[0],{dy:v})}},S=function(e,i){var n=0,r=0;this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},T=t.el;S.prototype=T,T.constructor=S,t._engine.path=function(t,e){var i=m("path");e.canvas&&e.canvas.appendChild(i);var n=new S(i,e);n.type="path",_(n,{fill:"none",stroke:"#000",path:t});return n},T.rotate=function(t,e,r){if(this.removed)return this;t=i(t).split(h),t.length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),r==null&&(e=r);if(e==null||r==null){var s=this.getBBox(1);e=s.x+s.width/2,r=s.y+s.height/2}this.transform(this._.transform.concat([["r",t,e,r]]));return this},T.scale=function(t,e,r,s){if(this.removed)return this;t=i(t).split(h),t.length-1&&(e=n(t[1]),r=n(t[2]),s=n(t[3])),t=n(t[0]),e==null&&(e=t),s==null&&(r=s);if(r==null||s==null)var o=this.getBBox(1);r=r==null?o.x+o.width/2:r,s=s==null?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",t,e,r,s]]));return this},T.translate=function(t,e){if(this.removed)return this;t=i(t).split(h),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]]));return this},T.transform=function(i){var n=this._;if(i==null)return n.transform;t._extractTransform(this,i),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix});if(n.sx!=1||n.sy!=1){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},T.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this},T.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this},T.remove=function(){if(!this.removed&&!!this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),t._tear(this,e),this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var i in this)this[i]=typeof this[i]=="function"?t._removedFactory(i):null;this.removed=!0}},T._getBBox=function(){if(this.node.style.display=="none"){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}t&&this.hide();return e},T.attr=function(i,n){if(this.removed)return this;if(i==null){var r={};for(var s in this.attrs)this.attrs[e](s)&&(r[s]=this.attrs[s]);r.gradient&&r.fill=="none"&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform;return r}if(n==null&&t.is(i,"string")){if(i=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(i=="transform")return this._.transform;var o=i.split(h),a={};for(var l=0,c=o.length;l<c;l++)i=o[l],i in this.attrs?a[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?a[i]=this.paper.customAttributes[i].def:a[i]=t._availableAttrs[i];return c-1?a:a[o[0]]}if(n==null&&t.is(i,"array")){a={};for(l=0,c=i.length;l<c;l++)a[i[l]]=this.attr(i[l]);return a}if(n!=null){var d={};d[i]=n}else i!=null&&t.is(i,"object")&&(d=i);for(var f in d)u("raphael.attr."+f+"."+this.id,this,d[f]);for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&d[e](f)&&t.is(this.paper.customAttributes[f],"function")){var p=this.paper.customAttributes[f].apply(this,[].concat(d[f]));this.attrs[f]=d[f];for(var g in p)p[e](g)&&(d[g]=p[g])}_(this,d);return this},T.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;e.top!=this&&t._tofront(this,e);return this},T.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;e.tagName.toLowerCase()=="a"?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper);var i=this.paper;return this},T.insertAfter=function(e){if(this.removed)return this;var i=e.node||e[e.length-1].node;i.nextSibling?i.parentNode.insertBefore(this.node,i.nextSibling):i.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper);return this},T.insertBefore=function(e){if(this.removed)return this;var i=e.node||e[0].node;i.parentNode.insertBefore(this.node,i),t._insertbefore(this,e,this.paper);return this},T.blur=function(e){var i=this;if(+e!==0){var n=m("filter"),r=m("feGaussianBlur");i.attrs.blur=e,n.id=t.createUUID(),m(r,{stdDeviation:+e||1.5}),n.appendChild(r),i.paper.defs.appendChild(n),i._blur=n,m(i.node,{filter:"url(#"+n.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter")},t._engine.circle=function(t,e,i,n){var r=m("circle");t.canvas&&t.canvas.appendChild(r);var s=new S(r,t);s.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},s.type="circle",m(r,s.attrs);return s},t._engine.rect=function(t,e,i,n,r,s){var o=m("rect");t.canvas&&t.canvas.appendChild(o);var a=new S(o,t);a.attrs={x:e,y:i,width:n,height:r,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},a.type="rect",m(o,a.attrs);return a},t._engine.ellipse=function(t,e,i,n,r){var s=m("ellipse");t.canvas&&t.canvas.appendChild(s);var o=new S(s,t);o.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},o.type="ellipse",m(s,o.attrs);return o},t._engine.image=function(t,e,i,n,r,s){var o=m("image");m(o,{x:i,y:n,width:r,height:s,preserveAspectRatio:"none"}),o.setAttributeNS(f,"href",e),t.canvas&&t.canvas.appendChild(o);var a=new S(o,t);a.attrs={x:i,y:n,width:r,height:s,src:e},a.type="image";return a},t._engine.text=function(e,i,n,r){var s=m("text");e.canvas&&e.canvas.appendChild(s);var o=new S(s,e);o.attrs={x:i,y:n,"text-anchor":"middle",text:r,font:t._availableAttrs.font,stroke:"none",fill:"#000"},o.type="text",_(o,o.attrs);return o},t._engine.setSize=function(t,e){this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e&&e.container,n=e.x,r=e.y,s=e.width,o=e.height;if(!i)throw new Error("SVG container not found.");var a=m("svg"),l="overflow:hidden;",h;n=n||0,r=r||0,s=s||512,o=o||342,m(a,{height:o,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg"}),i==1?(a.style.cssText=l+"position:absolute;left:"+n+"px;top:"+r+"px",t._g.doc.body.appendChild(a),h=1):(a.style.cssText=l+"position:relative",i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a)),i=new t._Paper,i.width=s,i.height=o,i.canvas=a,i.clear(),i._left=i._top=0,h&&(i.renderfix=function(){}),i.renderfix();return i},t._engine.setViewBox=function(t,e,i,n,r){u("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var s=o(i/this.width,n/this.height),a=this.top,l=r?"meet":"xMinYMin",h,c;t==null?(this._vbSize&&(s=1),delete this._vbSize,h="0 0 "+this.width+d+this.height):(this._vbSize=s,h=t+d+e+d+i+d+n),m(this.canvas,{viewBox:h,preserveAspectRatio:l});while(s&&a)c="stroke-width"in a.attrs?a.attrs["stroke-width"]:1,a.attr({"stroke-width":c}),a._.dirty=1,a._.dirtyT=1,a=a.prev;this._viewBox=[t,e,i,n,!!r];return this},t.prototype.renderfix=function(){var t=this.canvas,e=t.style,i;try{i=t.getScreenCTM()||t.createSVGMatrix()}catch(e){i=t.createSVGMatrix()}var n=-i.e%1,r=-i.f%1;if(n||r)n&&(this._left=(this._left+n)%1,e.left=this._left+"px"),r&&(this._top=(this._top+r)%1,e.top=this._top+"px")},t.prototype.clear=function(){t.eve("raphael.clear",this);var e=this.canvas;while(e.firstChild)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=m("defs"))},t.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=typeof this[e]=="function"?t._removedFactory(e):null};var D=t.st;for(var M in T)T[e](M)&&!D[e](M)&&(D[M]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(M))}(window.Raphael),window.Raphael.vml&&function(t){var e="hasOwnProperty",i=String,n=parseFloat,r=Math,s=r.round,o=r.max,a=r.min,l=r.abs,h="fill",u=/[, ]+/,c=t.eve,d=" progid:DXImageTransform.Microsoft",f=" ",p="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",w=21600,x={path:1,rect:1,image:1},_={circle:1,ellipse:1},C=function(e){var n=/[ahqstv]/gi,r=t._pathToAbsolute;i(e).match(n)&&(r=t._path2curve),n=/[clmz]/g;if(r==t._pathToAbsolute&&!i(e).match(n)){var o=i(e).replace(m,function(t,e,i){var n=[],r=e.toLowerCase()=="m",o=g[e];i.replace(y,function(t){r&&n.length==2&&(o+=n+g[e=="m"?"l":"L"],n=[]),n.push(s(t*w))});return o+n});return o}var a=r(e),l,h;o=[];for(var u=0,c=a.length;u<c;u++){l=a[u],h=a[u][0].toLowerCase(),h=="z"&&(h="x");for(var d=1,v=l.length;d<v;d++)h+=s(l[d]*w)+(d!=v-1?",":p);o.push(h)}return o.join(f)},k=function(e,i,n){var r=t.matrix();r.rotate(-e,.5,.5);return{dx:r.x(i,n),dy:r.y(i,n)}},S=function(t,e,i,n,r,s){var o=t._,a=t.matrix,u=o.fillpos,c=t.node,d=c.style,p=1,g="",m,v=w/e,y=w/i;d.visibility="hidden";if(!!e&&!!i){c.coordsize=l(v)+f+l(y),d.rotation=s*(e*i<0?-1:1);if(s){var b=k(s,n,r);n=b.dx,r=b.dy}e<0&&(g+="x"),i<0&&(g+=" y")&&(p=-1),d.flip=g,c.coordorigin=n*-v+f+r*-y;if(u||o.fillsize){var x=c.getElementsByTagName(h);x=x&&x[0],c.removeChild(x),u&&(b=k(s,a.x(u[0],u[1]),a.y(u[0],u[1])),x.position=b.dx*p+f+b.dy*p),o.fillsize&&(x.size=o.fillsize[0]*l(e)+f+o.fillsize[1]*l(i)),c.appendChild(x)}d.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var T=function(t,e,n){var r=i(e).toLowerCase().split("-"),s=n?"end":"start",o=r.length,a="classic",l="medium",h="medium";while(o--)switch(r[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[o];break;case"wide":case"narrow":h=r[o];break;case"long":case"short":l=r[o]}var u=t.node.getElementsByTagName("stroke")[0];u[s+"arrow"]=a,u[s+"arrowlength"]=l,u[s+"arrowwidth"]=h},D=function(r,l){r.attrs=r.attrs||{};var c=r.node,d=r.attrs,g=c.style,m,v=x[r.type]&&(l.x!=d.x||l.y!=d.y||l.width!=d.width||l.height!=d.height||l.cx!=d.cx||l.cy!=d.cy||l.rx!=d.rx||l.ry!=d.ry||l.r!=d.r),y=_[r.type]&&(d.cx!=l.cx||d.cy!=l.cy||d.r!=l.r||d.rx!=l.rx||d.ry!=l.ry),b=r;for(var k in l)l[e](k)&&(d[k]=l[k]);v&&(d.path=t._getPath[r.type](r),r._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&r.blur(l.blur);if(l.path&&r.type=="path"||v)c.path=C(~i(d.path).toLowerCase().indexOf("r")?t._pathToAbsolute(d.path):d.path),r.type=="image"&&(r._.fillpos=[d.x,d.y],r._.fillsize=[d.width,d.height],S(r,1,1,0,0,0));"transform"in l&&r.transform(l.transform);if(y){var D=+d.cx,P=+d.cy,E=+d.rx||+d.r||0,A=+d.ry||+d.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((D-E)*w),s((P-A)*w),s((D+E)*w),s((P+A)*w),s(D*w))}if("clip-rect"in l){var H=i(l["clip-rect"]).split(u);if(H.length==4){H[2]=+H[2]+ +H[0],H[3]=+H[3]+ +H[1];var R=c.clipRect||t._g.doc.createElement("div"),L=R.style;L.clip=t.format("rect({1}px {2}px {3}px {0}px)",H),c.clipRect||(L.position="absolute",L.top=0,L.left=0,L.width=r.paper.width+"px",L.height=r.paper.height+"px",c.parentNode.insertBefore(R,c),R.appendChild(c),c.clipRect=R)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(r.textpath){var F=r.textpath.style;l.font&&(F.font=l.font),l["font-family"]&&(F.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,p)+'"'),l["font-size"]&&(F.fontSize=l["font-size"]),l["font-weight"]&&(F.fontWeight=l["font-weight"]),l["font-style"]&&(F.fontStyle=l["font-style"])}"arrow-start"in l&&T(b,l["arrow-start"]),"arrow-end"in l&&T(b,l["arrow-end"],1);if(l.opacity!=null||l["stroke-width"]!=null||l.fill!=null||l.src!=null||l.stroke!=null||l["stroke-width"]!=null||l["stroke-opacity"]!=null||l["fill-opacity"]!=null||l["stroke-dasharray"]!=null||l["stroke-miterlimit"]!=null||l["stroke-linejoin"]!=null||l["stroke-linecap"]!=null){var $=c.getElementsByTagName(h),z=!1;$=$&&$[0],!$&&(z=$=I(h)),r.type=="image"&&l.src&&($.src=l.src),l.fill&&($.on=!0);if($.on==null||l.fill=="none"||l.fill===null)$.on=!1;if($.on&&l.fill){var N=i(l.fill).match(t._ISURL);if(N){$.parentNode==c&&c.removeChild($),$.rotate=!0,$.src=N[1],$.type="tile";var O=r.getBBox(1);$.position=O.x+f+O.y,r._.fillpos=[O.x,O.y],t._preload(N[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else $.color=t.getRGB(l.fill).hex,$.src=p,$.type="solid",t.getRGB(l.fill).error&&(b.type in{circle:1,ellipse:1}||i(l.fill).charAt()!="r")&&M(b,l.fill,$)&&(d.fill="none",d.gradient=l.fill,$.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var B=((+d["fill-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);B=a(o(B,0),1),$.opacity=B,$.src&&($.color="none")}c.appendChild($);var W=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],j=!1;!W&&(j=W=I("stroke"));if(l.stroke&&l.stroke!="none"||l["stroke-width"]||l["stroke-opacity"]!=null||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])W.on=!0;(l.stroke=="none"||l.stroke===null||W.on==null||l.stroke==0||l["stroke-width"]==0)&&(W.on=!1);var q=t.getRGB(l.stroke);W.on&&l.stroke&&(W.color=q.hex),B=((+d["stroke-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+q.o+1||2)-1);var Y=(n(l["stroke-width"])||1)*.75;B=a(o(B,0),1),l["stroke-width"]==null&&(Y=d["stroke-width"]),l["stroke-width"]&&(W.weight=Y),Y&&Y<1&&(B*=Y)&&(W.weight=1),W.opacity=B,l["stroke-linejoin"]&&(W.joinstyle=l["stroke-linejoin"]||"miter"),W.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(W.endcap=l["stroke-linecap"]=="butt"?"flat":l["stroke-linecap"]=="square"?"square":"round");if(l["stroke-dasharray"]){var U={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};W.dashstyle=U[e](l["stroke-dasharray"])?U[l["stroke-dasharray"]]:p}j&&c.appendChild(W)}if(b.type=="text"){b.paper.canvas.style.display=p;var V=b.paper.span,G=100,X=d.font&&d.font.match(/\d+(?:\.\d*)?(?=px)/);g=V.style,d.font&&(g.font=d.font),d["font-family"]&&(g.fontFamily=d["font-family"]),d["font-weight"]&&(g.fontWeight=d["font-weight"]),d["font-style"]&&(g.fontStyle=d["font-style"]),X=n(d["font-size"]||X&&X[0])||10,g.fontSize=X*G+"px",b.textpath.string&&(V.innerHTML=i(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var K=V.getBoundingClientRect();b.W=d.w=(K.right-K.left)/G,b.H=d.h=(K.bottom-K.top)/G,b.X=d.x,b.Y=d.y+b.H/2,("x"in l||"y"in l)&&(b.path.v=t.format("m{0},{1}l{2},{1}",s(d.x*w),s(d.y*w),s(d.x*w)+1));var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"];for(var Z=0,J=Q.length;Z<J;Z++)if(Q[Z]in l){b._.dirty=1;break}switch(d["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left",b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right",b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},M=function(e,s,o){e.attrs=e.attrs||{};var a=e.attrs,l=Math.pow,h,u,c="linear",d=".5 .5";e.attrs.gradient=s,s=i(s).replace(t._radial_gradient,function(t,e,i){c="radial",e&&i&&(e=n(e),i=n(i),l(e-.5,2)+l(i-.5,2)>.25&&(i=r.sqrt(.25-l(e-.5,2))*((i>.5)*2-1)+.5),d=e+f+i);return p}),s=s.split(/\s*\-\s*/);if(c=="linear"){var g=s.shift();g=-n(g);if(isNaN(g))return null}var m=t._parseDots(s);if(!m)return null;e=e.shape||e.node;if(m.length){e.removeChild(o),o.on=!0,o.method="none",o.color=m[0].color,o.color2=m[m.length-1].color;var v=[];for(var y=0,b=m.length;y<b;y++)m[y].offset&&v.push(m[y].offset+f+m[y].color);o.colors=v.length?v.join():"0% "+o.color,c=="radial"?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=d,o.angle=0):(o.type="gradient",o.angle=(270-g)%360),e.appendChild(o)}return 1},P=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},E=t.el;P.prototype=E,E.constructor=P,E.transform=function(e){if(e==null)return this._.transform;var n=this.paper._viewBoxShift,r=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:p,s;n&&(s=e=i(e).replace(/\.{3}|\u2026/g,this._.transform||p)),t._extractTransform(this,r+e);var o=this.matrix.clone(),a=this.skew,l=this.node,h,u=~i(this.attrs.fill).indexOf("-"),c=!i(this.attrs.fill).indexOf("url(");o.translate(-.5,-.5);if(c||u||this.type=="image"){a.matrix="1 0 0 1",a.offset="0 0",h=o.split();if(u&&h.noRotation||!h.isSimple){l.style.filter=o.toFilter();var d=this.getBBox(),g=this.getBBox(1),m=d.x-g.x,v=d.y-g.y;l.coordorigin=m*-w+f+v*-w,S(this,1,1,m,v,0)}else l.style.filter=p,S(this,h.scalex,h.scaley,h.dx,h.dy,h.rotate)}else l.style.filter=p,a.matrix=i(o),a.offset=o.offset();s&&(this._.transform=s);return this},E.rotate=function(t,e,r){if(this.removed)return this;if(t!=null){t=i(t).split(u),t.length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),r==null&&(e=r);if(e==null||r==null){var s=this.getBBox(1);e=s.x+s.width/2,r=s.y+s.height/2}this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]]));return this}},E.translate=function(t,e){if(this.removed)return this;t=i(t).split(u),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]));return this},E.scale=function(t,e,r,s){if(this.removed)return this;t=i(t).split(u),t.length-1&&(e=n(t[1]),r=n(t[2]),s=n(t[3]),isNaN(r)&&(r=null),isNaN(s)&&(s=null)),t=n(t[0]),e==null&&(e=t),s==null&&(r=s);if(r==null||s==null)var o=this.getBBox(1);r=r==null?o.x+o.width/2:r,s=s==null?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",t,e,r,s]])),this._.dirtyT=1;return this},E.hide=function(){!this.removed&&(this.node.style.display="none");return this},E.show=function(){!this.removed&&(this.node.style.display=p);return this},E._getBBox=function(){if(this.removed)return{};return{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed&&!!this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]=typeof this[e]=="function"?t._removedFactory(e):null;this.removed=!0}},E.attr=function(i,n){if(this.removed)return this;if(i==null){var r={};for(var s in this.attrs)this.attrs[e](s)&&(r[s]=this.attrs[s]);r.gradient&&r.fill=="none"&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform;return r}if(n==null&&t.is(i,"string")){if(i==h&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;var o=i.split(u),a={};for(var l=0,d=o.length;l<d;l++)i=o[l],i in this.attrs?a[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?a[i]=this.paper.customAttributes[i].def:a[i]=t._availableAttrs[i];return d-1?a:a[o[0]]}if(this.attrs&&n==null&&t.is(i,"array")){a={};for(l=0,d=i.length;l<d;l++)a[i[l]]=this.attr(i[l]);return a}var f;n!=null&&(f={},f[i]=n),n==null&&t.is(i,"object")&&(f=i);for(var p in f)c("raphael.attr."+p+"."+this.id,this,f[p]);if(f){for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var g=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(var m in g)g[e](m)&&(f[m]=g[m])}f.text&&this.type=="text"&&(this.textpath.string=f.text),D(this,f)}return this},E.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper);return this},E.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper));return this},E.insertAfter=function(e){if(this.removed)return this;e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper);return this},E.insertBefore=function(e){if(this.removed)return this;e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper);return this},E.blur=function(e){var i=this.node.runtimeStyle,n=i.filter;n=n.replace(v,p),+e!==0?(this.attrs.blur=e,i.filter=n+f+d+".Blur(pixelradius="+(+e||1.5)+")",i.margin=t.format("-{0}px 0 0 -{0}px",s(+e||1.5))):(i.filter=n,i.margin=0,delete this.attrs.blur)},t._engine.path=function(t,e){var i=I("shape");i.style.cssText=b,i.coordsize=w+f+w,i.coordorigin=e.coordorigin;var n=new P(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path=p,D(n,r),e.canvas.appendChild(i);var s=I("skew");s.on=!0,i.appendChild(s),n.skew=s,n.transform(p);return n},t._engine.rect=function(e,i,n,r,s,o){var a=t._rectPath(i,n,r,s,o),l=e.path(a),h=l.attrs;l.X=h.x=i,l.Y=h.y=n,l.W=h.width=r,l.H=h.height=s,h.r=o,h.path=a,l.type="rect";return l},t._engine.ellipse=function(t,e,i,n,r){var s=t.path(),o=s.attrs;s.X=e-n,s.Y=i-r,s.W=n*2,s.H=r*2,s.type="ellipse",D(s,{cx:e,cy:i,rx:n,ry:r});return s},t._engine.circle=function(t,e,i,n){var r=t.path(),s=r.attrs;r.X=e-n,r.Y=i-n,r.W=r.H=n*2,r.type="circle",D(r,{cx:e,cy:i,r:n});return r},t._engine.image=function(e,i,n,r,s,o){var a=t._rectPath(n,r,s,o),l=e.path(a).attr({stroke:"none"}),u=l.attrs,c=l.node,d=c.getElementsByTagName(h)[0];u.src=i,l.X=u.x=n,l.Y=u.y=r,l.W=u.width=s,l.H=u.height=o,u.path=a,l.type="image",d.parentNode==c&&c.removeChild(d),d.rotate=!0,d.src=i,d.type="tile",l._.fillpos=[n,r],l._.fillsize=[s,o],c.appendChild(d),S(l,1,1,0,0,0);return l},t._engine.text=function(e,n,r,o){var a=I("shape"),l=I("path"),h=I("textpath");n=n||0,r=r||0,o=o||"",l.v=t.format("m{0},{1}l{2},{1}",s(n*w),s(r*w),s(n*w)+1),l.textpathok=!0,h.string=i(o),h.on=!0,a.style.cssText=b,a.coordsize=w+f+w,a.coordorigin="0 0";var u=new P(a,e),c={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:o};u.shape=a,u.path=l,u.textpath=h,u.type="text",u.attrs.text=i(o),u.attrs.x=n,u.attrs.y=r,u.attrs.w=1,u.attrs.h=1,D(u,c),a.appendChild(h),a.appendChild(l),e.canvas.appendChild(a);var d=I("skew");d.on=!0,a.appendChild(d),u.skew=d,u.transform(p);return u},t._engine.setSize=function(e,i){var n=this.canvas.style;this.width=e,this.height=i,e==+e&&(e+="px"),i==+i&&(i+="px"),n.width=e,n.height=i,n.clip="rect(0 "+e+" "+i+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox);return this},t._engine.setViewBox=function(e,i,n,r,s){t.eve("raphael.setViewBox",this,this._viewBox,[e,i,n,r,s]);var a=this.width,l=this.height,h=1/o(n/a,r/l),u,c;s&&(u=l/r,c=a/n,n*u<a&&(e-=(a-n*u)/2/u),r*c<l&&(i-=(l-r*c)/2/c)),this._viewBox=[e,i,n,r,!!s],this._viewBoxShift={dx:-e,dy:-i,scale:h},this.forEach(function(t){t.transform("...")});return this};var I;t._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),I=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){I=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e.container,n=e.height,r,s=e.width,o=e.x,a=e.y;if(!i)throw new Error("VML container not found.");var l=new t._Paper,h=l.canvas=t._g.doc.createElement("div"),u=h.style;o=o||0,a=a||0,s=s||512,n=n||342,l.width=s,l.height=n,s==+s&&(s+="px"),n==+n&&(n+="px"),l.coordsize=w*1e3+f+w*1e3,l.coordorigin="0 0",l.span=t._g.doc.createElement("span"),l.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",h.appendChild(l.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",s,n),i==1?(t._g.doc.body.appendChild(h),u.left=o+"px",u.top=a+"px",u.position="absolute"):i.firstChild?i.insertBefore(h,i.firstChild):i.appendChild(h),l.renderfix=function(){};return l},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=p,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=typeof this[e]=="function"?t._removedFactory(e):null;return!0};var A=t.st;for(var H in E)E[e](H)&&!A[e](H)&&(A[H]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(H))}(window.Raphael);(function(){var t,e,i,n,r=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},o={}.hasOwnProperty,a=function(t,e){for(var i in e){if(o.call(e,i))t[i]=e[i]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t},l=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++){if(e in this&&this[e]===t)return e}return-1};e=window.Morris={};t=jQuery;e.EventEmitter=function(){function t(){}t.prototype.on=function(t,e){if(this.handlers==null){this.handlers={}}if(this.handlers[t]==null){this.handlers[t]=[]}this.handlers[t].push(e);return this};t.prototype.fire=function(){var t,e,i,n,s,o,a;i=arguments[0],t=2<=arguments.length?r.call(arguments,1):[];if(this.handlers!=null&&this.handlers[i]!=null){o=this.handlers[i];a=[];for(n=0,s=o.length;n<s;n++){e=o[n];a.push(e.apply(null,t))}return a}};return t}();e.commas=function(t){var e,i,n,r;if(t!=null){n=t<0?"-":"";e=Math.abs(t);i=Math.floor(e).toFixed(0);n+=i.replace(/(?=(?:\d{3})+$)(?!^)/g,",");r=e.toString();if(r.length>i.length){n+=r.slice(i.length)}return n}else{return"-"}};e.pad2=function(t){return(t<10?"0":"")+t};e.Grid=function(i){a(n,i);function n(e){this.resizeHandler=s(this.resizeHandler,this);var i=this;if(typeof e.element==="string"){this.el=t(document.getElementById(e.element))}else{this.el=t(e.element)}if(this.el==null||this.el.length===0){throw new Error("Graph container element not found")}if(this.el.css("position")==="static"){this.el.css("position","relative")}this.options=t.extend({},this.gridDefaults,this.defaults||{},e);if(typeof this.options.units==="string"){this.options.postUnits=e.units}this.raphael=new Raphael(this.el[0]);this.elementWidth=null;this.elementHeight=null;this.dirty=false;this.selectFrom=null;if(this.init){this.init()}this.setData(this.options.data);this.el.bind("mousemove",function(t){var e,n,r,s,o;n=i.el.offset();o=t.pageX-n.left;if(i.selectFrom){e=i.data[i.hitTest(Math.min(o,i.selectFrom))]._x;r=i.data[i.hitTest(Math.max(o,i.selectFrom))]._x;s=r-e;return i.selectionRect.attr({x:e,width:s})}else{return i.fire("hovermove",o,t.pageY-n.top)}});this.el.bind("mouseleave",function(t){if(i.selectFrom){i.selectionRect.hide();i.selectFrom=null}return i.fire("hoverout")});this.el.bind("touchstart touchmove touchend",function(t){var e,n;n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e=i.el.offset();return i.fire("hovermove",n.pageX-e.left,n.pageY-e.top)});this.el.bind("click",function(t){var e;e=i.el.offset();return i.fire("gridclick",t.pageX-e.left,t.pageY-e.top)});if(this.options.rangeSelect){this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:false}).toBack().hide();this.el.bind("mousedown",function(t){var e;e=i.el.offset();return i.startRange(t.pageX-e.left)});this.el.bind("mouseup",function(t){var e;e=i.el.offset();i.endRange(t.pageX-e.left);return i.fire("hovermove",t.pageX-e.left,t.pageY-e.top)})}if(this.options.resize){t(window).bind("resize",function(t){if(i.timeoutId!=null){window.clearTimeout(i.timeoutId)}return i.timeoutId=window.setTimeout(i.resizeHandler,100)})}this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)");if(this.postInit){this.postInit()}}n.prototype.gridDefaults={dateFormat:null,axes:true,grid:true,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:false,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:true,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:false};n.prototype.setData=function(t,i){var n,r,s,o,a,l,h,u,c,d,f,p,g,m,v;if(i==null){i=true}this.options.data=t;if(t==null||t.length===0){this.data=[];this.raphael.clear();if(this.hover!=null){this.hover.hide()}return}p=this.cumulative?0:null;g=this.cumulative?0:null;if(this.options.goals.length>0){a=Math.min.apply(Math,this.options.goals);o=Math.max.apply(Math,this.options.goals);g=g!=null?Math.min(g,a):a;p=p!=null?Math.max(p,o):o}this.data=function(){var i,n,o;o=[];for(s=i=0,n=t.length;i<n;s=++i){h=t[s];l={src:h};l.label=h[this.options.xkey];if(this.options.parseTime){l.x=e.parseDate(l.label);if(this.options.dateFormat){l.label=this.options.dateFormat(l.x)}else if(typeof l.label==="number"){l.label=new Date(l.label).toString()}}else{l.x=s;if(this.options.xLabelFormat){l.label=this.options.xLabelFormat(l)}}c=0;l.y=function(){var t,e,i,n;i=this.options.ykeys;n=[];for(r=t=0,e=i.length;t<e;r=++t){f=i[r];m=h[f];if(typeof m==="string"){m=parseFloat(m)}if(m!=null&&typeof m!=="number"){m=null}if(m!=null){if(this.cumulative){c+=m}else{if(p!=null){p=Math.max(m,p);g=Math.min(m,g)}else{p=g=m}}}if(this.cumulative&&c!=null){p=Math.max(c,p);g=Math.min(c,g)}n.push(m)}return n}.call(this);o.push(l)}return o}.call(this);if(this.options.parseTime){this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})}this.xmin=this.data[0].x;this.xmax=this.data[this.data.length-1].x;this.events=[];if(this.options.events.length>0){if(this.options.parseTime){this.events=function(){var t,i,r,s;r=this.options.events;s=[];for(t=0,i=r.length;t<i;t++){n=r[t];s.push(e.parseDate(n))}return s}.call(this)}else{this.events=this.options.events}this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events));this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))}if(this.xmin===this.xmax){this.xmin-=1;this.xmax+=1}this.ymin=this.yboundary("min",g);this.ymax=this.yboundary("max",p);if(this.ymin===this.ymax){if(g){this.ymin-=1}this.ymax+=1}if((v=this.options.axes)===true||v==="both"||v==="y"||this.options.grid===true){if(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin){this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines);this.ymin=Math.min(this.ymin,this.grid[0]);this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])}else{u=(this.ymax-this.ymin)/(this.options.numLines-1);this.grid=function(){var t,e,i,n;n=[];for(d=t=e=this.ymin,i=this.ymax;u>0?t<=i:t>=i;d=t+=u){n.push(d)}return n}.call(this)}}this.dirty=true;if(i){return this.redraw()}};n.prototype.yboundary=function(t,e){var i,n;i=this.options["y"+t];if(typeof i==="string"){if(i.slice(0,4)==="auto"){if(i.length>5){n=parseInt(i.slice(5),10);if(e==null){return n}return Math[t](e,n)}else{if(e!=null){return e}else{return 0}}}else{return parseInt(i,10)}}else{return i}};n.prototype.autoGridLines=function(t,e,i){var n,r,s,o,a,l,h,u,c;a=e-t;c=Math.floor(Math.log(a)/Math.log(10));h=Math.pow(10,c);r=Math.floor(t/h)*h;n=Math.ceil(e/h)*h;l=(n-r)/(i-1);if(h===1&&l>1&&Math.ceil(l)!==l){l=Math.ceil(l);n=r+l*(i-1)}if(r<0&&n>0){r=Math.floor(t/l)*l;n=Math.ceil(e/l)*l}if(l<1){o=Math.floor(Math.log(l)/Math.log(10));s=function(){var t,e;e=[];for(u=t=r;l>0?t<=n:t>=n;u=t+=l){e.push(parseFloat(u.toFixed(1-o)))}return e}()}else{s=function(){var t,e;e=[];for(u=t=r;l>0?t<=n:t>=n;u=t+=l){e.push(u)}return e}()}return s};n.prototype._calc=function(){var t,e,i,n,r,s,o,a;r=this.el.width();i=this.el.height();if(this.elementWidth!==r||this.elementHeight!==i||this.dirty){this.elementWidth=r;this.elementHeight=i;this.dirty=false;this.left=this.options.padding;this.right=this.elementWidth-this.options.padding;this.top=this.options.padding;this.bottom=this.elementHeight-this.options.padding;if((o=this.options.axes)===true||o==="both"||o==="y"){s=function(){var t,i,n,r;n=this.grid;r=[];for(t=0,i=n.length;t<i;t++){e=n[t];r.push(this.measureText(this.yAxisFormat(e)).width)}return r}.call(this);this.left+=Math.max.apply(Math,s)}if((a=this.options.axes)===true||a==="both"||a==="x"){t=function(){var t,e,i;i=[];for(n=t=0,e=this.data.length;0<=e?t<e:t>e;n=0<=e?++t:--t){i.push(this.measureText(this.data[n].text,-this.options.xLabelAngle).height)}return i}.call(this);this.bottom-=Math.max.apply(Math,t)}this.width=Math.max(1,this.right-this.left);this.height=Math.max(1,this.bottom-this.top);this.dx=this.width/(this.xmax-this.xmin);this.dy=this.height/(this.ymax-this.ymin);if(this.calc){return this.calc()}}};n.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy};n.prototype.transX=function(t){if(this.data.length===1){return(this.left+this.right)/2}else{return this.left+(t-this.xmin)*this.dx}};n.prototype.redraw=function(){this.raphael.clear();this._calc();this.drawGrid();this.drawGoals();this.drawEvents();if(this.draw){return this.draw()}};n.prototype.measureText=function(t,e){var i,n;if(e==null){e=0}n=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e);i=n.getBBox();n.remove();return i};n.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)};n.prototype.yLabelFormat=function(t){if(typeof this.options.yLabelFormat==="function"){return this.options.yLabelFormat(t)}else{return""+this.options.preUnits+e.commas(t)+this.options.postUnits}};n.prototype.drawGrid=function(){var t,e,i,n,r,s,o,a;if(this.options.grid===false&&((r=this.options.axes)!==true&&r!=="both"&&r!=="y")){return}s=this.grid;a=[];for(i=0,n=s.length;i<n;i++){t=s[i];e=this.transY(t);if((o=this.options.axes)===true||o==="both"||o==="y"){this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t))}if(this.options.grid){a.push(this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width)))}else{a.push(void 0)}}return a};n.prototype.drawGoals=function(){var t,e,i,n,r,s,o;s=this.options.goals;o=[];for(i=n=0,r=s.length;n<r;i=++n){e=s[i];t=this.options.goalLineColors[i%this.options.goalLineColors.length];o.push(this.drawGoal(e,t))}return o};n.prototype.drawEvents=function(){var t,e,i,n,r,s,o;s=this.events;o=[];for(i=n=0,r=s.length;n<r;i=++n){e=s[i];t=this.options.eventLineColors[i%this.options.eventLineColors.length];o.push(this.drawEvent(e,t))}return o};n.prototype.drawGoal=function(t,e){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)};n.prototype.drawEvent=function(t,e){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth)};n.prototype.drawYAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")};n.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)};n.prototype.startRange=function(t){this.hover.hide();this.selectFrom=t;return this.selectionRect.attr({x:t,width:0}).show()};n.prototype.endRange=function(t){var e,i;if(this.selectFrom){i=Math.min(this.selectFrom,t);e=Math.max(this.selectFrom,t);this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(e)].x});return this.selectFrom=null}};n.prototype.resizeHandler=function(){this.timeoutId=null;this.raphael.setSize(this.el.width(),this.el.height());return this.redraw()};return n}(e.EventEmitter);e.parseDate=function(t){var e,i,n,r,s,o,a,l,h,u,c;if(typeof t==="number"){return t}i=t.match(/^(\d+) Q(\d)$/);r=t.match(/^(\d+)-(\d+)$/);s=t.match(/^(\d+)-(\d+)-(\d+)$/);a=t.match(/^(\d+) W(\d+)$/);l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/);h=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/);if(i){return new Date(parseInt(i[1],10),parseInt(i[2],10)*3-1,1).getTime()}else if(r){return new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime()}else if(s){return new Date(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10)).getTime()}else if(a){u=new Date(parseInt(a[1],10),0,1);if(u.getDay()!==4){u.setMonth(0,1+(4-u.getDay()+7)%7)}return u.getTime()+parseInt(a[2],10)*6048e5}else if(l){if(!l[6]){return new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime()}else{o=0;if(l[6]!=="Z"){o=parseInt(l[8],10)*60+parseInt(l[9],10);if(l[7]==="+"){o=0-o}}return Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+o)}}else if(h){c=parseFloat(h[6]);e=Math.floor(c);n=Math.round((c-e)*1e3);if(!h[8]){return new Date(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),e,n).getTime()}else{o=0;if(h[8]!=="Z"){o=parseInt(h[10],10)*60+parseInt(h[11],10);if(h[9]==="+"){o=0-o}}return Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)+o,e,n)}}else{return new Date(parseInt(t,10),0,1).getTime()}};e.Hover=function(){i.defaults={class:"morris-hover morris-default-style"};function i(i){if(i==null){i={}}this.options=t.extend({},e.Hover.defaults,i);this.el=t("<div class='"+this.options["class"]+"'></div>");this.el.hide();this.options.parent.append(this.el)}i.prototype.update=function(t,e,i){if(!t){return this.hide()}else{this.html(t);this.show();return this.moveTo(e,i)}};i.prototype.html=function(t){return this.el.html(t)};i.prototype.moveTo=function(t,e){var i,n,r,s,o,a;o=this.options.parent.innerWidth();s=this.options.parent.innerHeight();n=this.el.outerWidth();i=this.el.outerHeight();r=Math.min(Math.max(0,t-n/2),o-n);if(e!=null){a=e-i-10;if(a<0){a=e+10;if(a+i>s){a=s/2-i/2}}}else{a=s/2-i/2}return this.el.css({left:r+"px",top:parseInt(a)+"px"})};i.prototype.show=function(){return this.el.show()};i.prototype.hide=function(){return this.el.hide()};return i}();e.Line=function(t){a(i,t);function i(t){this.hilight=s(this.hilight,this);this.onHoverOut=s(this.onHoverOut,this);this.onHoverMove=s(this.onHoverMove,this);this.onGridClick=s(this.onGridClick,this);if(!(this instanceof e.Line)){return new e.Line(t)}i.__super__.constructor.call(this,t)}i.prototype.init=function(){if(this.options.hideHover!=="always"){this.hover=new e.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}};i.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:true,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:false};i.prototype.calc=function(){this.calcPoints();return this.generatePaths()};i.prototype.calcPoints=function(){var t,e,i,n,r,s;r=this.data;s=[];for(i=0,n=r.length;i<n;i++){t=r[i];t._x=this.transX(t.x);t._y=function(){var i,n,r,s;r=t.y;s=[];for(i=0,n=r.length;i<n;i++){e=r[i];if(e!=null){s.push(this.transY(e))}else{s.push(e)}}return s}.call(this);s.push(t._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var i,n,r,s;r=t._y;s=[];for(i=0,n=r.length;i<n;i++){e=r[i];if(e!=null){s.push(e)}}return s}())))}return s};i.prototype.hitTest=function(t){var e,i,n,r,s;if(this.data.length===0){return null}s=this.data.slice(1);for(e=n=0,r=s.length;n<r;e=++n){i=s[e];if(t<(i._x+this.data[e]._x)/2){break}}return e};i.prototype.onGridClick=function(t,e){var i;i=this.hitTest(t);return this.fire("click",i,this.data[i].src,t,e)};i.prototype.onHoverMove=function(t,e){var i;i=this.hitTest(t);return this.displayHoverForRow(i)};i.prototype.onHoverOut=function(){if(this.options.hideHover!==false){return this.displayHoverForRow(null)}};i.prototype.displayHoverForRow=function(t){var e;if(t!=null){(e=this.hover).update.apply(e,this.hoverContentForRow(t));return this.hilight(t)}else{this.hover.hide();return this.hilight()}};i.prototype.hoverContentForRow=function(t){var e,i,n,r,s,o,a;n=this.data[t];e="<div class='morris-hover-row-label'>"+n.label+"</div>";a=n.y;for(i=s=0,o=a.length;s<o;i=++s){r=a[i];e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(r)+"\n</div>"}if(typeof this.options.hoverCallback==="function"){e=this.options.hoverCallback(t,this.options,e,n.src)}return[e,n._x,n._ymax]};i.prototype.generatePaths=function(){var t,i,n,r;return this.paths=function(){var s,o,a,h;h=[];for(i=s=0,o=this.options.ykeys.length;0<=o?s<o:s>o;i=0<=o?++s:--s){r=typeof this.options.smooth==="boolean"?this.options.smooth:(a=this.options.ykeys[i],l.call(this.options.smooth,a)>=0);t=function(){var t,e,r,s;r=this.data;s=[];for(t=0,e=r.length;t<e;t++){n=r[t];if(n._y[i]!==void 0){s.push({x:n._x,y:n._y[i]})}}return s}.call(this);if(t.length>1){h.push(e.Line.createPath(t,r,this.bottom))}else{h.push(null)}}return h}.call(this)};i.prototype.draw=function(){var t;if((t=this.options.axes)===true||t==="both"||t==="x"){this.drawXAxis()}this.drawSeries();if(this.options.hideHover===false){return this.displayHoverForRow(this.data.length-1)}};i.prototype.drawXAxis=function(){var t,i,n,r,s,o,a,l,h,u,c=this;a=this.bottom+this.options.padding/2;s=null;r=null;t=function(t,e){var i,n,o,l,h;i=c.drawXAxisLabel(c.transX(e),a,t);h=i.getBBox();i.transform("r"+-c.options.xLabelAngle);n=i.getBBox();i.transform("t0,"+n.height/2+"...");if(c.options.xLabelAngle!==0){l=-.5*h.width*Math.cos(c.options.xLabelAngle*Math.PI/180);i.transform("t"+l+",0...")}n=i.getBBox();if((s==null||s>=n.x+n.width||r!=null&&r>=n.x)&&n.x>=0&&n.x+n.width<c.el.width()){if(c.options.xLabelAngle!==0){o=1.25*c.options.gridTextSize/Math.sin(c.options.xLabelAngle*Math.PI/180);r=n.x-o}return s=n.x-c.options.xLabelMargin}else{return i.remove()}};if(this.options.parseTime){if(this.data.length===1&&this.options.xLabels==="auto"){n=[[this.data[0].label,this.data[0].x]]}else{n=e.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat)}}else{n=function(){var t,e,i,n;i=this.data;n=[];for(t=0,e=i.length;t<e;t++){o=i[t];n.push([o.label,o.x])}return n}.call(this)}n.reverse();u=[];for(l=0,h=n.length;l<h;l++){i=n[l];u.push(t(i[0],i[1]))}return u};i.prototype.drawSeries=function(){var t,e,i,n,r,s;this.seriesPoints=[];for(t=e=n=this.options.ykeys.length-1;n<=0?e<=0:e>=0;t=n<=0?++e:--e){this._drawLineFor(t)}s=[];for(t=i=r=this.options.ykeys.length-1;r<=0?i<=0:i>=0;t=r<=0?++i:--i){s.push(this._drawPointFor(t))}return s};i.prototype._drawPointFor=function(t){var e,i,n,r,s,o;this.seriesPoints[t]=[];s=this.data;o=[];for(n=0,r=s.length;n<r;n++){i=s[n];e=null;if(i._y[t]!=null){e=this.drawLinePoint(i._x,i._y[t],this.colorFor(i,t,"point"),t)}o.push(this.seriesPoints[t].push(e))}return o};i.prototype._drawLineFor=function(t){var e;e=this.paths[t];if(e!==null){return this.drawLinePath(e,this.colorFor(null,t,"line"),t)}};i.createPath=function(t,i,n){var r,s,o,a,l,h,u,c,d,f,p,g,m,v;u="";if(i){o=e.Line.gradients(t)}c={y:null};for(a=m=0,v=t.length;m<v;a=++m){r=t[a];if(r.y!=null){if(c.y!=null){if(i){s=o[a];h=o[a-1];l=(r.x-c.x)/4;d=c.x+l;p=Math.min(n,c.y+l*h);f=r.x-l;g=Math.min(n,r.y-l*s);u+="C"+d+","+p+","+f+","+g+","+r.x+","+r.y}else{u+="L"+r.x+","+r.y}}else{if(!i||o[a]!=null){u+="M"+r.x+","+r.y}}}c=r}return u};i.gradients=function(t){var e,i,n,r,s,o,a,l;i=function(t,e){return(t.y-e.y)/(t.x-e.x)};l=[];for(n=o=0,a=t.length;o<a;n=++o){e=t[n];if(e.y!=null){r=t[n+1]||{y:null};s=t[n-1]||{y:null};if(s.y!=null&&r.y!=null){l.push(i(s,r))}else if(s.y!=null){l.push(i(s,e))}else if(r.y!=null){l.push(i(e,r))}else{l.push(null)}}else{l.push(null)}}return l};i.prototype.hilight=function(t){var e,i,n,r,s;if(this.prevHilight!==null&&this.prevHilight!==t){for(e=i=0,r=this.seriesPoints.length-1;0<=r?i<=r:i>=r;e=0<=r?++i:--i){if(this.seriesPoints[e][this.prevHilight]){this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e))}}}if(t!==null&&this.prevHilight!==t){for(e=n=0,s=this.seriesPoints.length-1;0<=s?n<=s:n>=s;e=0<=s?++n:--n){if(this.seriesPoints[e][t]){this.seriesPoints[e][t].animate(this.pointGrowSeries(e))}}}return this.prevHilight=t};i.prototype.colorFor=function(t,e,i){if(typeof this.options.lineColors==="function"){return this.options.lineColors.call(this,t,e,i)}else if(i==="point"){return this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]}else{return this.options.lineColors[e%this.options.lineColors.length]}};i.prototype.drawXAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)};i.prototype.drawLinePath=function(t,e,i){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(i))};i.prototype.drawLinePoint=function(t,e,i,n){return this.raphael.circle(t,e,this.pointSizeForSeries(n)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(n)).attr("stroke",this.pointStrokeColorForSeries(n))};i.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]};i.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]};i.prototype.lineWidthForSeries=function(t){if(this.options.lineWidth instanceof Array){return this.options.lineWidth[t%this.options.lineWidth.length]}else{return this.options.lineWidth}};i.prototype.pointSizeForSeries=function(t){if(this.options.pointSize instanceof Array){return this.options.pointSize[t%this.options.pointSize.length]}else{return this.options.pointSize}};i.prototype.pointGrowSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)+3},25,"linear")};i.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")};return i}(e.Grid);e.labelSeries=function(i,n,r,s,o){var a,l,h,u,c,d,f,p,g,m,v;h=200*(n-i)/r;l=new Date(i);f=e.LABEL_SPECS[s];if(f===void 0){v=e.AUTO_LABEL_ORDER;for(g=0,m=v.length;g<m;g++){u=v[g];d=e.LABEL_SPECS[u];if(h>=d.span){f=d;break}}}if(f===void 0){f=e.LABEL_SPECS["second"]}if(o){f=t.extend({},f,{fmt:o})}a=f.start(l);c=[];while((p=a.getTime())<=n){if(p>=i){c.push([f.fmt(a),p])}f.incr(a)}return c};i=function(t){return{span:t*60*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return""+e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())},incr:function(e){return e.setUTCMinutes(e.getUTCMinutes()+t)}}};n=function(t){return{span:t*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return""+e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())+":"+e.pad2(t.getSeconds())},incr:function(e){return e.setUTCSeconds(e.getUTCSeconds()+t)}}};e.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:i(60),"30min":i(30),"15min":i(15),"10min":i(10),"5min":i(5),minute:i(1),"30sec":n(30),"15sec":n(15),"10sec":n(10),"5sec":n(5),second:n(1)};e.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"];e.Area=function(i){var n;a(r,i);n={fillOpacity:"auto",behaveLikeLine:false};function r(i){var s;if(!(this instanceof e.Area)){return new e.Area(i)}s=t.extend({},n,i);this.cumulative=!s.behaveLikeLine;if(s.fillOpacity==="auto"){s.fillOpacity=s.behaveLikeLine?.8:1}r.__super__.constructor.call(this,s)}r.prototype.calcPoints=function(){var t,e,i,n,r,s,o;s=this.data;o=[];for(n=0,r=s.length;n<r;n++){t=s[n];t._x=this.transX(t.x);e=0;t._y=function(){var n,r,s,o;s=t.y;o=[];for(n=0,r=s.length;n<r;n++){i=s[n];if(this.options.behaveLikeLine){o.push(this.transY(i))}else{e+=i||0;o.push(this.transY(e))}}return o}.call(this);o.push(t._ymax=Math.max.apply(Math,t._y))}return o};r.prototype.drawSeries=function(){var t,e,i,n,r,s,o,a,l,h,u;this.seriesPoints=[];if(this.options.behaveLikeLine){e=function(){l=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:t>=e;0<=e?t++:t--){l.push(t)}return l}.apply(this)}else{e=function(){h=[];for(var t=a=this.options.ykeys.length-1;a<=0?t<=0:t>=0;a<=0?t++:t--){h.push(t)}return h}.apply(this)}u=[];for(r=0,s=e.length;r<s;r++){t=e[r];this._drawFillFor(t);this._drawLineFor(t);u.push(this._drawPointFor(t))}return u};r.prototype._drawFillFor=function(t){var e;e=this.paths[t];if(e!==null){e=e+("L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z");return this.drawFilledPath(e,this.fillForSeries(t))}};r.prototype.fillForSeries=function(t){var e;e=Raphael.rgb2hsl(this.colorFor(this.data[t],t,"line"));return Raphael.hsl(e.h,this.options.behaveLikeLine?e.s*.9:e.s*.75,Math.min(.98,this.options.behaveLikeLine?e.l*1.2:e.l*1.25))};r.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")};return r}(e.Line);e.Bar=function(i){a(n,i);function n(i){this.onHoverOut=s(this.onHoverOut,this);this.onHoverMove=s(this.onHoverMove,this);this.onGridClick=s(this.onGridClick,this);if(!(this instanceof e.Bar)){return new e.Bar(i)}n.__super__.constructor.call(this,t.extend({},i,{parseTime:false}))}n.prototype.init=function(){this.cumulative=this.options.stacked;if(this.options.hideHover!=="always"){this.hover=new e.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}};n.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50};n.prototype.calc=function(){var t;this.calcBars();if(this.options.hideHover===false){return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))}};n.prototype.calcBars=function(){var t,e,i,n,r,s,o;s=this.data;o=[];for(t=n=0,r=s.length;n<r;t=++n){e=s[t];e._x=this.left+this.width*(t+.5)/this.data.length;o.push(e._y=function(){var t,n,r,s;r=e.y;s=[];for(t=0,n=r.length;t<n;t++){i=r[t];if(i!=null){s.push(this.transY(i))}else{s.push(null)}}return s}.call(this))}return o};n.prototype.draw=function(){var t;if((t=this.options.axes)===true||t==="both"||t==="x"){this.drawXAxis()}return this.drawSeries()};n.prototype.drawXAxis=function(){var t,e,i,n,r,s,o,a,l,h,u,c,d;h=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2);o=null;s=null;d=[];for(t=u=0,c=this.data.length;0<=c?u<c:u>c;t=0<=c?++u:--u){a=this.data[this.data.length-1-t];e=this.drawXAxisLabel(a._x,h,a.label);l=e.getBBox();e.transform("r"+-this.options.xLabelAngle);i=e.getBBox();e.transform("t0,"+i.height/2+"...");if(this.options.xLabelAngle!==0){r=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180);e.transform("t"+r+",0...")}if((o==null||o>=i.x+i.width||s!=null&&s>=i.x)&&i.x>=0&&i.x+i.width<this.el.width()){if(this.options.xLabelAngle!==0){n=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180);s=i.x-n}d.push(o=i.x-this.options.xLabelMargin)}else{d.push(e.remove())}}return d};n.prototype.drawSeries=function(){var t,e,i,n,r,s,o,a,l,h,u,c,d,f,p;i=this.width/this.options.data.length;a=this.options.stacked?1:this.options.ykeys.length;t=(i*this.options.barSizeRatio-this.options.barGap*(a-1))/a;if(this.options.barSize){t=Math.min(t,this.options.barSize)}c=i-t*a-this.options.barGap*(a-1);o=c/2;p=this.ymin<=0&&this.ymax>=0?this.transY(0):null;return this.bars=function(){var a,c,g,m;g=this.data;m=[];for(n=a=0,c=g.length;a<c;n=++a){l=g[n];r=0;m.push(function(){var a,c,g,m;g=l._y;m=[];for(h=a=0,c=g.length;a<c;h=++a){f=g[h];if(f!==null){if(p){d=Math.min(f,p);e=Math.max(f,p)}else{d=f;e=this.bottom}s=this.left+n*i+o;if(!this.options.stacked){s+=h*(t+this.options.barGap)}u=e-d;if(this.options.verticalGridCondition&&this.options.verticalGridCondition(l.x)){this.drawBar(this.left+n*i,this.top,i,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius)}if(this.options.stacked){d-=r}this.drawBar(s,d,t,u,this.colorFor(l,h,"bar"),this.options.barOpacity,this.options.barRadius);m.push(r+=u)}else{m.push(null)}}return m}.call(this))}return m}.call(this)};n.prototype.colorFor=function(t,e,i){var n,r;if(typeof this.options.barColors==="function"){n={x:t.x,y:t.y[e],label:t.label};r={index:e,key:this.options.ykeys[e],label:this.options.labels[e]};return this.options.barColors.call(this,n,r,i)}else{return this.options.barColors[e%this.options.barColors.length]}};n.prototype.hitTest=function(t){if(this.data.length===0){return null}t=Math.max(Math.min(t,this.right),this.left);return Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length)))};n.prototype.onGridClick=function(t,e){var i;i=this.hitTest(t);return this.fire("click",i,this.data[i].src,t,e)};n.prototype.onHoverMove=function(t,e){var i,n;i=this.hitTest(t);return(n=this.hover).update.apply(n,this.hoverContentForRow(i))};n.prototype.onHoverOut=function(){if(this.options.hideHover!==false){return this.hover.hide()}};n.prototype.hoverContentForRow=function(t){var e,i,n,r,s,o,a,l;n=this.data[t];e="<div class='morris-hover-row-label'>"+n.label+"</div>";l=n.y;for(i=o=0,a=l.length;o<a;i=++o){s=l[i];e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(s)+"\n</div>"}if(typeof this.options.hoverCallback==="function"){e=this.options.hoverCallback(t,this.options,e,n.src)}r=this.left+(t+.5)*this.width/this.data.length;return[e,r]};n.prototype.drawXAxisLabel=function(t,e,i){var n;return n=this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)};n.prototype.drawBar=function(t,e,i,n,r,s,o){var a,l;a=Math.max.apply(Math,o);if(a===0||a>n){l=this.raphael.rect(t,e,i,n)}else{l=this.raphael.path(this.roundedRect(t,e,i,n,o))}return l.attr("fill",r).attr("fill-opacity",s).attr("stroke","none")};n.prototype.roundedRect=function(t,e,i,n,r){if(r==null){r=[0,0,0,0]}return["M",t,r[0]+e,"Q",t,e,t+r[0],e,"L",t+i-r[1],e,"Q",t+i,e,t+i,e+r[1],"L",t+i,e+n-r[2],"Q",t+i,e+n,t+i-r[2],e+n,"L",t+r[3],e+n,"Q",t,e+n,t,e+n-r[3],"Z"]};return n}(e.Grid);e.Donut=function(i){a(n,i);n.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:e.commas,resize:false};function n(i){this.resizeHandler=s(this.resizeHandler,this);this.select=s(this.select,this);this.click=s(this.click,this);var n=this;if(!(this instanceof e.Donut)){return new e.Donut(i)}this.options=t.extend({},this.defaults,i);if(typeof i.element==="string"){this.el=t(document.getElementById(i.element))}else{this.el=t(i.element)}if(this.el===null||this.el.length===0){throw new Error("Graph placeholder not found.")}if(i.data===void 0||i.data.length===0){return}this.raphael=new Raphael(this.el[0]);if(this.options.resize){t(window).bind("resize",function(t){if(n.timeoutId!=null){window.clearTimeout(n.timeoutId)}return n.timeoutId=window.setTimeout(n.resizeHandler,100)})}this.setData(i.data)}n.prototype.redraw=function(){var t,i,n,r,s,o,a,l,h,u,c,d,f,p,g,m,v,y,b,w,x,_,C;this.raphael.clear();i=this.el.width()/2;n=this.el.height()/2;f=(Math.min(i,n)-10)/3;c=0;w=this.values;for(p=0,v=w.length;p<v;p++){d=w[p];c+=d}l=5/(2*f);t=1.9999*Math.PI-l*this.data.length;o=0;s=0;this.segments=[];x=this.values;for(r=g=0,y=x.length;g<y;r=++g){d=x[r];h=o+l+t*(d/c);u=new e.DonutSegment(i,n,f*2,f,o,h,this.data[r].color||this.options.colors[s%this.options.colors.length],this.options.backgroundColor,s,this.raphael);u.render();this.segments.push(u);u.on("hover",this.select);u.on("click",this.click);o=h;s+=1}this.text1=this.drawEmptyDonutLabel(i,n-10,this.options.labelColor,15,800);this.text2=this.drawEmptyDonutLabel(i,n+10,this.options.labelColor,14);a=Math.max.apply(Math,this.values);s=0;_=this.values;C=[];for(m=0,b=_.length;m<b;m++){d=_[m];if(d===a){this.select(s);break}C.push(s+=1)}return C};n.prototype.setData=function(t){var e;this.data=t;this.values=function(){var t,i,n,r;n=this.data;r=[];for(t=0,i=n.length;t<i;t++){e=n[t];r.push(parseFloat(e.value))}return r}.call(this);return this.redraw()};n.prototype.click=function(t){return this.fire("click",t,this.data[t])};n.prototype.select=function(t){var e,i,n,r,s,o;o=this.segments;for(r=0,s=o.length;r<s;r++){i=o[r];i.deselect()}n=this.segments[t];n.select();e=this.data[t];return this.setLabels(e.label,this.options.formatter(e.value,e))};n.prototype.setLabels=function(t,e){var i,n,r,s,o,a,l,h;i=(Math.min(this.el.width()/2,this.el.height()/2)-10)*2/3;s=1.8*i;r=i/2;n=i/3;this.text1.attr({text:t,transform:""});o=this.text1.getBBox();a=Math.min(s/o.width,r/o.height);this.text1.attr({transform:"S"+a+","+a+","+(o.x+o.width/2)+","+(o.y+o.height)});this.text2.attr({text:e,transform:""});l=this.text2.getBBox();h=Math.min(s/l.width,n/l.height);return this.text2.attr({transform:"S"+h+","+h+","+(l.x+l.width/2)+","+l.y})};n.prototype.drawEmptyDonutLabel=function(t,e,i,n,r){var s;s=this.raphael.text(t,e,"").attr("font-size",n).attr("fill",i);if(r!=null){s.attr("font-weight",r)}return s};n.prototype.resizeHandler=function(){this.timeoutId=null;this.raphael.setSize(this.el.width(),this.el.height());return this.redraw()};return n}(e.EventEmitter);e.DonutSegment=function(t){a(e,t);function e(t,e,i,n,r,o,a,l,h,u){this.cx=t;this.cy=e;this.inner=i;this.outer=n;this.color=a;this.backgroundColor=l;this.index=h;this.raphael=u;this.deselect=s(this.deselect,this);this.select=s(this.select,this);this.sin_p0=Math.sin(r);this.cos_p0=Math.cos(r);this.sin_p1=Math.sin(o);this.cos_p1=Math.cos(o);this.is_long=o-r>Math.PI?1:0;this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5);this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer);this.hilight=this.calcArc(this.inner)}e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]};e.prototype.calcSegment=function(t,e){var i,n,r,s,o,a,l,h,u,c;u=this.calcArcPoints(t),i=u[0],r=u[1],n=u[2],s=u[3];c=this.calcArcPoints(e),o=c[0],l=c[1],a=c[2],h=c[3];return"M"+i+","+r+("A"+t+","+t+",0,"+this.is_long+",0,"+n+","+s)+("L"+a+","+h)+("A"+e+","+e+",0,"+this.is_long+",1,"+o+","+l)+"Z"};e.prototype.calcArc=function(t){var e,i,n,r,s;s=this.calcArcPoints(t),e=s[0],n=s[1],i=s[2],r=s[3];return"M"+e+","+n+("A"+t+","+t+",0,"+this.is_long+",0,"+i+","+r)};e.prototype.render=function(){var t=this;this.arc=this.drawDonutArc(this.hilight,this.color);return this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})};e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})};e.prototype.drawDonutSegment=function(t,e,i,n,r){return this.raphael.path(t).attr({fill:e,stroke:i,"stroke-width":3}).hover(n).click(r)};e.prototype.select=function(){if(!this.selected){this.seg.animate({path:this.selectedPath},150,"<>");this.arc.animate({opacity:1},150,"<>");return this.selected=true}};e.prototype.deselect=function(){if(this.selected){this.seg.animate({path:this.path},150,"<>");this.arc.animate({opacity:0},150,"<>");return this.selected=false}};return e}(e.EventEmitter)}).call(this);!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(t){if(null===t)return"null";var e,i,n,r,s=$.type(t);if("undefined"!==s){if("number"===s||"boolean"===s)return String(t);if("string"===s)return $.quoteString(t);if("function"==typeof t.toJSON)return $.toJSON(t.toJSON());if("date"===s){var o=t.getUTCMonth()+1,a=t.getUTCDate(),l=t.getUTCFullYear(),h=t.getUTCHours(),u=t.getUTCMinutes(),c=t.getUTCSeconds(),d=t.getUTCMilliseconds();return o<10&&(o="0"+o),a<10&&(a="0"+a),h<10&&(h="0"+h),u<10&&(u="0"+u),c<10&&(c="0"+c),d<100&&(d="0"+d),d<10&&(d="0"+d),'"'+l+"-"+o+"-"+a+"T"+h+":"+u+":"+c+"."+d+'Z"'}if(e=[],$.isArray(t)){for(i=0;i<t.length;i++)e.push($.toJSON(t[i])||"null");return"["+e.join(",")+"]"}if("object"==typeof t){for(i in t)if(hasOwn.call(t,i)){if(s=typeof i,"number"===s)n='"'+i+'"';else{if("string"!==s)continue;n=$.quoteString(i)}s=typeof t[i],"function"!==s&&"undefined"!==s&&(r=$.toJSON(t[i]),e.push(n+":"+r))}return"{"+e.join(",")+"}"}}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(t){return t.match(escape)?'"'+t.replace(escape,function(t){var e=meta[t];return"string"==typeof e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})+'"':'"'+t+'"'}});(function t(e){"use strict";if(typeof define==="function"&&define.amd){define(e)}else if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=e()}else{window["Sortable"]=e()}})(function t(){"use strict";if(typeof window==="undefined"||!window.document){return function t(){throw new Error("Sortable.js requires a window with a document")}}var e,i,n,r,s,o,a,l,h,u,c,d,f,p,g,m,v,y={},b,w,x,_=/\s+/g,C=/left|right|inline/,k="Sortable"+(new Date).getTime(),S=window,T=S.document,D=S.parseInt,M=S.setTimeout,P=S.jQuery||S.Zepto,E=S.Polymer,I=false,A="draggable"in T.createElement("div"),H=function(t){if(!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)){return false}t=T.createElement("x");t.style.cssText="pointer-events:auto";return t.style.pointerEvents==="auto"}(),R=false,L=Math.abs,F=Math.min,$=[],z=[],N=st(function(t,e,i){if(i&&e.scroll){var n=i[k],r,s,o=e.scrollSensitivity,a=e.scrollSpeed,c=t.clientX,d=t.clientY,f=window.innerWidth,p=window.innerHeight,g,m,v,b;if(h!==i){l=e.scroll;h=i;u=e.scrollFn;if(l===true){l=i;do{if(l.offsetWidth<l.scrollWidth||l.offsetHeight<l.scrollHeight){break}}while(l=l.parentNode)}}if(l){r=l;s=l.getBoundingClientRect();g=(L(s.right-c)<=o)-(L(s.left-c)<=o);m=(L(s.bottom-d)<=o)-(L(s.top-d)<=o)}if(!(g||m)){g=(f-c<=o)-(c<=o);m=(p-d<=o)-(d<=o);(g||m)&&(r=S)}if(y.vx!==g||y.vy!==m||y.el!==r){y.el=r;y.vx=g;y.vy=m;clearInterval(y.pid);if(r){y.pid=setInterval(function(){b=m?m*a:0;v=g?g*a:0;if("function"===typeof u){return u.call(n,v,b,t)}if(r===S){S.scrollTo(S.pageXOffset+v,S.pageYOffset+b)}else{r.scrollTop+=b;r.scrollLeft+=v}},24)}}}},30),O=function(t){function e(t,e){if(t===void 0||t===true){t=i.name}if(typeof t==="function"){return t}else{return function(i,n){var r=n.options.group.name;return e?t:t&&(t.join?t.indexOf(r)>-1:r==t)}}}var i={};var n=t.group;if(!n||typeof n!="object"){n={name:n}}i.name=n.name;i.checkPull=e(n.pull,true);i.checkPut=e(n.put);i.revertClone=n.revertClone;t.group=i};function B(t,e){if(!(t&&t.nodeType&&t.nodeType===1)){throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t)}this.el=t;this.options=e=ot({},e);t[k]=this;var i={group:Math.random(),sort:true,disabled:false,store:null,handle:null,scroll:true,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:true,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0,forceFallback:false,fallbackClass:"sortable-fallback",fallbackOnBody:false,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var n in i){!(n in e)&&(e[n]=i[n])}O(e);for(var r in this){if(r.charAt(0)==="_"&&typeof this[r]==="function"){this[r]=this[r].bind(this)}}this.nativeDraggable=e.forceFallback?false:A;U(t,"mousedown",this._onTapStart);U(t,"touchstart",this._onTapStart);U(t,"pointerdown",this._onTapStart);if(this.nativeDraggable){U(t,"dragover",this);U(t,"dragenter",this)}z.push(this._onDragOver);e.store&&this.sort(e.store.get(this))}B.prototype={constructor:B,_onTapStart:function(t){var i=this,n=this.el,r=this.options,s=r.preventOnFilter,o=t.type,l=t.touches&&t.touches[0],h=(l||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0])||h,c=r.filter,d;lt(n);if(e){return}if(/mousedown|pointerdown/.test(o)&&t.button!==0||r.disabled){return}if(u.isContentEditable){return}h=j(h,r.draggable,n);if(!h){return}if(a===h){return}d=nt(h,r.draggable);if(typeof c==="function"){if(c.call(this,t,h,this)){Q(i,u,"filter",h,n,n,d);s&&t.preventDefault();return}}else if(c){c=c.split(",").some(function(t){t=j(u,t.trim(),n);if(t){Q(i,t,"filter",h,n,n,d);return true}});if(c){s&&t.preventDefault();return}}if(r.handle&&!j(u,r.handle,n)){return}this._prepareDragStart(t,l,h,d)},_prepareDragStart:function(t,n,r,l){var h=this,u=h.el,c=h.options,d=u.ownerDocument,f;if(r&&!e&&r.parentNode===u){b=t;s=u;e=r;i=e.parentNode;o=e.nextSibling;a=r;m=c.group;p=l;this._lastX=(n||t).clientX;this._lastY=(n||t).clientY;e.style["will-change"]="all";f=function(){h._disableDelayedDrag();e.draggable=h.nativeDraggable;G(e,c.chosenClass,true);h._triggerDragStart(t,n);Q(h,s,"choose",e,s,s,p)};c.ignore.split(",").forEach(function(t){K(e,t.trim(),J)});U(d,"mouseup",h._onDrop);U(d,"touchend",h._onDrop);U(d,"touchcancel",h._onDrop);U(d,"pointercancel",h._onDrop);U(d,"selectstart",h);if(c.delay){U(d,"mouseup",h._disableDelayedDrag);U(d,"touchend",h._disableDelayedDrag);U(d,"touchcancel",h._disableDelayedDrag);U(d,"mousemove",h._disableDelayedDrag);U(d,"touchmove",h._disableDelayedDrag);U(d,"pointermove",h._disableDelayedDrag);h._dragStartTimer=M(f,c.delay)}else{f()}}},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer);V(t,"mouseup",this._disableDelayedDrag);V(t,"touchend",this._disableDelayedDrag);V(t,"touchcancel",this._disableDelayedDrag);V(t,"mousemove",this._disableDelayedDrag);V(t,"touchmove",this._disableDelayedDrag);V(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,i){i=i||(t.pointerType=="touch"?t:null);if(i){b={target:e,clientX:i.clientX,clientY:i.clientY};this._onDragStart(b,"touch")}else if(!this.nativeDraggable){this._onDragStart(b,true)}else{U(e,"dragend",this);U(s,"dragstart",this._onDragStart)}try{if(T.selection){ht(function(){T.selection.empty()})}else{window.getSelection().removeAllRanges()}}catch(t){}},_dragStarted:function(){if(s&&e){var t=this.options;G(e,t.ghostClass,true);G(e,t.dragClass,false);B.active=this;Q(this,s,"start",e,s,s,p)}else{this._nulling()}},_emulateDragOver:function(){if(w){if(this._lastX===w.clientX&&this._lastY===w.clientY){return}this._lastX=w.clientX;this._lastY=w.clientY;if(!H){X(n,"display","none")}var t=T.elementFromPoint(w.clientX,w.clientY),e=t,i=z.length;if(e){do{if(e[k]){while(i--){z[i]({clientX:w.clientX,clientY:w.clientY,target:t,rootEl:e})}break}t=e}while(e=e.parentNode)}if(!H){X(n,"display","")}}},_onTouchMove:function(t){if(b){var e=this.options,i=e.fallbackTolerance,r=e.fallbackOffset,s=t.touches?t.touches[0]:t,o=s.clientX-b.clientX+r.x,a=s.clientY-b.clientY+r.y,l=t.touches?"translate3d("+o+"px,"+a+"px,0)":"translate("+o+"px,"+a+"px)";if(!B.active){if(i&&F(L(s.clientX-this._lastX),L(s.clientY-this._lastY))<i){return}this._dragStarted()}this._appendGhost();x=true;w=s;X(n,"webkitTransform",l);X(n,"mozTransform",l);X(n,"msTransform",l);X(n,"transform",l);t.preventDefault()}},_appendGhost:function(){if(!n){var t=e.getBoundingClientRect(),i=X(e),r=this.options,o;n=e.cloneNode(true);G(n,r.ghostClass,false);G(n,r.fallbackClass,true);G(n,r.dragClass,true);X(n,"top",t.top-D(i.marginTop,10));X(n,"left",t.left-D(i.marginLeft,10));X(n,"width",t.width);X(n,"height",t.height);X(n,"opacity","0.8");X(n,"position","fixed");X(n,"zIndex","100000");X(n,"pointerEvents","none");r.fallbackOnBody&&T.body.appendChild(n)||s.appendChild(n);o=n.getBoundingClientRect();X(n,"width",t.width*2-o.width);X(n,"height",t.height*2-o.height)}},_onDragStart:function(t,i){var n=this;var o=t.dataTransfer;var a=n.options;n._offUpEvents();if(m.checkPull(n,n,e,t)){r=at(e);r.draggable=false;r.style["will-change"]="";X(r,"display","none");G(r,n.options.chosenClass,false);n._cloneId=ht(function(){s.insertBefore(r,e);Q(n,s,"clone",e)})}G(e,a.dragClass,true);if(i){if(i==="touch"){U(T,"touchmove",n._onTouchMove);U(T,"touchend",n._onDrop);U(T,"touchcancel",n._onDrop);U(T,"pointermove",n._onTouchMove);U(T,"pointerup",n._onDrop)}else{U(T,"mousemove",n._onTouchMove);U(T,"mouseup",n._onDrop)}n._loopId=setInterval(n._emulateDragOver,50)}else{if(o){o.effectAllowed="move";a.setData&&a.setData.call(n,o,e)}U(T,"drop",n);U(T,"mouseover",n);n._dragStartId=ht(n._dragStarted)}},_onDragOver:function(t){var a=this.el,l,h,u,p,g=this.options,y=g.group,b=B.active,w=m===y,_=false,S=g.sort;if(t.preventDefault!==void 0){t.preventDefault();!g.dragoverBubble&&t.stopPropagation()}if(e.animated){return}x=true;if(b&&!g.disabled&&(w?S||(p=!s.contains(e)):v===this||(b.lastPullMode=m.checkPull(this,b,e,t))&&y.checkPut(this,b,e,t))&&(t.rootEl===void 0||t.rootEl===this.el)){N(t,g,this.el);if(R){return}l=j(t.target,g.draggable,a);h=e.getBoundingClientRect();if(v!==this){v=this;_=true}if(p){W(b,true);i=s;if(r||o){s.insertBefore(e,r||o)}else if(!S){s.appendChild(e)}return}if(a.children.length===0||a.children[0]===n||a===t.target&&et(a,t)){if(a.children.length!==0&&a.children[0]!==n&&a===t.target){l=a.lastElementChild}if(l){if(l.animated){return}u=l.getBoundingClientRect()}W(b,w);if(Z(s,a,e,h,l,u,t)!==false){if(!e.contains(a)){a.appendChild(e);i=a}this._animate(h,e);l&&this._animate(u,l)}}else if(l&&!l.animated&&l!==e&&l.parentNode[k]!==void 0){if(c!==l){c=l;d=X(l);f=X(l.parentNode)}u=l.getBoundingClientRect();var T=u.right-u.left,D=u.bottom-u.top,P=C.test(d.cssFloat+d.display)||f.display=="flex"&&f["flex-direction"].indexOf("row")===0,E=l.offsetWidth>e.offsetWidth,I=l.offsetHeight>e.offsetHeight,A=(P?(t.clientX-u.left)/T:(t.clientY-u.top)/D)>.5,H=l.nextElementSibling,L=false;if(P){var F=e.offsetTop,$=l.offsetTop;if(F===$){L=l.previousElementSibling===e&&!E||A&&E}else if(l.previousElementSibling===e||e.previousElementSibling===l){L=(t.clientY-u.top)/D>.5}else{L=$>F}}else if(!_){L=H!==e&&!I||A&&I}var z=Z(s,a,e,h,l,u,t,L);if(z!==false){if(z===1||z===-1){L=z===1}R=true;M(tt,30);W(b,w);if(!e.contains(a)){if(L&&!H){a.appendChild(e)}else{l.parentNode.insertBefore(e,L?H:l)}}i=e.parentNode;this._animate(h,e);this._animate(u,l)}}}},_animate:function(t,e){var i=this.options.animation;if(i){var n=e.getBoundingClientRect();if(t.nodeType===1){t=t.getBoundingClientRect()}X(e,"transition","none");X(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)");e.offsetWidth;X(e,"transition","all "+i+"ms");X(e,"transform","translate3d(0,0,0)");clearTimeout(e.animated);e.animated=M(function(){X(e,"transition","");X(e,"transform","");e.animated=false},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;V(T,"touchmove",this._onTouchMove);V(T,"pointermove",this._onTouchMove);V(t,"mouseup",this._onDrop);V(t,"touchend",this._onDrop);V(t,"pointerup",this._onDrop);V(t,"touchcancel",this._onDrop);V(t,"pointercancel",this._onDrop);V(t,"selectstart",this)},_onDrop:function(t){var a=this.el,l=this.options;clearInterval(this._loopId);clearInterval(y.pid);clearTimeout(this._dragStartTimer);ut(this._cloneId);ut(this._dragStartId);V(T,"mouseover",this);V(T,"mousemove",this._onTouchMove);if(this.nativeDraggable){V(T,"drop",this);V(a,"dragstart",this._onDragStart)}this._offUpEvents();if(t){if(x){t.preventDefault();!l.dropBubble&&t.stopPropagation()}n&&n.parentNode&&n.parentNode.removeChild(n);if(s===i||B.active.lastPullMode!=="clone"){r&&r.parentNode&&r.parentNode.removeChild(r)}if(e){if(this.nativeDraggable){V(e,"dragend",this)}J(e);e.style["will-change"]="";G(e,this.options.ghostClass,false);G(e,this.options.chosenClass,false);Q(this,s,"unchoose",e,i,s,p);if(s!==i){g=nt(e,l.draggable);if(g>=0){Q(null,i,"add",e,i,s,p,g);Q(this,s,"remove",e,i,s,p,g);Q(null,i,"sort",e,i,s,p,g);Q(this,s,"sort",e,i,s,p,g)}}else{if(e.nextSibling!==o){g=nt(e,l.draggable);if(g>=0){Q(this,s,"update",e,i,s,p,g);Q(this,s,"sort",e,i,s,p,g)}}}if(B.active){if(g==null||g===-1){g=p}Q(this,s,"end",e,i,s,p,g);this.save()}}}this._nulling()},_nulling:function(){s=e=i=n=o=r=a=l=h=b=w=x=g=c=d=v=m=B.active=null;$.forEach(function(t){t.checked=true});$.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":if(e){this._onDragOver(t);Y(t)}break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault();break}},toArray:function(){var t=[],e,i=this.el.children,n=0,r=i.length,s=this.options;for(;n<r;n++){e=i[n];if(j(e,s.draggable,this.el)){t.push(e.getAttribute(s.dataIdAttr)||it(e))}}return t},sort:function(t){var e={},i=this.el;this.toArray().forEach(function(t,n){var r=i.children[n];if(j(r,this.options.draggable,i)){e[t]=r}},this);t.forEach(function(t){if(e[t]){i.removeChild(e[t]);i.appendChild(e[t])}})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return j(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;if(e===void 0){return i[t]}else{i[t]=e;if(t==="group"){O(i)}}},destroy:function(){var t=this.el;t[k]=null;V(t,"mousedown",this._onTapStart);V(t,"touchstart",this._onTapStart);V(t,"pointerdown",this._onTapStart);if(this.nativeDraggable){V(t,"dragover",this);V(t,"dragenter",this)}Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")});z.splice(z.indexOf(this._onDragOver),1);this._onDrop();this.el=t=null}};function W(t,i){if(t.lastPullMode!=="clone"){i=true}if(r&&r.state!==i){X(r,"display",i?"none":"");if(!i){if(r.state){if(t.options.group.revertClone){s.insertBefore(r,o);t._animate(e,r)}else{s.insertBefore(r,e)}}}r.state=i}}function j(t,e,i){if(t){i=i||T;do{if(e===">*"&&t.parentNode===i||rt(t,e)){return t}}while(t=q(t))}return null}function q(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function Y(t){if(t.dataTransfer){t.dataTransfer.dropEffect="move"}t.preventDefault()}function U(t,e,i){t.addEventListener(e,i,I)}function V(t,e,i){t.removeEventListener(e,i,I)}function G(t,e,i){if(t){if(t.classList){t.classList[i?"add":"remove"](e)}else{var n=(" "+t.className+" ").replace(_," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(_," ")}}}function X(t,e,i){var n=t&&t.style;if(n){if(i===void 0){if(T.defaultView&&T.defaultView.getComputedStyle){i=T.defaultView.getComputedStyle(t,"")}else if(t.currentStyle){i=t.currentStyle}return e===void 0?i:i[e]}else{if(!(e in n)){e="-webkit-"+e}n[e]=i+(typeof i==="string"?"":"px")}}}function K(t,e,i){if(t){var n=t.getElementsByTagName(e),r=0,s=n.length;if(i){for(;r<s;r++){i(n[r],r)}}return n}return[]}function Q(t,e,i,n,s,o,a,l){t=t||e[k];var h=T.createEvent("Event"),u=t.options,c="on"+i.charAt(0).toUpperCase()+i.substr(1);h.initEvent(i,true,true);h.to=s||e;h.from=o||e;h.item=n||e;h.clone=r;h.oldIndex=a;h.newIndex=l;e.dispatchEvent(h);if(u[c]){u[c].call(t,h)}}function Z(t,e,i,n,r,s,o,a){var l,h=t[k],u=h.options.onMove,c;l=T.createEvent("Event");l.initEvent("move",true,true);l.to=e;l.from=t;l.dragged=i;l.draggedRect=n;l.related=r||e;l.relatedRect=s||e.getBoundingClientRect();l.willInsertAfter=a;t.dispatchEvent(l);if(u){c=u.call(h,l,o)}return c}function J(t){t.draggable=false}function tt(){R=false}function et(t,e){var i=t.lastElementChild,n=i.getBoundingClientRect();return e.clientY-(n.top+n.height)>5||e.clientX-(n.left+n.width)>5}function it(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;while(i--){n+=e.charCodeAt(i)}return n.toString(36)}function nt(t,e){var i=0;if(!t||!t.parentNode){return-1}while(t&&(t=t.previousElementSibling)){if(t.nodeName.toUpperCase()!=="TEMPLATE"&&(e===">*"||rt(t,e))){i++}}return i}function rt(t,e){if(t){e=e.split(".");var i=e.shift().toUpperCase(),n=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return(i===""||t.nodeName.toUpperCase()==i)&&(!e.length||((" "+t.className+" ").match(n)||[]).length==e.length)}return false}function st(t,e){var i,n;return function(){if(i===void 0){i=arguments;n=this;M(function(){if(i.length===1){t.call(n,i[0])}else{t.apply(n,i)}i=void 0},e)}}}function ot(t,e){if(t&&e){for(var i in e){if(e.hasOwnProperty(i)){t[i]=e[i]}}}return t}function at(t){if(E&&E.dom){return E.dom(t).cloneNode(true)}else if(P){return P(t).clone(true)[0]}else{return t.cloneNode(true)}}function lt(t){var e=t.getElementsByTagName("input");var i=e.length;while(i--){var n=e[i];n.checked&&$.push(n)}}function ht(t){return M(t,0)}function ut(t){return clearTimeout(t)}U(T,"touchmove",function(t){if(B.active){t.preventDefault()}});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){I={capture:false,passive:false}}}))}catch(t){}B.utils={on:U,off:V,css:X,find:K,is:function(t,e){return!!j(t,e,t)},extend:ot,throttle:st,closest:j,toggleClass:G,clone:at,index:nt,nextTick:ht,cancelNextTick:ut};B.create=function(t,e){return new B(t,e)};B.version="1.6.1";return B});(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else{t(jQuery)}})(function(t){t.ui=t.ui||{};var e=t.ui.version="1.12.1";var i=0;var n=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,s;for(s=0;(r=i[s])!=null;s++){try{n=t._data(r,"events");if(n&&n.remove){t(r).triggerHandler("remove")}}catch(t){}}e(i)}}(t.cleanData);t.widget=function(e,i,n){var r,s,o;var a={};var l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;if(!n){n=i;i=t.Widget}if(t.isArray(n)){n=t.extend.apply(null,[{}].concat(n))}t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)};t[l]=t[l]||{};r=t[l][e];s=t[l][e]=function(t,e){if(!this._createWidget){return new s(t,e)}if(arguments.length){this._createWidget(t,e)}};t.extend(s,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]});o=new i;o.options=t.widget.extend({},o.options);t.each(n,function(e,n){if(!t.isFunction(n)){a[e]=n;return}a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e=this._super;var i=this._superApply;var s;this._super=t;this._superApply=r;s=n.apply(this,arguments);this._super=e;this._superApply=i;return s}}()});s.prototype=t.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix||e:e},a,{constructor:s,namespace:l,widgetName:e,widgetFullName:h});if(r){t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)});delete r._childConstructors}else{i._childConstructors.push(s)}t.widget.bridge(e,s);return s};t.widget.extend=function(e){var i=n.call(arguments,1);var r=0;var s=i.length;var o;var a;for(;r<s;r++){for(o in i[r]){a=i[r][o];if(i[r].hasOwnProperty(o)&&a!==undefined){if(t.isPlainObject(a)){e[o]=t.isPlainObject(e[o])?t.widget.extend({},e[o],a):t.widget.extend({},a)}else{e[o]=a}}}}return e};t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(s){var o=typeof s==="string";var a=n.call(arguments,1);var l=this;if(o){if(!this.length&&s==="instance"){l=undefined}else{this.each(function(){var i;var n=t.data(this,r);if(s==="instance"){l=n;return false}if(!n){return t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+s+"'")}if(!t.isFunction(n[s])||s.charAt(0)==="_"){return t.error("no such method '"+s+"' for "+e+" widget instance")}i=n[s].apply(n,a);if(i!==n&&i!==undefined){l=i&&i.jquery?l.pushStack(i.get()):i;return false}})}}else{if(a.length){s=t.widget.extend.apply(null,[s].concat(a))}this.each(function(){var e=t.data(this,r);if(e){e.option(s||{});if(e._init){e._init()}}else{t.data(this,r,new i(s,this))}})}return l}};t.Widget=function(){};t.Widget._childConstructors=[];t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0];this.element=t(n);this.uuid=i++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=t();this.hoverable=t();this.focusable=t();this.classesElementLookup={};if(n!==this){t.data(n,this.widgetFullName,this);this._on(true,this.element,{remove:function(t){if(t.target===n){this.destroy()}}});this.document=t(n.style?n.ownerDocument:n.document||n);this.window=t(this.document[0].defaultView||this.document[0].parentWindow)}this.options=t.widget.extend({},this.options,this._getCreateOptions(),e);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled)}this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy();t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n=e;var r;var s;var o;if(arguments.length===0){return t.widget.extend({},this.options)}if(typeof e==="string"){n={};r=e.split(".");e=r.shift();if(r.length){s=n[e]=t.widget.extend({},this.options[e]);for(o=0;o<r.length-1;o++){s[r[o]]=s[r[o]]||{};s=s[r[o]]}e=r.pop();if(arguments.length===1){return s[e]===undefined?null:s[e]}s[e]=i}else{if(arguments.length===1){return this.options[e]===undefined?null:this.options[e]}n[e]=i}}this._setOptions(n);return this},_setOptions:function(t){var e;for(e in t){this._setOption(e,t[e])}return this},_setOption:function(t,e){if(t==="classes"){this._setOptionClasses(e)}this.options[t]=e;if(t==="disabled"){this._setOptionDisabled(e)}return this},_setOptionClasses:function(e){var i,n,r;for(i in e){r=this.classesElementLookup[i];if(e[i]===this.options.classes[i]||!r||!r.length){continue}n=t(r.get());this._removeClass(r,i);n.addClass(this._classes({element:n,keys:i,classes:e,add:true}))}},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t);if(t){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(e){var i=[];var n=this;e=t.extend({element:this.element,classes:this.options.classes||{}},e);function r(r,s){var o,a;for(a=0;a<r.length;a++){o=n.classesElementLookup[r[a]]||t();if(e.add){o=t(t.unique(o.get().concat(e.element.get())))}else{o=t(o.not(e.element).get())}n.classesElementLookup[r[a]]=o;i.push(r[a]);if(s&&e.classes[r[a]]){i.push(e.classes[r[a]])}}}this._on(e.element,{remove:"_untrackClassesElement"});if(e.keys){r(e.keys.match(/\S+/g)||[],true)}if(e.extra){r(e.extra.match(/\S+/g)||[])}return i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,r){if(t.inArray(e.target,r)!==-1){i.classesElementLookup[n]=t(r.not(e.target).get())}})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,false)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,true)},_toggleClass:function(t,e,i,n){n=typeof n==="boolean"?n:i;var r=typeof t==="string"||t===null,s={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};s.element.toggleClass(this._classes(s),n);return this},_on:function(e,i,n){var r;var s=this;if(typeof e!=="boolean"){n=i;i=e;e=false}if(!n){n=i;i=this.element;r=this.widget()}else{i=r=t(i);this.bindings=this.bindings.add(i)}t.each(n,function(n,o){function a(){if(!e&&(s.options.disabled===true||t(this).hasClass("ui-state-disabled"))){return}return(typeof o==="string"?s[o]:o).apply(s,arguments)}if(typeof o!=="string"){a.guid=o.guid=o.guid||a.guid||t.guid++}var l=n.match(/^([\w:-]*)\s*(.*)$/);var h=l[1]+s.eventNamespace;var u=l[2];if(u){r.on(h,u,a)}else{i.on(h,a)}})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.off(i).off(i);this.bindings=t(this.bindings.not(e).get());this.focusable=t(this.focusable.not(e).get());this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return(typeof t==="string"?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,s;var o=this.options[e];n=n||{};i=t.Event(i);i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();i.target=this.element[0];s=i.originalEvent;if(s){for(r in s){if(!(r in i)){i[r]=s[r]}}}this.element.trigger(i,n);return!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===false||i.isDefaultPrevented())}};t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,s){if(typeof r==="string"){r={effect:r}}var o;var a=!r?e:r===true||typeof r==="number"?i:r.effect||i;r=r||{};if(typeof r==="number"){r={duration:r}}o=!t.isEmptyObject(r);r.complete=s;if(r.delay){n.delay(r.delay)}if(o&&t.effects&&t.effects.effect[a]){n[e](r)}else if(a!==e&&n[a]){n[a](r.duration,r.easing,s)}else{n.queue(function(i){t(this)[e]();if(s){s.call(n[0])}i()})}}});var r=t.widget;var s=t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}});var o=t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var a=t.fn.scrollParent=function(e){var i=this.css("position"),n=i==="absolute",r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);if(n&&e.css("position")==="static"){return false}return r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return i==="fixed"||!s.length?t(this[0].ownerDocument||document):s};var l=t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var h=false;t(document).on("mouseup",function(){h=false});var u=t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){if(true===t.data(i.target,e.widgetName+".preventClickEvent")){t.removeData(i.target,e.widgetName+".preventClickEvent");i.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(e){if(h){return}this._mouseMoved=false;this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var i=this,n=e.which===1,r=typeof this.options.cancel==="string"&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:false;if(!n||r||!this._mouseCapture(e)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==false;if(!this._mouseStarted){e.preventDefault();return true}}if(true===t.data(e.target,this.widgetName+".preventClickEvent")){t.removeData(e.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(t){return i._mouseMove(t)};this._mouseUpDelegate=function(t){return i._mouseUp(t)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();h=true;return true},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button){return this._mouseUp(e)}else if(!e.which){if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey){this.ignoreMissingWhich=true}else if(!this.ignoreMissingWhich){return this._mouseUp(e)}}}if(e.which||e.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false;this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)}return!this._mouseStarted},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(e.target===this._mouseDownEvent.target){t.data(e.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(e)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;h=false;e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});var c=t.ui.plugin={add:function(e,i,n){var r,s=t.ui[e].prototype;for(r in n){s.plugins[r]=s.plugins[r]||[];s.plugins[r].push([i,n[r]])}},call:function(t,e,i,n){var r,s=t.plugins[e];if(!s){return}if(!n&&(!t.element[0].parentNode||t.element[0].parentNode.nodeType===11)){return}for(r=0;r<s.length;r++){if(t.options[s[r][0]]){s[r][1].apply(t.element,i)}}}};var d=t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}if(!e){e=t.body}if(!e.nodeName){e=t.body}return e};var f=t.ui.safeBlur=function(e){if(e&&e.nodeName.toLowerCase()!=="body"){t(e).trigger("blur")}};t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this._addClass("ui-draggable")}this._setHandleClassName();this._mouseInit()},_setOption:function(t,e){this._super(t,e);if(t==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;if(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(e);if(!this.handle){return false}this._blurActiveElement(e);this._blockFrames(i.iframeFix===true?"iframe":i.iframeFix);return true},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),n=t(e.target);if(n.closest(i).length){return}t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;this.helper=this._createHelper(e);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if(t.ui.ddmanager){t.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return t(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(e);this.originalPosition=this.position=this._generatePosition(e,false);this.originalPageX=e.pageX;this.originalPageY=e.pageY;i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt);this._setContainment();if(this._trigger("start",e)===false){this._clear();return false}this._cacheHelperProportions();if(t.ui.ddmanager&&!i.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}this._mouseDrag(e,true);if(t.ui.ddmanager){t.ui.ddmanager.dragStart(this,e)}return true},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(e,true);this.positionAbs=this._convertPositionTo("absolute");if(!i){var n=this._uiHash();if(this._trigger("drag",e,n)===false){this._mouseUp(new t.Event("mouseup",e));return false}this.position=n.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(t.ui.ddmanager){t.ui.ddmanager.drag(this,e)}return false},_mouseStop:function(e){var i=this,n=false;if(t.ui.ddmanager&&!this.options.dropBehaviour){n=t.ui.ddmanager.drop(this,e)}if(this.dropped){n=this.dropped;this.dropped=false}if(this.options.revert==="invalid"&&!n||this.options.revert==="valid"&&n||this.options.revert===true||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(i._trigger("stop",e)!==false){i._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(e){this._unblockFrames();if(t.ui.ddmanager){t.ui.ddmanager.dragStop(this,e)}if(this.handleElement.is(e.target)){this.element.trigger("focus")}return t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new t.Event("mouseup",{target:this.element[0]}))}else{this._clear()}return this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),r=n?t(i.helper.apply(this.element[0],[e])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!r.parents("body").length){r.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo)}if(n&&r[0]===this.element[0]){this._setPositionRelative()}if(r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))){r.css("position","absolute")}return r},_setPositionRelative:function(){if(!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(t.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(!e?this.scrollParent.scrollTop():0),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(!e?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,s=this.document[0];this.relativeContainer=null;if(!r.containment){this.containment=null;return}if(r.containment==="window"){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment==="document"){this.containment=[0,0,t(s).width()-this.helperProportions.width-this.margins.left,(t(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}if(r.containment==="parent"){r.containment=this.helper[0].parentNode}i=t(r.containment);n=i[0];if(!n){return}e=/(scroll|auto)/.test(i.css("overflow"));this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=i},_convertPositionTo:function(t,e){if(!e){e=this.position}var i=t==="absolute"?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-(this.cssPosition==="fixed"?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-(this.cssPosition==="fixed"?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;if(!a||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(e){if(this.containment){if(this.relativeContainer){n=this.relativeContainer.offset();i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]}else{i=this.containment}if(t.pageX-this.offset.click.left<i[0]){l=i[0]+this.offset.click.left}if(t.pageY-this.offset.click.top<i[1]){h=i[1]+this.offset.click.top}if(t.pageX-this.offset.click.left>i[2]){l=i[2]+this.offset.click.left}if(t.pageY-this.offset.click.top>i[3]){h=i[3]+this.offset.click.top}}if(o.grid){r=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;h=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r;s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s}if(o.axis==="y"){l=this.originalPageX}if(o.axis==="x"){h=this.originalPageY}}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_trigger:function(e,i,n){n=n||this._uiHash();t.ui.plugin.call(this,e,[i,n,this],true);if(/^(drag|start|stop)/.test(e)){this.positionAbs=this._convertPositionTo("absolute");n.offset=this.positionAbs}return t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[];t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");if(i&&!i.options.disabled){n.sortables.push(i);i.refreshPositions();i._trigger("activate",e,r)}})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=false;t.each(n.sortables,function(){var t=this;if(t.isOver){t.isOver=0;n.cancelHelperRemoval=true;t.cancelHelperRemoval=false;t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")};t._mouseStop(e);t.options.helper=t.options._helper}else{t.cancelHelperRemoval=true;t._trigger("deactivate",e,r)}})},drag:function(e,i,n){t.each(n.sortables,function(){var r=false,s=this;s.positionAbs=n.positionAbs;s.helperProportions=n.helperProportions;s.offset.click=n.offset.click;if(s._intersectsWith(s.containerCache)){r=true;t.each(n.sortables,function(){this.positionAbs=n.positionAbs;this.helperProportions=n.helperProportions;this.offset.click=n.offset.click;if(this!==s&&this._intersectsWith(this.containerCache)&&t.contains(s.element[0],this.element[0])){r=false}return r})}if(r){if(!s.isOver){s.isOver=1;n._parent=i.helper.parent();s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",true);s.options._helper=s.options.helper;s.options.helper=function(){return i.helper[0]};e.target=s.currentItem[0];s._mouseCapture(e,true);s._mouseStart(e,true,true);s.offset.click.top=n.offset.click.top;s.offset.click.left=n.offset.click.left;s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left;s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top;n._trigger("toSortable",e);n.dropped=s.element;t.each(n.sortables,function(){this.refreshPositions()});n.currentItem=n.element;s.fromOutside=n}if(s.currentItem){s._mouseDrag(e);i.position=s.position}}else{if(s.isOver){s.isOver=0;s.cancelHelperRemoval=true;s.options._revert=s.options.revert;s.options.revert=false;s._trigger("out",e,s._uiHash(s));s._mouseStop(e,true);s.options.revert=s.options._revert;s.options.helper=s.options._helper;if(s.placeholder){s.placeholder.remove()}i.helper.appendTo(n._parent);n._refreshOffsets(e);i.position=n._generatePosition(e,true);n._trigger("fromSortable",e);n.dropped=false;t.each(n.sortables,function(){this.refreshPositions()})}}})}});t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),s=n.options;if(r.css("cursor")){s._cursor=r.css("cursor")}r.css("cursor",s.cursor)},stop:function(e,i,n){var r=n.options;if(r._cursor){t("body").css("cursor",r._cursor)}}});t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),s=n.options;if(r.css("opacity")){s._opacity=r.css("opacity")}r.css("opacity",s.opacity)},stop:function(e,i,n){var r=n.options;if(r._opacity){t(i.helper).css("opacity",r._opacity)}}});t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false)}if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"){i.overflowOffset=i.scrollParentNotHidden.offset()}},drag:function(e,i,n){var r=n.options,s=false,o=n.scrollParentNotHidden[0],a=n.document[0];if(o!==a&&o.tagName!=="HTML"){if(!r.axis||r.axis!=="x"){if(n.overflowOffset.top+o.offsetHeight-e.pageY<r.scrollSensitivity){o.scrollTop=s=o.scrollTop+r.scrollSpeed}else if(e.pageY-n.overflowOffset.top<r.scrollSensitivity){o.scrollTop=s=o.scrollTop-r.scrollSpeed}}if(!r.axis||r.axis!=="y"){if(n.overflowOffset.left+o.offsetWidth-e.pageX<r.scrollSensitivity){o.scrollLeft=s=o.scrollLeft+r.scrollSpeed}else if(e.pageX-n.overflowOffset.left<r.scrollSensitivity){o.scrollLeft=s=o.scrollLeft-r.scrollSpeed}}}else{if(!r.axis||r.axis!=="x"){if(e.pageY-t(a).scrollTop()<r.scrollSensitivity){s=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed)}else if(t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity){s=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed)}}if(!r.axis||r.axis!=="y"){if(e.pageX-t(a).scrollLeft()<r.scrollSensitivity){s=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed)}else if(t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity){s=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)}}}if(s!==false&&t.ui.ddmanager&&!r.dropBehaviour){t.ui.ddmanager.prepareOffsets(n,e)}}});t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[];t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),i=e.offset();if(this!==n.element[0]){n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})}})},drag:function(e,i,n){var r,s,o,a,l,h,u,c,d,f,p=n.options,g=p.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--){l=n.snapElements[d].left-n.margins.left;h=l+n.snapElements[d].width;u=n.snapElements[d].top-n.margins.top;c=u+n.snapElements[d].height;if(v<l-g||m>h+g||b<u-g||y>c+g||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)){if(n.snapElements[d].snapping){n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item}))}n.snapElements[d].snapping=false;continue}if(p.snapMode!=="inner"){r=Math.abs(u-b)<=g;s=Math.abs(c-y)<=g;o=Math.abs(l-v)<=g;a=Math.abs(h-m)<=g;if(r){i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top}if(s){i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top}if(o){i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left}if(a){i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left}}f=r||s||o||a;if(p.snapMode!=="outer"){r=Math.abs(u-y)<=g;s=Math.abs(c-b)<=g;o=Math.abs(l-m)<=g;a=Math.abs(h-v)<=g;if(r){i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top}if(s){i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top}if(o){i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left}if(a){i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left}}if(!n.snapElements[d].snapping&&(r||s||o||a||f)){n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item}))}n.snapElements[d].snapping=r||s||o||a||f}}});t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,s=n.options,o=t.makeArray(t(s.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(!o.length){return}r=parseInt(t(o[0]).css("zIndex"),10)||0;t(o).each(function(e){t(this).css("zIndex",r+e)});this.css("zIndex",r+o.length)}});t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),s=n.options;if(r.css("zIndex")){s._zIndex=r.css("zIndex")}r.css("zIndex",s.zIndex)},stop:function(e,i,n){var r=n.options;if(r._zIndex){t(i.helper).css("zIndex",r._zIndex)}}});var p=t.ui.draggable;t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=false;this.isout=true;this.accept=t.isFunction(n)?n:function(t){return t.is(n)};this.proportions=function(){if(arguments.length){e=arguments[0]}else{return e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};this._addToManager(i.scope);i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[];t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){var e=0;for(;e<t.length;e++){if(t[e]===this){t.splice(e,1)}}},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if(e==="accept"){this.accept=t.isFunction(i)?i:function(t){return t.is(i)}}else if(e==="scope"){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n);this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass();if(i){this._trigger("activate",e,this.ui(i))}},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass();if(i){this._trigger("deactivate",e,this.ui(i))}},_over:function(e){var i=t.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],i.currentItem||i.element)){this._addHoverClass();this._trigger("over",e,this.ui(i))}},_out:function(e){var i=t.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],i.currentItem||i.element)){this._removeHoverClass();this._trigger("out",e,this.ui(i))}},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=false;if(!n||(n.currentItem||n.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&g(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)){r=true;return false}});if(r){return false}if(this.accept.call(this.element[0],n.currentItem||n.element)){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",e,this.ui(n));return this.element}return false},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var g=t.ui.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,n,r){if(!i.offset){return false}var s=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=s+e.helperProportions.width,l=o+e.helperProportions.height,h=i.offset.left,u=i.offset.top,c=h+i.proportions().width,d=u+i.proportions().height;switch(n){case"fit":return h<=s&&a<=c&&u<=o&&l<=d;case"intersect":return h<s+e.helperProportions.width/2&&a-e.helperProportions.width/2<c&&u<o+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(r.pageY,u,i.proportions().height)&&t(r.pageX,h,i.proportions().width);case"touch":return(o>=u&&o<=d||l>=u&&l<=d||o<u&&l>d)&&(s>=h&&s<=c||a>=h&&a<=c||s<h&&a>c);default:return false}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,r,s=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<s.length;n++){if(s[n].options.disabled||e&&!s[n].accept.call(s[n].element[0],e.currentItem||e.element)){continue}for(r=0;r<a.length;r++){if(a[r]===s[n].element[0]){s[n].proportions().height=0;continue t}}s[n].visible=s[n].element.css("display")!=="none";if(!s[n].visible){continue}if(o==="mousedown"){s[n]._activate.call(s[n],i)}s[n].offset=s[n].element.offset();s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight})}},drop:function(e,i){var n=false;t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&g(e,this,this.options.tolerance,i)){n=this._drop.call(this,i)||n}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)){this.isout=true;this.isover=false;this._deactivate.call(this,i)}});return n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){if(!e.options.refreshPositions){t.ui.ddmanager.prepareOffsets(e,i)}})},drag:function(e,i){if(e.options.refreshPositions){t.ui.ddmanager.prepareOffsets(e,i)}t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var n,r,s,o=g(e,this,this.options.tolerance,i),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;if(!a){return}if(this.options.greedy){r=this.options.scope;s=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r});if(s.length){n=t(s[0]).droppable("instance");n.greedyChild=a==="isover"}}if(n&&a==="isover"){n.isover=false;n.isout=true;n._out.call(n,i)}this[a]=true;this[a==="isout"?"isover":"isout"]=false;this[a==="isover"?"_over":"_out"].call(this,i);if(n&&a==="isout"){n.isout=false;n.isover=true;n._over.call(n,i)}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable");if(!e.options.refreshPositions){t.ui.ddmanager.prepareOffsets(e,i)}}};if(t.uiBackCompat!==false){t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass)}},_removeActiveClass:function(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}},_addHoverClass:function(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}},_removeHoverClass:function(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}}})}var m=t.ui.droppable;t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if(t(e).css("overflow")==="hidden"){return false}var n=i&&i==="left"?"scrollLeft":"scrollTop",r=false;if(e[n]>0){return true}e[n]=1;r=e[n]>0;e[n]=0;return r},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable");t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(e);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(e);this._proportionallyResize()}this._setupHandles();if(i.autoHide){t(this.element).on("mouseenter",function(){if(i.disabled){return}n._removeClass("ui-resizable-autohide");n._handles.show()}).on("mouseleave",function(){if(i.disabled){return}if(!n.resizing){n._addClass("ui-resizable-autohide");n._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){i(this.element);e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e);e.remove()}this.originalElement.css("resize",this.originalResizeStyle);i(this.originalElement);return this},_setOption:function(t,e){this._super(t,e);switch(t){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var e=this.options,i,n,r,s,o,a=this;this.handles=e.handles||(!t(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=t();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}r=this.handles.split(",");this.handles={};for(n=0;n<r.length;n++){i=t.trim(r[n]);s="ui-resizable-"+i;o=t("<div>");this._addClass(o,"ui-resizable-handle "+s);o.css({zIndex:e.zIndex});this.handles[i]=".ui-resizable-"+i;this.element.append(o)}}this._renderAxis=function(e){var i,n,r,s;e=e||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show()}else if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=t(this.handles[i]);this._on(this.handles[i],{mousedown:a._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){n=t(this.handles[i],this.element);s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");e.css(r,s);this._proportionallyResize()}this._handles=this._handles.add(this.handles[i])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!a.resizing){if(this.className){o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}a.axis=o&&o[1]?o[1]:"se"}});if(e.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,r=false;for(i in this.handles){n=t(this.handles[i])[0];if(n===e.target||t.contains(n,e.target)){r=true}}return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,s=this.options,o=this.element;this.resizing=true;this._renderProxy();i=this._num(this.helper.css("left"));n=this._num(this.helper.css("top"));if(s.containment){i+=t(s.containment).scrollLeft()||0;n+=t(s.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:i,top:n};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()};this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()};this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()};this.originalPosition={left:i,top:n};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof s.aspectRatio==="number"?s.aspectRatio:this.originalSize.width/this.originalSize.height||1;r=t(".ui-resizable-"+this.axis).css("cursor");t("body").css("cursor",r==="auto"?this.axis+"-resize":r);this._addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,s=this.axis,o=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[s];this._updatePrevProperties();if(!l){return false}i=l.apply(this,[e,o,a]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){i=this._updateRatio(i,e)}i=this._respectSize(i,e);this._updateCache(i);this._propagate("resize",e);n=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!t.isEmptyObject(n)){this._updatePrevProperties();this._trigger("resize",e,this.ui());this._applyChanges()}return false},_mouseStop:function(e){this.resizing=false;var i,n,r,s,o,a,l,h=this.options,u=this;if(this._helper){i=this._proportionallyResizeElements;n=i.length&&/textarea/i.test(i[0].nodeName);r=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height;s=n?0:u.sizeDiff.width;o={width:u.helper.width()-s,height:u.helper.height()-r};a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null;l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null;if(!h.animate){this.element.css(t.extend(o,{top:l,left:a}))}u.helper.height(u.size.height);u.helper.width(u.size.width);if(this._helper&&!h.animate){this._proportionallyResize()}}t("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",e);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};if(this.position.top!==this.prevPosition.top){t.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){t.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){t.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){t.height=this.size.height+"px"}this.helper.css(t);return t},_updateVirtualBoundaries:function(t){var e,i,n,r,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||t){e=s.minHeight*this.aspectRatio;n=s.minWidth/this.aspectRatio;i=s.maxHeight*this.aspectRatio;r=s.maxWidth/this.aspectRatio;if(e>s.minWidth){s.minWidth=e}if(n>s.minHeight){s.minHeight=n}if(i<s.maxWidth){s.maxWidth=i}if(r<s.maxHeight){s.maxHeight=r}}this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset();if(this._isNumber(t.left)){this.position.left=t.left}if(this._isNumber(t.top)){this.position.top=t.top}if(this._isNumber(t.height)){this.size.height=t.height}if(this._isNumber(t.width)){this.size.width=t.width}},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;if(this._isNumber(t.height)){t.width=t.height*this.aspectRatio}else if(this._isNumber(t.width)){t.height=t.width/this.aspectRatio}if(n==="sw"){t.left=e.left+(i.width-t.width);t.top=null}if(n==="nw"){t.top=e.top+(i.height-t.height);t.left=e.left+(i.width-t.width)}return t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);if(s){t.width=e.minWidth}if(o){t.height=e.minHeight}if(n){t.width=e.maxWidth}if(r){t.height=e.maxHeight}if(s&&h){t.left=a-e.minWidth}if(n&&h){t.left=a-e.maxWidth}if(o&&u){t.top=l-e.minHeight}if(r&&u){t.top=l-e.maxHeight}if(!t.width&&!t.height&&!t.left&&t.top){t.top=null}else if(!t.width&&!t.height&&!t.top&&t.left){t.left=null}return t},_getPaddingPlusBorderDimensions:function(t){var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];for(;e<4;e++){i[e]=parseFloat(n[e])||0;i[e]+=parseFloat(r[e])||0}return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var t,e=0,i=this.helper||this.element;for(;e<this._proportionallyResizeElements.length;e++){t=this._proportionallyResizeElements[e];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(t)}t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||t("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]);e!=="resize"&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),o=s&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},h=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,u=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&h?{top:u,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};if(r&&r.length){t(r[0]).css({width:n.width,height:n.height})}i._updateCache(n);i._propagate("resize",e)}})}});t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,s,o,a,l=t(this).resizable("instance"),h=l.options,u=l.element,c=h.containment,d=c instanceof t?c.get(0):/parent/.test(c)?u.parent().get(0):c;if(!d){return}l.containerElement=t(d);if(/document/.test(c)||c===document){l.containerOffset={left:0,top:0};l.containerPosition={left:0,top:0};l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}}else{e=t(d);i=[];t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))});l.containerOffset=e.offset();l.containerPosition=e.position();l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]};n=l.containerOffset;r=l.containerSize.height;s=l.containerSize.width;o=l._hasScroll(d,"left")?d.scrollWidth:s;a=l._hasScroll(d)?d.scrollHeight:r;l.parentData={element:d,left:n.left,top:n.top,width:o,height:a}}},resize:function(e){var i,n,r,s,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,h=o.position,u=o._aspectRatio||e.shiftKey,c={top:0,left:0},d=o.containerElement,f=true;if(d[0]!==document&&/static/.test(d.css("position"))){c=l}if(h.left<(o._helper?l.left:0)){o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-c.left);if(u){o.size.height=o.size.width/o.aspectRatio;f=false}o.position.left=a.helper?l.left:0}if(h.top<(o._helper?l.top:0)){o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top);if(u){o.size.width=o.size.height*o.aspectRatio;f=false}o.position.top=o._helper?l.top:0}r=o.containerElement.get(0)===o.element.parent().get(0);s=/relative|absolute/.test(o.containerElement.css("position"));if(r&&s){o.offset.left=o.parentData.left+o.position.left;o.offset.top=o.parentData.top+o.position.top}else{o.offset.left=o.element.offset().left;o.offset.top=o.element.offset().top}i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-l.left));n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-l.top));if(i+o.size.width>=o.parentData.width){o.size.width=o.parentData.width-i;if(u){o.size.height=o.size.width/o.aspectRatio;f=false}}if(n+o.size.height>=o.parentData.height){o.size.height=o.parentData.height-n;if(u){o.size.width=o.size.height*o.aspectRatio;f=false}}if(!f){o.position.left=o.prevPosition.left;o.position.top=o.prevPosition.top;o.size.width=o.prevSize.width;o.size.height=o.prevSize.height}},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,s=e.containerElement,o=t(e.helper),a=o.offset(),l=o.outerWidth()-e.sizeDiff.width,h=o.outerHeight()-e.sizeDiff.height;if(e._helper&&!i.animate&&/relative/.test(s.css("position"))){t(this).css({left:a.left-r.left-n.left,width:l,height:h})}if(e._helper&&!i.animate&&/static/.test(s.css("position"))){t(this).css({left:a.left-r.left-n.left,width:l,height:h})}}});t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,s=n.originalSize,o=n.originalPosition,a={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};t(r.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),r={},s=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var i=(n[e]||0)+(a[e]||0);if(i&&i>=0){r[e]=i||null}});e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}});t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0});e._addClass(e.ghost,"ui-resizable-ghost");if(t.uiBackCompat!==false&&typeof e.options.ghost==="string"){e.ghost.addClass(this.options.ghost)}e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(){var e=t(this).resizable("instance");if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,s=i.originalSize,o=i.originalPosition,a=i.axis,l=typeof n.grid==="number"?[n.grid,n.grid]:n.grid,h=l[0]||1,u=l[1]||1,c=Math.round((r.width-s.width)/h)*h,d=Math.round((r.height-s.height)/u)*u,f=s.width+c,p=s.height+d,g=n.maxWidth&&n.maxWidth<f,m=n.maxHeight&&n.maxHeight<p,v=n.minWidth&&n.minWidth>f,y=n.minHeight&&n.minHeight>p;n.grid=l;if(v){f+=h}if(y){p+=u}if(g){f-=h}if(m){p-=u}if(/^(se|s|e)$/.test(a)){i.size.width=f;i.size.height=p}else if(/^(ne)$/.test(a)){i.size.width=f;i.size.height=p;i.position.top=o.top-d}else if(/^(sw)$/.test(a)){i.size.width=f;i.size.height=p;i.position.left=o.left-c}else{if(p-u<=0||f-h<=0){e=i._getPaddingPlusBorderDimensions(this)}if(p-u>0){i.size.height=p;i.position.top=o.top-d}else{p=u-e.height;i.size.height=p;i.position.top=o.top+s.height-p}if(f-h>0){i.size.width=f;i.position.left=o.left-c}else{f=h-e.width;i.size.width=f;i.position.left=o.left+s.width-f}}}});var v=t.ui.resizable;var y=t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){e.elementPos=t(e.element[0]).offset();e.selectees=t(e.options.filter,e.element[0]);e._addClass(e.selectees,"ui-selectee");e.selectees.each(function(){var i=t(this),n=i.offset(),r={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:false,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=t("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY];this.elementPos=t(this.element[0]).offset();if(this.options.disabled){return}this.selectees=t(n.filter,this.element[0]);this._trigger("start",e);t(n.appendTo).append(this.helper);this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0});if(n.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=true;if(!e.metaKey&&!e.ctrlKey){i._removeClass(n.$element,"ui-selected");n.selected=false;i._addClass(n.$element,"ui-unselecting");n.unselecting=true;i._trigger("unselecting",e,{unselecting:n.element})}});t(e.target).parents().addBack().each(function(){var n,r=t.data(this,"selectable-item");if(r){n=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected");i._removeClass(r.$element,n?"ui-unselecting":"ui-selected")._addClass(r.$element,n?"ui-selecting":"ui-unselecting");r.unselecting=!n;r.selecting=n;r.selected=n;if(n){i._trigger("selecting",e,{selecting:r.element})}else{i._trigger("unselecting",e,{unselecting:r.element})}return false}})},_mouseDrag:function(e){this.dragged=true;if(this.options.disabled){return}var i,n=this,r=this.options,s=this.opos[0],o=this.opos[1],a=e.pageX,l=e.pageY;if(s>a){i=a;a=s;s=i}if(o>l){i=l;l=o;o=i}this.helper.css({left:s,top:o,width:a-s,height:l-o});this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=false,u={};if(!i||i.element===n.element[0]){return}u.left=i.left+n.elementPos.left;u.right=i.right+n.elementPos.left;u.top=i.top+n.elementPos.top;u.bottom=i.bottom+n.elementPos.top;if(r.tolerance==="touch"){h=!(u.left>a||u.right<s||u.top>l||u.bottom<o)}else if(r.tolerance==="fit"){h=u.left>s&&u.right<a&&u.top>o&&u.bottom<l}if(h){if(i.selected){n._removeClass(i.$element,"ui-selected");i.selected=false}if(i.unselecting){n._removeClass(i.$element,"ui-unselecting");i.unselecting=false}if(!i.selecting){n._addClass(i.$element,"ui-selecting");i.selecting=true;n._trigger("selecting",e,{selecting:i.element})}}else{if(i.selecting){if((e.metaKey||e.ctrlKey)&&i.startselected){n._removeClass(i.$element,"ui-selecting");i.selecting=false;n._addClass(i.$element,"ui-selected");i.selected=true}else{n._removeClass(i.$element,"ui-selecting");i.selecting=false;if(i.startselected){n._addClass(i.$element,"ui-unselecting");i.unselecting=true}n._trigger("unselecting",e,{unselecting:i.element})}}if(i.selected){if(!e.metaKey&&!e.ctrlKey&&!i.startselected){n._removeClass(i.$element,"ui-selected");i.selected=false;n._addClass(i.$element,"ui-unselecting");i.unselecting=true;n._trigger("unselecting",e,{unselecting:i.element})}}}});return false},_mouseStop:function(e){var i=this;this.dragged=false;t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting");n.unselecting=false;n.startselected=false;i._trigger("unselected",e,{unselected:n.element})});t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected");n.selecting=false;n.selected=true;n.startselected=true;i._trigger("selected",e,{selected:n.element})});this._trigger("stop",e);this.helper.remove();return false}});var b=t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(t,e){this._super(t,e);if(t==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--){this.items[t].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(e,i){var n=null,r=false,s=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(e);t(e.target).parents().each(function(){if(t.data(this,s.widgetName+"-item")===s){n=t(this);return false}});if(t.data(e.target,s.widgetName+"-item")===s){n=t(e.target)}if(!n){return false}if(this.options.handle&&!i){t(this.options.handle,n).find("*").addBack().each(function(){if(this===e.target){r=true}});if(!r){return false}}this.currentItem=n;this._removeCurrentsFromItems();return true},_mouseStart:function(e,i,n){var r,s,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(o.containment){this._setContainment()}if(o.cursor&&o.cursor!=="auto"){s=this.document.find("body");this.storedCursor=s.css("cursor");s.css("cursor",o.cursor);this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)}if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",o.opacity)}if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",o.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!n){for(r=this.containers.length-1;r>=0;r--){this.containers[r]._trigger("activate",e,this._uiHash(this))}}if(t.ui.ddmanager){t.ui.ddmanager.current=this}if(t.ui.ddmanager&&!o.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(e){var i,n,r,s,o=this.options,a=false;this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed}else if(e.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed}else if(e.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed}}else{if(e.pageY-this.document.scrollTop()<o.scrollSensitivity){a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed)}else if(this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity){a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)}if(e.pageX-this.document.scrollLeft()<o.scrollSensitivity){a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed)}else if(this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity){a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed)}}if(a!==false&&t.ui.ddmanager&&!o.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(i=this.items.length-1;i>=0;i--){n=this.items[i];r=n.item[0];s=this._intersectsWithPointer(n);if(!s){continue}if(n.instance!==this.currentContainer){continue}if(r!==this.currentItem[0]&&this.placeholder[s===1?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],r):true)){this.direction=s===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(n)){this._rearrange(e,n)}else{break}this._trigger("change",e,this._uiHash());break}}this._contactContainers(e);if(t.ui.ddmanager){t.ui.ddmanager.drag(this,e)}this._trigger("sort",e,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,i){if(!e){return}if(t.ui.ddmanager&&!this.options.dropBehaviour){t.ui.ddmanager.drop(this,e)}if(this.options.revert){var n=this,r=this.placeholder.offset(),s=this.options.axis,o={};if(!s||s==="x"){o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!s||s==="y"){o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else{this._clear(e,i)}return false},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}t.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){t(this.domPosition.prev).after(this.currentItem)}else{t(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];e=e||{};t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);if(i){n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}});if(!n.length&&e.key){n.push(e.key+"=")}return n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];e=e||{};i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")});return n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=t.left,o=s+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,u=this.offset.click.left,c=this.options.axis==="x"||n+h>a&&n+h<l,d=this.options.axis==="y"||e+u>s&&e+u<o,f=c&&d;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]){return f}else{return s<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l}},_intersectsWithPointer:function(t){var e,i,n=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=n&&r;if(!s){return false}e=this._getDragVerticalDirection();i=this._getDragHorizontalDirection();return this.floating?i==="right"||e==="down"?2:1:e&&(e==="down"?2:1)},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();if(this.floating&&r){return r==="right"&&i||r==="left"&&!i}else{return n&&(n==="down"&&e||n==="up"&&!e)}},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return t!==0&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return t!==0&&(t>0?"right":"left")},refresh:function(t){this._refreshItems(t);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,r,s,o=[],a=[],l=this._connectWith();if(l&&e){for(i=l.length-1;i>=0;i--){r=t(l[i],this.document[0]);for(n=r.length-1;n>=0;n--){s=t.data(r[n],this.widgetFullName);if(s&&s!==this&&!s.options.disabled){a.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}}}}a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function h(){o.push(this)}for(i=a.length-1;i>=0;i--){a[i][0].each(h)}return t(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++){if(e[i]===t.item[0]){return false}}return true})},_refreshItems:function(e){this.items=[];this.containers=[this];var i,n,r,s,o,a,l,h,u=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready){for(i=d.length-1;i>=0;i--){r=t(d[i],this.document[0]);for(n=r.length-1;n>=0;n--){s=t.data(r[n],this.widgetFullName);if(s&&s!==this&&!s.options.disabled){c.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]);this.containers.push(s)}}}}for(i=c.length-1;i>=0;i--){o=c[i][1];a=c[i][0];for(n=0,h=a.length;n<h;n++){l=t(a[n]);l.data(this.widgetName+"-item",o);u.push({item:l,instance:o,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var i,n,r,s;for(i=this.items.length-1;i>=0;i--){n=this.items[i];if(n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]){continue}r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item;if(!e){n.width=r.outerWidth();n.height=r.outerHeight()}s=r.offset();n.left=s.left;n.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(i=this.containers.length-1;i>=0;i--){s=this.containers[i].element.offset();this.containers[i].containerCache.left=s.left;this.containers[i].containerCache.top=s.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}}return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;if(!n.placeholder||n.placeholder.constructor===String){i=n.placeholder;n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]);e._addClass(r,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper");if(n==="tbody"){e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r))}else if(n==="tr"){e._createTrPlaceholder(e.currentItem,r)}else if(n==="img"){r.attr("src",e.currentItem.attr("src"))}if(!i){r.css("visibility","hidden")}return r},update:function(t,r){if(i&&!n.forcePlaceholderSize){return}if(!r.height()){r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10))}if(!r.width()){r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}}e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,r,s,o,a,l,h,u,c,d=null,f=null;for(i=this.containers.length-1;i>=0;i--){if(t.contains(this.currentItem[0],this.containers[i].element[0])){continue}if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0])){continue}d=this.containers[i];f=i}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",e,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(!d){return}if(this.containers.length===1){if(!this.containers[f].containerCache.over){this.containers[f]._trigger("over",e,this._uiHash(this));this.containers[f].containerCache.over=1}}else{r=1e4;s=null;u=d.floating||this._isFloating(this.currentItem);o=u?"left":"top";a=u?"width":"height";c=u?"pageX":"pageY";for(n=this.items.length-1;n>=0;n--){if(!t.contains(this.containers[f].element[0],this.items[n].item[0])){continue}if(this.items[n].item[0]===this.currentItem[0]){continue}l=this.items[n].item.offset()[o];h=false;if(e[c]-l>this.items[n][a]/2){h=true}if(Math.abs(e[c]-l)<r){r=Math.abs(e[c]-l);s=this.items[n];this.direction=h?"up":"down"}}if(!s&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[f]){if(!this.currentContainer.containerCache.over){this.containers[f]._trigger("over",e,this._uiHash());this.currentContainer.containerCache.over=1}return}s?this._rearrange(e,s,null,true):this._rearrange(e,null,this.containers[f].element,true);this._trigger("change",e,this._uiHash());this.containers[f]._trigger("change",e,this._uiHash(this));this.currentContainer=this.containers[f];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[f]._trigger("over",e,this._uiHash(this));this.containers[f].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):i.helper==="clone"?this.currentItem.clone():this.currentItem;if(!n.parents("body").length){t(i.appendTo!=="parent"?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0])}if(n[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!n[0].style.width||i.forceHelperSize){n.width(this.currentItem.width())}if(!n[0].style.height||i.forceHelperSize){n.height(this.currentItem.height())}return n},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(t.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;if(r.containment==="parent"){r.containment=this.helper[0].parentNode}if(r.containment==="document"||r.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,r.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(r.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(r.containment)){e=t(r.containment)[0];i=t(r.containment).offset();n=t(e).css("overflow")!=="hidden";this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,i){if(!i){i=this.position}var n=e==="absolute"?1:-1,r=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,s=e.pageX,o=e.pageY,a=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(a[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){s=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){o=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){s=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){o=this.containment[3]+this.offset.click.top}}if(r.grid){i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1];o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i;n=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0];s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){if(r===this.counter){this.refreshPositions(!n)}})},_clear:function(t,e){this.reverting=false;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]=""}}this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!e){n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!e){n.push(function(t){this._trigger("update",t,this._uiHash())})}if(this!==this.currentContainer){if(!e){n.push(function(t){this._trigger("remove",t,this._uiHash())});n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer));n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))}}function r(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}for(i=this.containers.length-1;i>=0;i--){if(!e){n.push(r("deactivate",this,this.containers[i]))}if(this.containers[i].containerCache.over){n.push(r("out",this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!e){this._trigger("beforeStop",t,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!e){for(i=0;i<n.length;i++){n[i].call(this,t)}this._trigger("stop",t,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function(){if(t.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})});(function(t){"use strict";let e=0;let i={registerform:function(){let i=t("#siteregisterform");t("#regpartnerbtn").on("click",function(n){n.preventDefault();if(e){e.abort()}e=t.ajax({type:"POST",url:"/site/register-add",data:i.serialize(),beforeSend:function(){t("#regpartnerbtn").prop("disabled",true)},success:function(e){t("#regpartnerbtn").prop("disabled",false);if(e.status==1){toastr.success("OK","Регистрация завершена");if(e.url!=""){window.location.href=e.url}else{window.location.href="/"}}else{toastr.error(e.message,"Ошибка")}},error:function(){t("#regpartnerbtn").prop("disabled",false);toastr.error("Ошибка запроса","Ошибка")}});return false})}};window.site=i})(jQuery||$);